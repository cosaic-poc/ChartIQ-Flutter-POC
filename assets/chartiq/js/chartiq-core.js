(()=>{var e,t={510:()=>{},277:()=>{},73:(e,t,i)=>{"use strict";var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y;function W(){}i.d(t,{Pz:()=>U,rx:()=>B,hM:()=>X,$$:()=>q,$I:()=>Q}),function(){var e,t="2021/12/03";if(e=new Date(t).getTime()){var i=(new Date).getTime();if(e<=i)alert("This license has expired!"),console.error("This license has expired!");else{var a=Math.round((e-i)/864e5);a<3&&(alert("This trial license expires in "+a+" days!"),console.log("WARNING: This trial license expires in "+a+" days!"))}}}(),W[301958]=function(){for(var e=2;9!==e;)switch(e){case 2:e="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 4:i="undefined"==typeof XiKLV?3:9;break;case 2:Object.defineProperty(Object.prototype,"CiLKC",{get:function(){for(;;)return this},configurable:!0}),(t=CiLKC).XiKLV=t,i=4;break;case 9:delete t.XiKLV,delete Object.prototype.CiLKC,i=6}}catch(e){t=window}return t}}(),W[454957]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function i(e,t,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[3]="defi",l[6]=4,l[6]=2;try{for(var s=2;8!==s;)switch(s){case 4:l[9].value=l[4][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[8]=l[3],l[8]+=l[1],l[8]+=l[7],l[0][0].Object[l[8]](l[4],l[0][4],l[9]),o=3}}catch(e){}l[4][l[0][4]]=l[9].value,s=8;break;case 1:l[2]=(0,l[0][1])(l[0][0]),l[4]=[l[6],l[2].prototype][l[0][3]],s=4;break;case 2:l[9]={},s=1}}catch(e){}n=6;break;case 2:var l=[arguments];l[1]="",l[7]="ty",l[1]="neProper",n=3}}for(var a=2;12!==a;)switch(a){case 14:var r=function(e,t,a,r){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];i(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=13;break;case 13:r(t,"charCodeAt",n[4],n[8]),a=12;break;case 3:n[4]=4,n[4]=1,n[8]=n[3],n[8]+=n[1],a=6;break;case 2:var n=[arguments];n[1]="x",n[3]="",n[3]="L6",a=3;break;case 6:n[8]+=n[1],a=14}}(W[301958]),W[479884]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}for(var a=2;18!==a;)switch(a){case 2:var r=[arguments];r[7]="4",r[9]="JJ",r[1]="",a=3;break;case 3:r[6]="X",r[1]="V",r[5]=1,r[8]=r[1],a=6;break;case 6:r[8]+=r[7],r[8]+=r[9],r[3]=r[6],r[3]+=r[7],a=11;break;case 11:r[3]+=r[9],a=10;break;case 20:n(t,"replace",r[5],r[3]),a=19;break;case 10:var n=function(e,t,i,a){for(var n=2;5!==n;)switch(n){case 2:var o=[arguments];s(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),n=5}};a=20;break;case 19:n(i,"map",r[5],r[8]),a=18}function s(e,t,i,a,r){for(var n=2;6!==n;)switch(n){case 2:var s=[arguments];s[2]="y",s[6]="nePropert",s[8]="",s[8]="defi",n=9;break;case 9:s[1]=5,s[1]=2;try{for(var o=2;8!==o;)switch(o){case 2:s[5]={},s[4]=(0,s[0][1])(s[0][0]),s[7]=[s[1],s[4].prototype][s[0][3]],s[5].value=s[7][s[0][2]],o=3;break;case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[9]=s[8],s[9]+=s[6],l=5;break;case 5:s[9]+=s[2],s[0][0].Object[s[9]](s[7],s[0][4],s[5]),l=3}}catch(e){}o=9;break;case 9:s[7][s[0][4]]=s[5].value,o=8}}catch(e){}n=6}}}(W[301958]),W[85052]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Function}}for(var a=2;55!==a;)switch(a){case 2:var r=[arguments];r[2]="",r[2]="__resi",r[1]="",r[4]="l",a=9;break;case 33:r[67]=0,r[33]=r[21],r[33]+=r[84],r[33]+=r[84],r[27]=r[38],r[27]+=r[73],r[27]+=r[72],a=43;break;case 14:r[6]="__a",r[9]="",r[3]="w9",r[9]="t",a=10;break;case 58:n(t,r[47],r[67],r[39]),a=57;break;case 9:r[1]="bstrac",r[7]="X9",r[5]="dua",r[6]="",a=14;break;case 59:n(t,r[99],r[67],r[79]),a=58;break;case 39:r[47]+=r[9],r[47]+=r[8],r[79]=r[62],r[79]+=r[84],r[79]+=r[84],r[99]=r[6],a=52;break;case 10:r[8]="imize",r[20]="",r[20]="__op",r[62]="i9",a=17;break;case 61:n(o,"test",r[58],r[90]),a=60;break;case 43:r[39]=r[19],r[39]+=r[73],r[39]+=r[72],r[47]=r[20],a=39;break;case 56:n(i,"apply",r[58],r[33]),a=55;break;case 22:r[84]="b",r[38]="h",r[58]=1,r[21]="z9",a=33;break;case 62:var n=function(e,t,i,a){for(var n=2;5!==n;)switch(n){case 2:var s=[arguments];n=1;break;case 1:l(r[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};a=61;break;case 57:n(s,"push",r[58],r[27]),a=56;break;case 45:r[89]+=r[4],r[90]=r[7],r[90]+=r[84],r[90]+=r[84],a=62;break;case 17:r[19]="",r[19]="",r[19]="p",r[72]="",a=26;break;case 52:r[99]+=r[1],r[99]+=r[9],r[81]=r[3],r[81]+=r[84],r[81]+=r[84],r[89]=r[2],r[89]+=r[5],a=45;break;case 60:n(t,r[89],r[67],r[81]),a=59;break;case 26:r[72]="",r[72]="bb",r[73]="9",r[84]="",a=22}function s(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];t=1;break;case 1:return i[0][0].Array}}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].RegExp}}function l(e,t,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[7]="",s[7]="ty",s[4]="er",n=3;break;case 3:s[2]="",s[2]="defineProp";try{for(var o=2;8!==o;)switch(o){case 2:s[6]={},s[1]=(0,s[0][1])(s[0][0]),s[5]=[s[1],s[1].prototype][s[0][3]],s[6].value=s[5][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 2:s[8]=s[2],s[8]+=s[4],s[8]+=s[7],s[0][0].Object[s[8]](s[5],s[0][4],s[6]),l=3}}catch(e){}s[5][s[0][4]]=s[6].value,o=8}}catch(e){}n=7}}}(W[301958]),W[423973]=function(e){for(var t=2;10!==t;)switch(t){case 7:s=n.X4JJ(new r[h]("^['-|]"),"S"),t=6;break;case 9:n=typeof l,t=8;break;case 5:r=W[301958],t=4;break;case 12:var i,a=0;t=11;break;case 1:t=o--?4:5;break;case 14:e=e.V4JJ((function(e){for(var t=2;13!==t;)switch(t){case 9:a+=r[s][l](e[i]+112),t=8;break;case 5:a="",t=4;break;case 4:var i=0;t=3;break;case 8:i++,t=3;break;case 6:return;case 3:t=i<e.length?9:7;break;case 1:t=o--?4:5;break;case 2:var a;t=1;break;case 14:return a;case 7:t=a?14:6}})),t=13;break;case 6:t=o--?13:14;break;case 2:var r,n,s,o;t=1;break;case 3:t=o--?8:9;break;case 4:var l="fromCharCode",h="RegExp";t=3;break;case 8:t=o--?6:7;break;case 13:t=o--?11:12;break;case 11:return{L4M:function(t){for(var n=2;6!==n;)switch(n){case 1:n=s>a?5:8;break;case 2:var s=(new r[e[0]])[e[1]]();n=1;break;case 8:return function(i,a){for(var n=2;10!==n;)switch(n){case 4:a=e,n=3;break;case 12:s^=h,n=13;break;case 9:n=o<i[a[5]]?8:11;break;case 11:return s;case 2:n=void 0===i&&void 0!==t?1:5;break;case 1:i=t,n=5;break;case 3:var s,o=0;n=9;break;case 14:s=h,n=13;break;case 5:n=void 0===a&&void 0!==e?4:3;break;case 6:n=0===o?14:12;break;case 13:o++,n=9;break;case 8:var l=r[a[4]](i[a[2]](o),16)[a[3]](2),h=l[a[2]](l[a[5]]-1);n=6}}(void 0,void 0)?i:!i;case 4:i=c(s),n=3;break;case 5:n=o--?3:4;break;case 3:n=o--?8:9;break;case 9:a=s+6e4,n=8}}}}function c(t){for(var i=2;15!==i;)switch(i){case 17:a=t-c>n,i=19;break;case 8:s=e[6],i=7;break;case 16:a=l-t>n,i=19;break;case 14:i=o--?12:13;break;case 13:h=e[7],i=12;break;case 18:i=c>=0?17:16;break;case 6:l=s&&u(s,n),i=14;break;case 12:i=o--?10:11;break;case 7:i=o--?14:6;break;case 3:n=28,i=9;break;case 5:u=r[e[4]],i=4;break;case 9:i=o--?7:8;break;case 4:i=o--?9:3;break;case 11:c=(h||0===h)&&u(h,n),i=10;break;case 2:var a,n,s,l,h,c,u;i=1;break;case 10:i=c>=0&&l>=0?20:18;break;case 19:return a;case 1:i=o--?4:5;break;case 20:a=t-c>n&&l-t>n,i=19}}}([[-44,-15,4,-11],[-9,-11,4,-28,-7,-3,-11],[-13,-8,-15,2,-47,4],[4,-1,-29,4,2,-7,-2,-9],[0,-15,2,3,-11,-39,-2,4],[-4,-11,-2,-9,4,-8],[-60,-55,-13,-61,-8,-3,-60,-62,-56],[]]),W.I2S=function(){return"function"==typeof W[423973].L4M?W[423973].L4M.apply(W[423973],arguments):W[423973].L4M},W[301958].i4RR=W,W[312440]="xSh",W[225686]=(a=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{x4H:function(e,t,i){for(var r=3432918353,n=461845907,s=i,o=-4&t,l=0;l<o;l+=4){var h=255&e.L6xx(l)|(255&e.L6xx(l+1))<<8|(255&e.L6xx(l+2))<<16|(255&e.L6xx(l+3))<<24;h=a(h,r),s=5*(s=(524287&(s^=h=a(h=(131071&h)<<15|h>>>17,n)))<<13|s>>>19)+3864292196|0}switch(h=0,t%4){case 3:h=(255&e.L6xx(o+2))<<16;case 2:h|=(255&e.L6xx(o+1))<<8;case 1:h|=255&e.L6xx(o),h=a(h,r),s^=h=a(h=(131071&h)<<15|h>>>17,n)}return s^=t,s=a(s^=s>>>16,2246822507),s=a(s^=s>>>13,3266489909),s^=s>>>16}}),W[553935]={l06:function(){var e,t=arguments;switch(r){case 90:e=t[3]*t[4]*t[2]/t[0]+t[1];break;case 128:e=-t[0]+t[2]-t[1]-t[3];break;case 45:e=t[4]+(t[3]-t[2])*t[0]*t[1];break;case 119:e=(t[0]+t[4]-t[3])/t[2]-t[1];break;case 2:e=t[0]/t[3]*t[1]-t[2];break;case 93:e=(t[2]+t[0])*t[1]-t[3];break;case 155:e=t[0]!=t[1];break;case 166:e=-t[3]/t[0]+t[2]+t[1];break;case 14:e=t[2]/t[1]-t[0];break;case 111:e=t[1]==t[0];break;case 158:e=t[3]/t[2]*t[1]*t[0]-t[4];break;case 53:e=t[3]-t[2]+t[4]+t[1]-t[0];break;case 7:e=t[2]/t[1]+t[0];break;case 41:e=(t[0]-t[1])/t[2];break;case 58:e=t[0]*t[3]*t[1]/t[4]-t[2];break;case 154:e=(t[2]<<t[0])/t[1];break;case 13:e=t[2]-t[1]-t[0];break;case 106:e=t[2]/t[0]*(t[6]*t[3]*t[1]+t[4])+t[5];break;case 57:e=t[0]&t[1];break;case 33:e=t[1]+t[2]+t[0]-t[3];break;case 126:e=(t[2]-t[1])/(t[3]-t[0]);break;case 37:e=t[1]*t[0];break;case 130:e=t[1]-t[3]-(t[2]-t[0]);break;case 77:e=t[0]/t[2]*t[3]/t[1]+t[4];break;case 122:e=t[1]-(t[0]-t[2]);break;case 32:e=(t[0]+t[4])*t[2]+t[3]-t[1];break;case 131:e=(t[3]-t[2])*t[4]+t[0]-t[1];break;case 137:e=(t[4]+t[2])/t[0]+t[1]-t[3];break;case 59:e=t[2]/t[3]+t[1]-t[0];break;case 99:e=t[1]/t[2]+t[4]+t[3]+t[0];break;case 160:e=t[1]>=t[0];break;case 156:e=(-t[0]+t[1])*t[3]+t[4]-t[2];break;case 5:e=t[1]+t[2]-t[0];break;case 140:e=(t[2]-t[3])*t[1]+t[4]+t[0];break;case 54:e=t[1]-t[4]-t[2]+t[0]+t[3];break;case 44:e=(t[3]-t[2])/t[0]+(t[1]<<t[4]);break;case 162:e=t[2]*t[1]/t[0]+t[4]+t[3];break;case 12:e=(t[4]+t[3])/t[2]*t[0]-t[1];break;case 9:e=t[0]*t[3]*t[2]-t[1];break;case 167:e=(t[2]-t[0]+t[3])/t[1]+t[4];break;case 76:e=t[0]+t[2]+t[3]-t[4]+t[1];break;case 69:e=t[3]+t[6]+t[1]+t[4]+t[2]+t[5]+t[0];break;case 132:e=(-t[3]+t[2])*t[1]-t[4]-t[0];break;case 85:e=t[0]-t[1]-t[2]+t[3];break;case 84:e=(t[0]/t[3]+t[2])*t[4]-t[1];break;case 109:e=(t[2]-t[1])/t[3]-t[0];break;case 39:e=t[0]/(t[2]<<t[1]);break;case 26:e=t[3]/t[0]-t[1]-t[2];break;case 157:e=-t[2]/t[1]/t[0]+t[3];break;case 103:e=t[2]/t[1]*t[3]*t[4]+t[0];break;case 120:e=t[0]-+t[1];break;case 95:e=(t[2]+t[0])*t[1]+t[3];break;case 149:e=t[0]>t[1];break;case 27:e=t[3]-t[1]+t[2]+t[0];break;case 136:e=(t[0]+t[2])/t[3]-t[1];break;case 47:e=t[0]+t[1]/t[2];break;case 165:e=t[2]/t[3]*t[0]+t[4]-t[1];break;case 98:e=t[0]/t[3]/t[1]*t[4]+t[2];break;case 129:e=(t[2]-t[0])/t[3]/t[4]+t[1];break;case 40:e=t[0]*(t[1]-t[2]/(t[3]-t[4]));break;case 146:e=t[2]-t[0]/t[3]+(t[1]-t[4]);break;case 83:e=t[0]*(t[1]>>t[2]);break;case 42:e=(t[1]+t[0])/t[2];break;case 22:e=(t[1]+t[4])*t[2]-t[0]-t[3];break;case 43:e=(t[1]-t[2])/t[3]+t[0];break;case 88:e=t[0]*t[3]/t[2]-t[1];break;case 150:e=t[1]*t[2]*t[3]-t[4]-t[0];break;case 134:e=(t[4]-t[1])*t[3]-t[2]-t[0];break;case 107:e=t[4]*(t[5]*t[1]*t[0]+ +t[3])+t[2];break;case 15:e=t[0]+t[1];break;case 123:e=t[2]-(t[0]>>t[1]);break;case 79:e=t[0]*t[1]+t[2]-t[3];break;case 60:e=t[1]/t[0]/t[3]-t[2];break;case 94:e=(t[3]-t[4]+t[2])*t[0]-t[1];break;case 65:e=(t[3]+t[0])/t[4]+t[1]+t[2];break;case 34:e=(t[3]+t[0])/t[2]+t[1];break;case 114:e=t[0]*t[1]-t[2]-t[3];break;case 115:e=t[4]+t[2]+t[0]-t[1]-t[3];break;case 101:e=t[2]-t[1]+t[3]+t[0]+t[4];break;case 144:e=t[3]/t[2]*t[4]+t[1]+t[0];break;case 159:e=t[0]-(t[1]^t[2]);break;case 61:e=t[3]+t[2]-t[0]-t[1];break;case 30:e=t[3]/t[0]*t[2]+t[1];break;case 19:e=t[1]<<t[0];break;case 161:e=t[1]/t[0]/t[3]+t[2]+t[4];break;case 48:e=t[0]-t[2]/t[1];break;case 71:e=t[4]+t[8]+t[9]+t[3]+t[2]+t[6]+t[0]+t[5]+t[10]+t[1]+t[7];break;case 110:e=(t[4]-t[0])*(t[3]-t[2])-(t[6]-t[7])*(t[1]-t[5]);break;case 138:e=t[2]+t[1]*t[0];break;case 35:e=(t[4]+t[3])*t[2]*t[1]-t[0];break;case 28:e=t[1]/t[0];break;case 127:e=t[0]*(t[1]-t[3])+t[2];break;case 68:e=t[2]/t[1]-t[0]+t[4]-t[3];break;case 143:e=(t[4]+t[2])/t[1]/t[0]+t[3];break;case 80:e=t[0]+t[1]-t[2]-t[3]-t[4];break;case 102:e=t[0]+(t[2]>>t[1]);break;case 121:e=t[0]===t[1];break;case 125:e=(t[3]*t[1]+t[4])*t[2]-t[0];break;case 11:e=-t[0]*t[2]*t[1]-t[3]+t[4];break;case 29:e=t[1]*t[4]/t[2]/t[3]+t[0];break;case 116:e=(-t[1]+t[3])/t[0]-t[2];break;case 147:e=t[2]+(t[0]+t[1]);break;case 141:e=(t[2]+t[1]-t[3])/t[0]+t[4];break;case 25:e=t[3]|t[4]<<t[1]|t[0]<<t[2];break;case 4:e=-t[0]+t[2]+t[1]-t[3];break;case 64:e=t[1]*t[0]+t[2];break;case 105:e=t[0]/t[2]*t[1]*t[3]*t[5]+t[4];break;case 112:e=t[1]+t[2]*(t[0]-t[3]);break;case 67:e=t[2]+t[3]-t[0]-t[4]+t[1];break;case 51:e=t[1]|t[0];break;case 52:e=t[3]*t[2]/t[0]*t[1]-t[4];break;case 163:e=(t[2]*t[0]-t[4])*t[3]-t[1];break;case 38:e=t[4]+t[8]+t[5]+t[3]+t[9]+t[2]+t[1]+t[0]/t[6]+t[7];break;case 124:e=(t[4]+t[3]-t[0])*t[2]+t[1];break;case 87:e=t[1]<t[0];break;case 55:e=t[2]-t[3]+t[4]-t[0]-t[1];break;case 164:e=-t[0]+t[4]-t[3]+t[2]+t[1];break;case 92:e=(t[1]/t[0]+t[2])*t[3]+t[4];break;case 82:e=t[1]>>t[0];break;case 20:e=(-t[1]+t[2]-t[3])/t[4]+t[0];break;case 86:e=(t[4]-t[0]-t[1])/t[3]+t[2];break;case 63:e=(t[3]+t[0])*t[1]/t[4]+t[2];break;case 145:e=t[0]-t[1]-+t[2];break;case 31:e=t[4]/t[0]-t[1]-t[2]+t[3];break;case 6:e=-t[1]+t[0];break;case 73:e=t[4]*t[0]/t[1]+t[3]-t[2];break;case 62:e=(t[1]-t[3])*t[2]-t[0];break;case 97:e=(t[2]/t[3]-t[1])/t[0]+t[4];break;case 74:e=(t[0]+t[1]+t[3])*t[2]-t[4];break;case 151:e=t[1]*t[0]/t[3]+t[2];break;case 21:e=-t[3]/t[0]*t[1]+t[2];break;case 72:e=+t[1]*t[2]*t[3]*+t[0];break;case 81:e=t[2]+t[4]+t[0]+t[1]+t[3];break;case 91:e=t[3]*t[4]-t[1]-t[0]-t[2];break;case 113:e=-t[2]*t[3]+t[4]-t[0]+t[1];break;case 78:e=(t[3]/t[0]-t[4])*t[2]+t[1];break;case 118:e=t[2]+t[0]+t[1]+t[3];break;case 17:e=t[0]*-t[1];break;case 75:e=(t[1]-t[4]-t[3])*t[2]+t[0];break;case 49:e=t[0]*+t[1];break;case 24:e=t[1]-t[2]+t[3]-t[0];break;case 8:e=t[2]-t[1]+t[0];break;case 152:e=t[1]-t[0]*t[2];break;case 139:e=t[0]+t[3]+t[1]%t[2];break;case 66:e=t[1]/t[3]-t[0]+t[2];break;case 100:e=t[1]*t[2]*t[0]+t[3]-t[4];break;case 56:e=-t[1]*t[2]+t[0];break;case 89:e=(-t[3]-t[1])*t[0]*t[4]+t[2];break;case 148:e=t[1]+t[2]/t[3]*t[0];break;case 142:e=(t[0]-t[2]+t[1])*t[3]+t[4];break;case 135:e=t[1]*(t[0]-t[2]);break;case 18:e=(t[0]-t[3])*(t[1]-t[5])/(t[2]-t[4]);break;case 10:e=t[0]*t[2]-t[1];break;case 1:e=t[0]-t[1];break;case 104:e=-t[4]/t[0]*(t[1]*(t[7]-(t[2]&t[8]))-t[3]*t[5])+t[6];break;case 0:e=-t[1]-t[0]+t[2];break;case 16:e=t[1]^t[0];break;case 117:e=t[3]/t[0]+t[2]+t[1];break;case 133:e=-t[2]-t[0]+t[3]+t[1];break;case 153:e=t[1]*-+t[0];break;case 23:e=(t[1]-t[3])/t[2]*t[0]+t[4];break;case 70:e=t[7]+t[1]+t[0]+t[3]+t[2]+t[6]+t[5]+t[4]+t[8];break;case 3:e=t[2]+t[4]+t[3]+t[1]-t[0];break;case 108:e=t[1]!==t[0];break;case 46:e=t[4]+(t[5]-t[6])*(t[3]/t[2]-t[7])*(t[0]&t[1]);break;case 50:e=t[1]+t[0]+t[2];break;case 36:e=t[1]/t[2]/t[3]+t[0];break;case 96:e=t[1]+t[2]-t[0]+t[3]}return e},P06:function(e){r=e}},W[583721]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];return t[8]=void 0,t[1]={},t[1].R9a=function(){for(var e=2;90!==e;)switch(e){case 4:i[8]=[],i[6]={},i[6].L2S=["B2S"],i[6].Q2S=function(){return/\u0039\x37/.X9bb(function(){return"aa".charCodeAt(1)}+[])},e=7;break;case 5:return 63;case 53:i[8].h9bb(i[1]),i[8].h9bb(i[24]),i[8].h9bb(i[61]),i[8].h9bb(i[67]),i[8].h9bb(i[34]),i[8].h9bb(i[78]),e=47;break;case 25:i[62].Q2S=function(){return!/\x7c/.X9bb(function(){return"aaaa|a".substr(0,3)}+[])},i[24]=i[62],i[94]={},e=22;break;case 47:i[8].h9bb(i[5]),i[8].h9bb(i[3]),i[8].h9bb(i[4]),i[32]=[],e=64;break;case 1:e=t[8]?5:4;break;case 70:i[33]++,e=57;break;case 22:i[94].L2S=["B2S"],i[94].Q2S=function(){return/\x58/.X9bb(function(){return"x".toLocaleUpperCase()}+[])},i[34]=i[94],i[82]={},i[82].L2S=["B2S"],i[82].Q2S=function(){return!/\u0032\u0035/.X9bb(function(){return decodeURI("%25")}+[])},e=31;break;case 68:e=68;break;case 77:i[85]=0,e=76;break;case 58:i[33]=0,e=57;break;case 76:e=i[85]<i[92][i[66]].length?75:70;break;case 19:i[5]=i[9],i[7]={},i[7].L2S=["B2S"],i[7].Q2S=function(){return/\u0078/.X9bb(function(){return"X".toLocaleLowerCase()}+[])},e=15;break;case 2:var i=[arguments];e=1;break;case 64:i[42]="u2S",i[36]="q2S",i[66]="L2S",i[20]="j2S",i[25]="Q2S",e=59;break;case 15:i[1]=i[7],i[62]={},i[62].L2S=["B2S"],e=25;break;case 31:i[78]=i[82],i[16]={},i[16].L2S=["y3S"],i[16].Q2S=function(){return"function"==typeof p9bb},i[29]=i[16],i[52]={},e=42;break;case 37:i[70].Q2S=function(){var e=!1,t=[];try{for(var i in console)t.h9bb(i);e=0===t.length}catch(e){}return e},i[67]=i[70],i[8].h9bb(i[29]),e=53;break;case 74:i[31][i[87]]=i[92][i[66]][i[85]],e=73;break;case 71:i[85]++,e=76;break;case 42:i[52].L2S=["B2S"],i[52].Q2S=function(){return/\u003d/.X9bb(function(){return unescape("%3D")}+[])},i[61]=i[52],i[70]={},i[70].L2S=["y3S"],e=37;break;case 57:e=i[33]<i[8].length?56:69;break;case 59:i[87]="K2S",e=58;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 4:a[6]={},a[5]=[],a[3]=0,t=8;break;case 24:a[3]++,t=16;break;case 8:a[3]=0,t=7;break;case 13:a[6][a[1][i[87]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];return t[9]={},t[9].h=0,t[9].t=0,t[9]}}.z9bb(this,arguments),t=12;break;case 2:var a=[arguments];t=1;break;case 14:t=void 0===a[6][a[1][i[87]]]?13:11;break;case 10:t=a[1][i[20]]===i[42]?20:19;break;case 17:a[3]=0,t=16;break;case 19:a[3]++,t=7;break;case 26:t=a[8]>=.5?25:24;break;case 15:a[4]=a[5][a[3]],a[8]=a[6][a[4]].h/a[6][a[4]].t,t=26;break;case 18:a[7]=!1,t=17;break;case 20:a[6][a[1][i[87]]].h+=!0,t=19;break;case 11:a[6][a[1][i[87]]].t+=!0,t=10;break;case 16:t=a[3]<a[5].length?15:23;break;case 1:t=0===a[0][0].length?5:4;break;case 23:return a[7];case 25:a[7]=!0,t=24;break;case 5:return;case 12:a[5].h9bb(a[1][i[87]]),t=11;break;case 6:a[1]=a[0][0][a[3]],t=14;break;case 7:t=a[3]<a[0][0].length?6:18}}(i[32])?68:67;break;case 73:i[31][i[20]]=i[90],i[32].h9bb(i[31]),e=71;break;case 7:i[3]=i[6],i[2]={},i[2].L2S=["y3S"],e=13;break;case 67:return t[8]=19,92;case 56:i[92]=i[8][i[33]];try{i[90]=i[92][i[25]]()?i[42]:i[36]}catch(e){i[90]=i[36]}e=77;break;case 13:i[2].Q2S=function(){return"function"==typeof w9bb},i[4]=i[2],i[9]={},i[9].L2S=["y3S"],i[9].Q2S=function(){return"function"==typeof i9bb},e=19;break;case 75:i[31]={},e=74}},t[1]}}(),W.V3D=function(){return"function"==typeof W[583721].R9a?W[583721].R9a.apply(W[583721],arguments):W[583721].R9a},W.e06=function(){return"function"==typeof W[553935].P06?W[553935].P06.apply(W[553935],arguments):W[553935].P06},W.p06=function(){return"function"==typeof W[553935].P06?W[553935].P06.apply(W[553935],arguments):W[553935].P06},W.A06=function(){return"function"==typeof W[553935].l06?W[553935].l06.apply(W[553935],arguments):W[553935].l06},W.X3D=function(){return"function"==typeof W[583721].R9a?W[583721].R9a.apply(W[583721],arguments):W[583721].R9a},W.Q9z=function(){return"function"==typeof W[225686].x4H?W[225686].x4H.apply(W[225686],arguments):W[225686].x4H},W.H06=function(){return"function"==typeof W[553935].l06?W[553935].l06.apply(W[553935],arguments):W[553935].l06},W.f2S=function(){return"function"==typeof W[423973].L4M?W[423973].L4M.apply(W[423973],arguments):W[423973].L4M},W.v9z=function(){return"function"==typeof W[225686].x4H?W[225686].x4H.apply(W[225686],arguments):W[225686].x4H},W.C2S=function(e){if(W.X3D(),W&&e)return W.f2S(e)},W.c2S=function(e){if(W.V3D(),W)return W.I2S(e)},W.A2S=function(e){if(W.X3D(),W)return W.f2S(e)},W.a2S=function(e){if(W.X3D(),W&&e)return W.f2S(e)},W.O2S=function(e){if(W.V3D(),W)return W.I2S(e)},n=e=>{function t(){}e.timezoneJS={},e.CIQ=t,W.X3D(),t.inheritsFrom=function(e,t,i){var a;W.V3D(),a=t.prototype||Object.getPrototypeOf(t),e.prototype=!1!==i&&"function"==typeof t?new t:Object.create(a),Object.defineProperties(e.prototype,{constructor:{configurable:!0,enumerable:!1,value:e,writable:!0},parent:{configurable:!0,enumerable:!1,value:a,writable:!0}})},t.extend=function(e,i,a){var r,n;for(r in i)e!==(n=i[r])&&void 0!==n&&(null===n||!0===a?e[r]=n:n.constructor==Array?e[r]=n.slice():n.constructor==Object?e[r]=t.extend("object"==typeof e[r]&&null!==e[r]?e[r]:{},n):e[r]=n);return e},t.activateImports=function(...t){var i;(i=this).activatedImports||(i.activatedImports={}),t.forEach((t=>{W.X3D(),"function"==typeof t&&(t.__guid in i.activatedImports||(t.__guid=i.uniqueID(!0),i.activatedImports[t.__guid]=t.__name||t.name,t(e)))}))}},s=e=>{var t,i,a;W.V3D(),i=function(e,t){var i;return(i=document.createEvent("Event")).initEvent(e,!(!t||!t.bubbles),!(!t||!t.cancelable)),i},(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).Event&&"function"!=typeof t.Event&&(i.prototype=t.Event.prototype,t.Event=i),a=function(e,t){var i;return"C","u","stomEvent",(i=document.createEvent("CustomEvent")).initCustomEvent(e,!(!t||!t.bubbles),!(!t||!t.cancelable),t&&t.detail),i},t.CustomEvent&&"function"!=typeof t.CustomEvent&&(a.prototype=t.CustomEvent.prototype,t.CustomEvent=a),"undefined"!=typeof global&&void 0===global.CanvasRenderingContext2D&&(global.CanvasRenderingContext2D=function(){})},o=e=>{var t,i,a,r,n,s=W;t=e.CIQ,a=(i="undefined"!=typeof navigator?navigator:{userAgent:""}).userAgent,r="undefined"!=typeof window?window:{},n="undefined"!=typeof document?document:{},t.ipad=-1!=a.indexOf("iPad")||"MacIntel"===i.platform&&i.maxTouchPoints>1,s.e06(0);var o=s.A06(18,16,33);t.iphone=a.indexOf("iPhone")!=o,s.p06(1);var l=s.H06(28128256032,26647821504);t.isAndroid=a.toLowerCase().indexOf("android")>-("1">>l),t.isIE=a.toLowerCase().indexOf("msie")>-1||a.indexOf("Trident/")>-1,s.p06(2);var h=s.A06(8,3,13,2);t.isEdge=a.indexOf("Edge/")>h,s.e06(1);var c=s.A06(0,1);t.isSafari=a.indexOf("Safari/")>c,t.isIOS7=a.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),t.isIOS8=a.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),t.isIOS9=a.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),t.isIOS10=a.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),t.isIOS7or8=t.isIOS7||t.isIOS8||t.isIOS9||t.isIOS10,t.isMobile=t.isAndroid||t.ipad||t.iphone,t.touchDevice=void 0!==n.ontouchstart||i.maxTouchPoints>1,t.isSurface=t.touchDevice&&(t.isEdge||t.isIE||a.indexOf("Edg/")>-1),t.is_chrome=a.toLowerCase().indexOf("chrome")>-1&&!t.isEdge,s.e06(3);var u=s.A06(22,2,17,2,2);t.isFF=a.toLowerCase().indexOf("firefox")>-("1"|u),t.isSurfaceApp=r.MSApp,t.isWebComponentsSupported="undefined"!=typeof document&&"registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"),t.noKeyboard=t.isMobile||t.isSurfaceApp},l=e=>{var t,i,a;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,a=function(e,t,i,a){var r,n,s;function o(e,t,a){[1,2].forEach((e=>{t[e].cp={},W.V3D(),["x","y"].forEach((function(i){var r,n=W;n.e06(4);var s=n.H06(9,20,19,28);n.p06(5);var o=n.H06(8,0,9);n.e06(6);var l=n.A06(16,14);n.p06(1);var h=n.A06(12,10);n.p06(7);var c=n.H06(1,1,1);n.e06(8);var u=n.H06(11,10,0);n.p06(9);var d=n.A06(12,190,8,2);n.p06(10);var p=n.A06(4,39,10);n.p06(11);var g=n.A06(11,6,3,14,214);n.p06(12);var f=n.H06(6,10,11,7,15);n.p06(13);var m=n.A06(1,4,6);n.e06(6);var y=n.H06(4,2);n.e06(1);var v=n.A06(10,9);r=1/(1+Math.sqrt(Math.pow(t[s*e-o].x-t[l*e-h].x,2)+Math.pow(t[c*e-u].y-t[d*e-"2"*p].y,g))/Math.sqrt(Math.pow(t[f].x-t[m].x,y)+Math.pow(t[2].y-t[v].y,2))),n.e06(14);var b=n.A06(2,3,12);n.e06(15),n.V3D();var x=n.H06(48138139,529519525);t[e].cp[i]=t[e][i]+(3-b*e)*(t[e+("1">>x)][i]-t[e-1][i])*a*(r||0),t[e].cp[i]<Math.min(t[1][i],t[2][i])&&(t[e].cp[i]=Math.min(t[1][i],t[2][i])),t[e].cp[i]>Math.max(t[1][i],t[2][i])&&(t[e].cp[i]=Math.max(t[1][i],t[2][i]))}))})),W.X3D(),0===e?i.quadraticCurveTo(t[2].cp.x,t[2].cp.y,t[2].x,t[2].y):e===n-4?i.quadraticCurveTo(t[1].cp.x,t[1].cp.y,t[2].x,t[2].y):i.bezierCurveTo(t[1].cp.x,t[1].cp.y,t[2].cp.x,t[2].cp.y,t[2].x,t[2].y)}r=0,a||(a=[]),(!t||t<0)&&(t=0),n=e.length,i.moveTo(e[0],e[1]);for(var l=0;l<n-3;l+=2)h(l),(s=[])[0]={x:e[Math.max(0,l-2)],y:e[Math.max(1,l-1)]},s[1]={x:e[l],y:e[l+1]},W.e06(16),s[W.H06(0,"2")]={x:e[l+2],y:e[l+3]},s[3]={x:e[Math.min(n-2,l+4)],y:e[Math.min(n-1,l+5)]},4===n&&(t=0),o(l,s,t);function h(t){var n;W.X3D(),r!=a.length&&(n=a[r]).coord[0]==e[t]&&n.coord[1]==e[t+1]&&(i.stroke(),i.strokeStyle=n.color,i.setLineDash(n.pattern),i.lineDashOffset=0,i.lineWidth=n.width,i.beginPath(),i.moveTo(e[t],e[t+1]),r++)}},e.SplinePlotter.plotSpline||(e.SplinePlotter.plotSpline=a),t.clearCanvas=function(e,i){var a,r,n;e.isDirty=!1,(a=e.context).clearRect(0,0,e.width,e.height),!t.isAndroid||t.is_chrome||t.isFF||(t.ChartEngine.useOldAndroidClear&&i&&(a.fillStyle=i.containerColor,a.fillRect(0,0,e.width,e.height),a.clearRect(0,0,e.width,e.height)),r=e.width,e.width=1,e.width=r),n=i.chart.canvasShim.childNodes.length>0,(i.useBackgroundCanvas||n)&&(i.useBackgroundCanvas=n,e==i.chart.canvas&&t.clearCanvas(i.chart.backgroundCanvas,i))},t.fillTransparentCanvas=function(e,t,i,a){var r;r=e.globalCompositeOperation,W.V3D(),e.globalCompositeOperation="destination-over",e.fillStyle=t,e.fillRect(0,0,i,a),e.globalCompositeOperation=r},t.convertBoxToPixels=function(e,t,i,a){var r,n,s,o,l;return r=e.panels[t],n=e.pixelFromTick(i.x0,r.chart),s=e.pixelFromTick(i.x1,r.chart),o=i.cy0||0===i.cy0?i.cy0:e.pixelFromValueAdjusted(r,i.x0,i.y0,a),l=i.cy1||0===i.cy1?i.cy1:e.pixelFromValueAdjusted(r,i.x1,i.y1,a),W.X3D(),{x0:n,x1:s,y0:o,y1:l}},t.fillArea=function(e,t,a){var r,n,s,o,l,h,c,u,d,p,g,f,m;if(r="a",r+="u",r+="t",r+="o",t.length){if(s=(n=e.chart.context).globalAlpha,o=arguments[2],l=arguments[3],h=arguments[4],c=0,u=null,a&&"object"==typeof a&&(o=a.color,l=a.opacity,c=a.tension,h=a.panelName,u=a.yAxis),l||0===l||(l=.2),o==r&&(o=e.defaultColor),n.globalAlpha=l,o&&(n.fillStyle=o),d=Number.MAX_VALUE,W.e06(17),p=W.A06(d,1),(g=e.panels[h])&&(p=(u||g.yAxis).top,d=(u||g.yAxis).bottom,n.save(),n.beginPath(),n.rect(g.left,p,g.width,d-p),n.clip()),W.X3D(),n.beginPath(),c){for(m=[],f=0;f<t.length-2;f++)m.push(t[f][0],t[f][1]);for(i.plotSpline(m,c,n),f=t.length-2;f<t.length;f++)n.lineTo(Math.round(t[f][0]),Math.round(t[f][1]))}else for(n.moveTo(t[0][0],t[0][1]),f=1;f<t.length;f++)n.lineTo(t[f][0],t[f][1]);n.closePath(),n.fill(),g&&n.restore(),n.globalAlpha=s}},t.prepareChannelFill=function(e,i){var a,r,n,s,o,l;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),a=e.panels[i.panelName],e.chart.context.strokeStyle,r={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},n=t.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{},yAxis:a.yAxis}),s=e.plotDataSegmentAsLine(i.topBand,a,n),o=e.plotDataSegmentAsLine(i.bottomBand,a,n),i.noDraw=r.noDraw,i.gapDisplayStyle=r.gapDisplayStyle,l=[];for(var h=0;h<s.points.length;h+=2)l.push([s.points[h],s.points[h+1]]);for(var c=o.points.length-1;c>=0;c-=2)l.push([o.points[c-1],o.points[c]]);t.fillArea(e,l,i)},W.V3D(),t.preparePeakValleyFill=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H=W;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),r=(a=e.panels[i.panelName]).yAxis,(n=e.chart.context).strokeStyle,s={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},o=e.plotDataSegmentAsLine(i.band,a,t.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{}})),i.noDraw=s.noDraw,i.gapDisplayStyle=s.gapDisplayStyle,l=i.threshold,h=i.direction,c=i.reverse,u=i.gapDisplayStyle,i.yAxis&&(r=i.yAxis),d=-Number.MAX_VALUE,p=Number.MAX_VALUE,g=c?d:p,(l||0===l)&&(g=e.pixelFromPrice(l,a,r)),f=[],m=o.points.length;for(var O=0;O<m;O+=2)y=o.points[O],H.e06(15),v=o.points[H.A06(O,1)],i.roundOffEdges&&(0===O?y=Math.floor(y):O+2==m&&(y=Math.ceil(y))),isNaN(v)||(v>g&&h>0||v<g&&h<0||(f.push([y,v]),d=Math.max(v,d),p=Math.min(v,p)),O<m-3&&(H.e06(15),b=o.points[H.A06(O,2)],H.p06(15),x=o.points[H.A06(O,3)],(v<g&&x>g||v>g&&x<g)&&(H.p06(18),y+=H.A06(g,b,x,v,v,y),f.push([y,g]))));if(m=f.length){if(S=i.edgeParameters,i.edgeHighlight){S.lineWidth>100&&(S.lineWidth=1),n.save(),n.beginPath();for(var I=0;I<m-1;I++)if(C=f[I],H.e06(15),D=f[H.H06(I,1)],C[1]!=g||D[1]!=g){if(C[0]==D[0]&&e.layout.candleWidth>=1){if(C[1]==g&&f[I-1]&&f[I-1][1]==g)continue;if(D[1]==g&&f[I+2]&&f[I+2][1]==g)continue}e.plotLine(t.extend({x0:C[0],x1:D[0],y0:C[1],y1:D[1],color:i.edgeHighlight,type:"segment",context:n,confineToPanel:a,deferStroke:!0},S))}n.stroke(),n.restore()}if(l||0===l||(r.flipped&&(c=!c),g=c?Math.min(p,r.top):Math.max(d,r.bottom)),f.push([f[m-1][0],g],[f[0][0],g]),(A=i.opacity)||0===A||(i.opacity=.3),t.fillArea(e,f,i),u&&u.color&&u.fillMountain&&!i.tension&&!t.isTransparent(u.color)&&!t.isTransparent(i.color)){for(n.save(),n.fillStyle instanceof CanvasGradient?(w=t.colorToHex(u.color),(k=n.createLinearGradient(0,1===h?a.top:a.bottom,0,g)).addColorStop(0,t.hexToRgba(w,60)),k.addColorStop(1,t.hexToRgba(w,10)),n.fillStyle=k):n.fillStyle=u.color,T=[],M={opacity:i.opacity,panelName:i.panelName},n.beginPath(),O=0;O<o.gapAreas.length;O++)_=(P=o.gapAreas[O]).start,L=P.end,E=P.threshold,_?(H.p06(19),T=[[_[0],_[1]],[_[H.A06(1038585152,"0")],E]]):T.push([L[0],E],[L[0],i.step?T[0][1]:L[1]]),4==T.length&&(t.fillArea(e,T,M),F=t.extend({x1:T[3][0],y0:T[0][1],type:"segment",deferStroke:!0,context:n,confineToPanel:a},u),i.step?(e.plotLine(t.extend({x0:T[0][0],y1:T[0][1]},F)),e.plotLine(t.extend({x0:T[3][0],y1:T[3][1]},F))):e.plotLine(t.extend({x0:T[0][0],y1:T[3][1]},F)));n.stroke(),n.restore()}i.opacity=A}},t.fillIntersecting=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m;(!a||a instanceof Array)&&(a=arguments[3]),r=a.topBand,n=a.bottomBand,s=a.topSubBand,o=a.bottomSubBand,l=a.topColor,h=a.bottomColor,(c=i).panel&&(c.outputs&&c.outputMap&&(l||(l=c.outputs[c.outputMap[r]]),h||(h=c.outputs[c.outputMap[n]])),c=c.panel),c=e.panels[c],d=(u=e.chart.context).canvas,(p=e.scratchContext)||(p=e.scratchContext=d.cloneNode(!0).getContext("2d")),(g=p.canvas).height=d.height,W.X3D(),g.width=d.width,g.context=p,t.clearCanvas(g,e),f=.3,a.opacity&&(f=a.opacity),p.globalCompositeOperation="xor",e.chart.context=p,m={band:r,subField:s,color:l,opacity:1,panelName:c.name,yAxis:a.topAxis,skipTransform:a.skipTransform,tension:a.tension,roundOffEdges:!0,step:a.step},t.preparePeakValleyFill(e,m),t.extend(m,{band:n,subField:o,color:h,yAxis:a.bottomAxis}),t.preparePeakValleyFill(e,m),u.save(),u.globalAlpha=f,u.drawImage(g,0,0),u.restore(),e.chart.context=u},t.drawLegendItem=function(e,t,i,a,r){var n,s,o,l=W;r||(r=1),n=t[0],s=t[1],(o=e.chart.context).globalAlpha=r,o.fillStyle=a,o.fillRect(n,s,10,10),o.globalAlpha=1,l.p06(15),n+=l.H06(10,2),o.fillStyle=e.defaultColor,o.fillText(i,n,s),l.e06(20);var h=l.H06(7,1,12,19,8);return l.V3D(),[n+=o.measureText(i).width+h,s]},t.drawLegend=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g=W;a=i.coordinates,(r=e.chart.context).textBaseline="top",n=r.font,e.canvasFont("stx-legend",r),s=i.chart||e.chart,a||(a=s.legend),o=[a.x,a.y],l=e.defaultColor;for(var f=0;f<2;f++)for(var m in i.legendColorMap)if((!(h=i.legendColorMap[m]).isBase||!f&&!i.noBase)&&(h.isBase||f)){if(h.color instanceof Array){for(c=(u=h.color).length-1;c>=0;c--)t.isTransparent(u[c])&&u.splice(c,1);if(u.length>1){for(d=r.createLinearGradient(o[0],o[1],o[0]+10,o[1]),c=0;c<u.length;c++)d.addColorStop(c/(u.length-1),u[c]);l=d}else l=u.length>0?u[0]:e.getCanvasColor("stx_line_chart")}else l=h.color?h.color:null;if(l){if(p=m,h.display&&(p=h.display),p||(p=s.symbolDisplay?s.symbolDisplay:s.symbol),o[0]+r.measureText(p).width>s.panel.right){g.p06(1);g.H06(5025,15);g.p06(21);g.A06(1,5,66,13);g.p06(1);var y=g.H06(17,11);o=[a.x,a.y+r.measureText("M").width+y]}o=t.drawLegendItem(e,o,p,l,h.opacity)}}r.font=n}},h=e=>{var t;(t=e.CIQ).colorsEqual=function(e,i){var a,r,n,s,o;return"rg","ba(0,0,0,0)","t","ra","nsparent",e==i||(!e&&!i||!(!e||!i)&&("transparent"==e&&(e="rgba(0,0,0,0)"),"transparent"==i&&(i="rgba(0,0,0,0)"),W.X3D(),a=/^rgba\(.*,(.+)\)/,r=e.match(a),n=i.match(a),(r=r?parseFloat(r[1]):1)==(n=n?parseFloat(n[1]):1)&&(s=t.colorToHex(e),o=t.colorToHex(i),s.toLowerCase()==o.toLowerCase())))},t.colorToHex=function(e){var i,a,r,n,s,o,l,h,c,u,d=W;if(t.colorToHexMapping||(t.colorToHexMapping={}),e&&"transparent"!=e||(e="#000000"),t.colorToHexMapping[e])return t.colorToHexMapping[e];if("#"===e.substr(0,1)){if(4==e.length){d.p06(22);var p=d.H06(9,0,8,102,14);d.p06(23);var g=d.H06(17,0,9,9,19);d.e06(24);var f=d.A06(0,0,18,19);d.e06(8);var m=d.H06(9,8,0);e=t.colorToHexMapping[e]="#"+Array(3).join(e.substr(1,p))+Array(3).join(e.substr(g,f))+Array(3).join(e.substr(3,m))}return e}if((i=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(e))||(i=/(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(e)),!i)return h=e,a="undefined"==typeof document?"#000000":((c=document.querySelector(".ciq_color_converter"))||((c=document.createElement("textarea")).className="ciq_color_converter",c.style.display="none",document.body.appendChild(c)),c.style.color="#000000",c.style.color=h,u=getComputedStyle(c).getPropertyValue("color"),(i=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(u))?t.colorToHex(u):"#"===u.substr(0,1)?u:h),t.colorToHexMapping[e]=a,a;r=parseFloat(i[2]),n=parseFloat(i[3]),s=parseFloat(i[4]),d.p06(25);for(var y=(o=d.A06(r,8,16,s,n).toString(16)).length;y<6;y++)d.p06(15),o=d.H06("0",o);d.p06(1);var v=d.H06(7,6);d.p06(26);var b=d.A06(1,11,6,7517);d.p06(10);d.A06(125,245,18);d.e06(27);var x=d.A06(9094,15,16,505);d.p06(1);var S=d.H06(68306,63427);return l=i[v]+(b===x?S:"#")+o,t.colorToHexMapping[e]=l,l},t.hexToRgba=function(e,i){var a,r,n,s,o,l,h=W;if("r","gba",e&&"transparent"!=e||(e="rgba(0,0,0,0)"),"rgba"===e.substr(0,4)){a=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(e),308851506,-359041052,r=2;for(var c=1;308851506!==h.v9z(c.toString(),c.toString().length,99687);c++)n=a[5],(i||0===i)&&(n=i),r+=2;-359041052!==h.v9z(r.toString(),r.toString().length,46302)&&(n=a[8],i&&1==i&&(n=i)),n>1&&(h.p06(28),n=h.A06(100,n)),h.p06(14);var u=h.A06(7,1,9);h.p06(29);var d=h.A06(19,9911,2,1,2);h.p06(30);h.A06(8281,6250,12,82810);h.e06(1);h.H06(75672,71468);h.p06(9);var p=h.A06(8,1439,20,9);h.e06(15);var g=h.A06(0,3);h.p06(31);var f=h.A06(2,8,9,8844,768);h.e06(32);var m=h.H06(196,2072,11,3,11);h.p06(14);var y=h.H06(55878,1,65191);h.p06(8);var v=h.H06(1,6,891);h.e06(33);var b=h.A06(2,24,9,31);h.p06(9);h.H06(1545,220945,9,16);h.e06(15);h.H06(240,2640);h.e06(34);h.A06(9,7963,1,498);h.e06(1);h.H06(8655,8078);h.e06(35);var x=h.A06(231,2,4,18,11);h.p06(36);var S=h.H06(19,1843,1,1);return"rgba("+a[u]+(773.12===d?"b":470.59<="338.61"*p?786.1:",")+a[g]+(f>=m?",":y!==v||"f")+a[b]+","+n+("945"*x===S||")")}return"rgb"===e.substr(0,3)&&(e=t.colorToHex(e)),i||0===i||(i=100),i<=1&&(h.e06(37),i=h.A06(100,i)),e=e.replace("#",""),s=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),l=parseInt(e.slice(4,6),16),isNaN(s)||isNaN(o)||isNaN(l)?(console.log("CIQ.hexToRgba: invalid hex :",e),null):(h.e06(38),h.H06(i,",",l,o,"rgba(",",",100,")",s,","))},t.convertToNativeColor=function(e){var t,i;return"D","I","V",(t=document.createElement("DIV")).style.color=e,t.style.display="none",document.body.appendChild(t),i=getComputedStyle(t).color,document.body.removeChild(t),i},t.isTransparent=function(e){var t;return!!e&&("transparent"==e||null!==(t=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(e))&&0===parseFloat(t[5]))},t.hsv=function(e){var i,a,r,n,s,o,l,h,c,u=W;"#"===(i=t.colorToHex(e)).substr(0,1)&&(i=i.slice(1));for(var d=i.length;d<6;d++)u.p06(15),i=u.A06("0",i);return a=parseInt(i.slice(0,2),16),r=parseInt(i.slice(2,4),16),u.V3D(),n=parseInt(i.slice(4,6),16),0,0,0,a=parseInt((""+a).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),n=parseInt((""+n).replace(/\s/g,""),10),null===a||null===r||null===n||isNaN(a)||isNaN(r)||isNaN(n)?(console.log("CIQ.hsv: invalid color :",e),null):a<0||r<0||n<0||a>255||r>255||n>255?null:(u.p06(28),a=u.H06(255,a),u.e06(39),r=u.H06(r,1327360576,"255"),u.p06(28),n=u.A06(255,n),(o=Math.min(a,Math.min(r,n)))==(l=Math.max(a,Math.max(r,n)))?[0,0,o]:(h=a==o?r-n:n==o?a-r:n-a,c=a==o?3:n==o?1:5,u.e06(40),s=u.H06(60,c,h,l,o),u.p06(41),[s,u.A06(l,o,l),l]))},t.hsl=function(e){var i,a,r,n,s,o,l,h,c,u,d=W;"#"===(i=t.colorToHex(e)).substr(0,1)&&(i=i.slice(1)),d.V3D();for(var p=i.length;p<6;p++)d.e06(15),i=d.H06("0",i);if(a=parseInt(i.slice(0,2),16),r=parseInt(i.slice(2,4),16),n=parseInt(i.slice(4,6),16),a/=255,r/=255,n/=255,s=Math.max(a,r,n),o=Math.min(a,r,n),d.e06(42),c=d.A06(o,s,2),s==o)l=h=0;else{switch(d.e06(1),u=d.H06(s,o),h=c>.5?u/(2-s-o):u/(s+o),s){case a:d.p06(43),l=d.H06(r<n?6:0,r,n,u);break;case r:d.e06(44),l=d.H06(u,"2",a,n,540988352);break;case n:d.e06(43),l=d.H06(4,a,r,u)}l/=6}return[l,h,c]},t.hslToRgb=function(e,t,i){var a,r,n,s,o,l,h=W;return h.X3D(),0===t?a=r=n=i:(s=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?(h.e06(45),h.A06(6,i,e,t,e)):i<.5?t:i<2/3?(h.e06(46),h.A06("6",2147483647,3,2,e,t,e,i)):e},o=i<.5?i*(1+t):i+t-i*t,h.p06(10),l=h.H06(2,o,i),h.e06(47),a=s(l,o,h.A06(e,1,3)),r=s(l,o,e),h.p06(48),n=s(l,o,h.A06(e,3,1))),h.p06(37),[Math.round(h.A06(255,a)),Math.round(h.A06(255,r)),Math.round(h.H06(255,n))]},W.V3D(),t.chooseForegroundColor=function(e){var i,a,r,n;return"#F","F","F","FFF",i=t.colorToHex(e),a=parseInt(i.slice(1,3),16),r=parseInt(i.slice(3,5),16),n=parseInt(i.slice(5,7),16),W.X3D(),.2126*a+.7152*r+.0722*n<100?"#FFFFFF":"#000000"},t.borderPatternToArray=function(e,t){var i=W;return"soli","d","dash","ed",t?t instanceof Array?t:"dotted"==t?[e,e]:"dashed"==t?(i.e06(37),[i.A06(5,e),i.A06(e,"5",i.p06(49))]):("solid"!=t&&"none"!=t&&(i.p06(50),console.log(i.H06(t,'Unsupported pattern "','"; defaulting to "solid"'))),i.X3D(),[]):[]},t.getBackgroundColor=function(e){var i,a;for("#F","F","FF","FF",i=null;!i||t.isTransparent(i);){if(!(a=getComputedStyle(e)))return;if(i=a.backgroundColor,t.isTransparent(i)&&(i="transparent"),!(e=e.parentNode)||!e.tagName)break}return i&&"transparent"!=i||(i="#FFFFFF"),i}},c=e=>{var t,i,a,r,n=W;n.p06(51),t=n.A06(704653838,"994164302"),n.p06(19),i=n.H06(1057356576,"2");for(var s=1;n.Q9z(s.toString(),s.toString().length,52565)!==t;s++){"Ju","l","J","u","n","O","c","t",a=e.CIQ,r=e.timezoneJS,a.monthLetters=["I","M","M","S","A","J","Jul","Jul","Jul","M","M","Oct"],a.monthAbv=["Oct","Jul","Jul","Jun","Jul","M","M","Jul","Oct","Oct","I","Oct"],a.MILLISECOND=9,n.p06(16),a.SECOND=n.A06(0,"7372"),n.e06(1);var o=n.A06(988,912);a.MINUTE=o/a.SECOND,n.p06(7);var l=n.H06(32,561,561);a.HOUR=l/a.MINUTE,i+=2}if(1565257414!==n.v9z(i.toString(),i.toString().length,53264)){"J","u","l","O","ct","O","c","t","O","c","t","J","u","l","J","u","l","J","u","l",a=e.CIQ,r=e.timezoneJS,a.monthLetters=[27611,"Oct","Oct",599654,"Oct",15702,"I","I",3331162,"Jul","I","I"],a.monthAbv=["I","Jul","Jul","Jul","I","Oct","Oct","Oct","I","Oct","I","Jul"],a.MILLISECOND=2,a.SECOND=9237,n.p06(7);var h=n.A06(72,2,4);a.MINUTE=h-a.SECOND,n.e06(52);var c=n.H06(460,17,6,460,10);a.HOUR=c-a.MINUTE}a=e.CIQ,r=e.timezoneJS,a.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],n.V3D(),a.monthAbv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.MILLISECOND=1,a.SECOND=1e3,n.p06(1);var u=n.H06(1080,1020);a.MINUTE=u*a.SECOND,n.e06(14);var d=n.A06(75,8,1080);a.HOUR=d*a.MINUTE,n.e06(15);var p=n.H06(3,21);a.DAY=p*a.HOUR,n.p06(53);var g=n.A06(17,12,4,0,16);a.WEEK=g*a.DAY,n.p06(54);var f=n.H06(15,12,13,30,13);a.MONTH=f*a.DAY,n.p06(14);var m=n.A06(2196,2,5124);a.YEAR=m*a.DAY,n.p06(1);var y=n.A06(100,90);n.p06(50);var v=n.H06(5,0,2);a.DECADE=y*a.YEAR-v*a.DAY,a.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),a.strToDateTime=function(e){var t,i,r,s,o,l,h,c,u,d,p,g,f,m,y;if(!e||e.getFullYear)return e;if(t=[],12==e.length||14==e.length){i=parseFloat(e.substring(0,4)),n.e06(24);var v=n.A06(69,72,2,3);n.e06(7);var b=n.A06(3,6,18);n.e06(9);var x=n.H06(6,263,4,11);r=parseFloat(e.substring(v,b))-x,s=parseFloat(e.substring(6,8)),-2001802719,412471941,2;for(var S=1;-2001802719!==n.Q9z(S.toString(),S.toString().length,59852);S++)return o=parseFloat(e.substring(7,90)),l=parseFloat(e.substring(97,26)),h=parseFloat(e.substring(68,30))&&3,n.e06(51),new Date(i,r,s,o,l,h,n.A06(2,"2"));return 412471941!==n.v9z(2..toString(),2..toString().length,41750)?(o=parseFloat(e.substring(8,76)),l=parseFloat(e.substring(45,78)),h=parseFloat(e.substring(55,93))||5,n.e06(37),new Date(i,r,s,o,l,h,n.A06(1,"5"))):(o=parseFloat(e.substring(8,10)),l=parseFloat(e.substring(10,12)),h=parseFloat(e.substring(12,14))||0,new Date(i,r,s,o,l,h,0))}if(a.yyyymmddhhmmssmmmrx.test(e)){i=parseFloat(e.substring(0,4)),n.e06(55);var C=n.A06(14,8,28,15,13);n.e06(56);var D=n.A06(123,13,9);return r=parseFloat(e.substring(C,D))-1,s=parseFloat(e.substring(6,8)),o=parseFloat(e.substring(8,10)),l=parseFloat(e.substring(10,12)),h=parseFloat(e.substring(12,14)),c=parseFloat(e.substring(14,17)),new Date(i,r,s,o,l,h,c)}if(u=[e],-1!=(d=e.indexOf("T"))){if(-1!=(p=e.substring(d)).indexOf("Z")||-1!=p.indexOf("-")||-1!=p.indexOf("+"))return new Date(e);u=e.split("T")}else-1!=e.indexOf(" ")&&(u=e.split(" "));if(-1!=u[0].indexOf("/"))t=u[0].split("/");else{if(-1==u[0].indexOf("-"))return a.strToDate(e);t=u[0].split("-")}if(g=parseFloat(t[2],10),t[0]&&4==t[0].length&&(g=parseFloat(t[0],10),t[0]=t[1],t[1]=t[2]),u.length>1){if(f=u[2],u=u[1].split(":"),f)if("P","M","1","2","A","M","12"==u[0]&&"AM"==f.toUpperCase())u[0]=0;else if("12"!=u[0]&&"PM"==f.toUpperCase()){n.e06(13);var A=n.A06(9,8,27);u[0]=parseInt(u[0],A)+12}m=0,y=0,3==u.length&&(-1==u[2].indexOf(".")?m=parseInt(u[2],10):3==(m=u[2].split("."))[1].length&&(y=m[1],m=m[0])),n.e06(24);var w=n.A06(11,7,11,16);return n.e06(1),new Date(g,t[0]-w,t[1],u[n.H06("0",0)],u[n.H06("1",2147483647,n.p06(57))],m,y)}n.p06(58);var k=n.H06(8,7,783,14,1);return n.e06(57),new Date(g,t[0]-k,t[n.A06("1",2147483647)],0,0,0,0)},a.strToDate=function(e){var t,i;if(-1!=e.indexOf("/"))t=e.split("/");else{if(-1==e.indexOf("-")){if(e.length>=8){n.p06(1);var a=n.A06(36,32);n.e06(43);var r=n.H06(10,12,20,2);n.p06(59);var s=n.H06(26,16,11,1);return new Date(parseFloat(e.substring(0,4)),parseFloat(e.substring(a,r))-s,parseFloat(e.substring(6,8)))}return new Date}t=e.split("-")}if(t.length<3)return new Date;-1!=t[2].indexOf(" ")?t[2]=t[2].substring(0,t[2].indexOf(" ")):-1!=t[2].indexOf("T")&&(n.p06(51),t[2]=t[2].substring(n.A06(0,"0"),t[2].indexOf("T"))),(i=parseFloat(t[2],10))<20&&(i+=2e3),4==t[0].length&&(i=parseFloat(t[0],10),n.e06(1),t[0]=t[n.A06("1",0)],t[1]=t[2]),n.e06(5);var o=n.A06(12,3,10);return new Date(i,t[0]-o,t[1])},a.dateToStr=function(e,t){var i,a,r,s;return"S","S","S","s","s","d","d","M","M","Y","Y","YY",a=(e,t=2)=>(n.V3D(),("0".repeat(t)+e).slice(-t)),r=(e,i)=>t=t.replace(e,i),s=(e,t)=>e>t?e-t:e,(i=e=>t.includes(e))("YYYY")&&r(/YYYY/g,e.getFullYear()),i("MM")&&r(/MM/g,a(e.getMonth()+1)),i("dd")&&r(/dd/g,a(e.getDate())),i("HH")&&r(/HH/g,a(e.getHours())),i("hh")&&r(/hh/g,a(s(e.getHours()||12,12))),i("mm")&&r(/mm/g,a(e.getMinutes())),i("ss")&&r(/ss/g,a(e.getSeconds())),i("SSS")&&r(/SSS/g,a(e.getMilliseconds(),3)),t},a.mmddyyyy=function(e){var t,i;"string"==typeof e&&(e=a.strToDate(e)),n.e06(15);var r=n.H06(0,1);(t=e.getMonth()+r)<10&&(n.e06(15),t=n.H06("0",t)),(i=e.getDate())<10&&(n.p06(15),i=n.A06("0",i)),n.e06(15);n.A06(3345,15);n.e06(1);var s=n.A06(4633,3);n.e06(9);var o=n.A06(1086,251950,12,20);n.e06(9);n.A06(819,57333,9,9);n.p06(13);var l=n.A06(44904,6,49900);n.p06(60);var h=n.H06(1,64141,3332,7);n.p06(1);var c=n.H06(119890,113580);n.p06(3);var u=n.H06(89066,8,95400,5,13);n.e06(15);var d=n.A06(298,5662);n.p06(7);var p=n.A06(3527,59,177);return t+(s<o?"/":"j")+i+(l>h?c!=u?266.27==d?155.99:"N":p:"/")+e.getFullYear()},a.yyyymmdd=function(e){var t,i;n.p06(61);var a=n.H06(12,16,11,18);(t=e.getMonth()+a)<10&&(n.p06(15),t=n.H06("0",t)),(i=e.getDate())<10&&(n.e06(15),i=n.H06("0",i)),n.p06(15);var r=n.A06(1259,7555);n.e06(62);n.H06(612830,41e3,15,8);n.p06(63);var s=n.H06(15,11,5835,46720,102817);n.e06(5);n.A06(1,637722266,7);n.p06(64);var o=n.A06(8,673,2692);n.p06(1);n.A06(23817188256,22563652032);n.p06(65);var l=n.A06(15,19,247,573,2);return e.getFullYear()+"-"+t+(r<s?3472>o?200.87:!(l>220.15)&&6610:"-")+i},a.hhmm=function(e){var t,i;return(t=e.getHours())<10&&(n.e06(15),t=n.A06("0",t)),(i=e.getMinutes())<10&&(n.p06(15),i=n.H06("0",i)),n.e06(50),n.A06(":",t,i)},a.hhmmss=function(e){var t;(t=e.getSeconds())<10&&(n.e06(15),t=n.A06("0",t)),n.e06(1);n.A06(464,4);n.e06(15);var i=n.H06(89,1601);n.e06(1),n.X3D();var r=n.A06(19096,17732);n.e06(66);var s=n.A06(7,1632,1646,1632);n.e06(10);n.A06(7340,102750,15);n.e06(15);var o=n.A06(470,2350);return a.hhmm(e)+(i>r?5637!=s?":":452.35:o)+t},a.yyyymmddhhmm=function(e){return n.X3D(),a.yyyymmddhhmmssmmm(e).substr(0,12)},a.yyyymmddhhmmssmmm=function(e){var t,i,a,r,s,o;n.e06(8);var l=n.H06(12,11,0);return(t=e.getMonth()+l)<10&&(n.e06(15),t=n.A06("0",t)),(i=e.getDate())<10&&(n.p06(15),i=n.A06("0",i)),(a=e.getHours())<10&&(n.p06(15),a=n.A06("0",a)),(r=e.getMinutes())<10&&(n.e06(15),r=n.A06("0",r)),(s=e.getSeconds())<10&&(n.e06(15),s=n.H06("0",s)),(o=e.getMilliseconds())<10?(n.e06(15),o=n.H06("00",o)):o<100&&(n.e06(15),o=n.A06("0",o)),""+e.getFullYear()+t+i+a+r+s+o},a.friendlyDate=function(e){return a.dateToStr(e,"YYYY/MM/dd HH:mm")},a.mmddhhmm=function(e){var t,i,r,s,o,l,h;t=a.strToDateTime(e),n.p06(1);var c=n.H06(3,2);if((i=t.getMonth()+c)<10&&(n.e06(15),i=n.A06("0",i)),(r=t.getDate())<10&&(n.p06(15),r=n.A06("0",r)),(s=t.getHours())<10&&(n.e06(15),s=n.A06("0",s)),(o=t.getMinutes())<10&&(n.p06(15),o=n.A06("0",o)),(l=t.getSeconds())<10&&(n.p06(15),l=n.H06("0",l)),(h=t.getMilliseconds())<10?(n.e06(15),h=n.H06("00",h)):h<100&&(n.p06(15),h=n.H06("0",h)),"00"==s&&"00"==o&&"00"==l&&"000"==h){n.e06(67);var u=n.A06(4,5434,1357,2,3);n.e06(5);var d=n.H06(9714,10352,9);n.p06(68);var p=n.A06(15,1,74,42,20);n.p06(8);n.A06(6,19,8153);n.e06(10);n.H06(770,5381,8);return i+(u==d||"-")+r+(842.02===p?2940:"-")+t.getFullYear()}return"00"==l&&"000"==h?(n.p06(69),n.A06(o,r,s,i," ",":","-")):"000"==h?(n.p06(70),n.H06(r,"-",s," ",":",o,":",i,l)):(n.p06(71),n.H06(o,":",s," ",i,":",":",h,"-",r,l))},a.getYearDay=function(e){var t,i,a,r;return(t=e)||(t=new Date),t.setHours(0,0,0,0),i=new Date(t.getFullYear(),0,0),n.X3D(),n.e06(1),a=n.H06(t,i),n.p06(72),r=n.A06("24","1000",60,60),n.e06(28),Math.round(n.H06(r,a))},a.getETDateTime=function(){var e;return n.V3D(),"U","T","C",e=new Date,a.convertTimeZone(new Date(e.getTime()+6e4*e.getTimezoneOffset()),"UTC","America/New_York")},a.fromET=function(e){var t,i,a;i=4,((t=new Date).getMonth()<2||2==t.getMonth()&&t.getDate()<11||t.getMonth()>10||10==t.getMonth()&&t.getDate()>=4)&&(i=5),n.p06(1);var r=n.A06(3600008,8);return a=e.getTime()+r*i,new Date(a)},a.monthAsDisplay=function(e,t,i){return t?i&&i.monthLetters?i.monthLetters[e]:a.monthLetters[e]:i&&i.monthAbv?i.monthAbv[e]:a.monthAbv[e]},a.timeAsDisplay=function(e,t,i){var r,s,o,l,h;if(r=t?t.internationalizer:null){if(i==a.SECOND)return r.hourMinuteSecond.format(e);if(i==a.MILLISECOND){n.p06(73);n.H06(20,9,11682,19,9558);n.e06(74);var c=n.A06(45255,5,14,20,627455);n.e06(75);var u=n.A06(408,4,11,20,15);n.p06(76);var d=n.H06(5626,6,5,3,10);n.e06(1);n.A06(42420,36360);n.e06(36);var p=n.A06(840,5901,1967,1);return r.hourMinuteSecond.format(e)+(c<u?"v":3934==d?p:".")+e.getMilliseconds()}return r.hourMinute.format(e)}return s=e.getMinutes(),n.X3D(),s<10&&(n.e06(15),s=n.H06("0",s)),o=e.getHours()+":"+s,l="",i<=a.SECOND&&((l=e.getSeconds())<10&&(n.e06(15),l=n.H06("0",l)),n.p06(15),o+=n.H06(":",l)),i==a.MILLISECOND&&((h=e.getMilliseconds())<10?(n.p06(15),h=n.A06("00",h)):h<100&&(n.p06(15),h=n.H06("0",h)),n.e06(15),o+=n.A06(".",h)),o},a.displayableDate=function(e,t,i,r){var s,o,l,h,c,u,d,p,g,f,m,y,v;function b(e){return e<10?(n.e06(15),n.A06("0",e)):e}if("ti","c","k",s="",o=e.layout.interval,l=a.ChartEngine.isDailyInterval(o),h=t.xAxis.activeTimeUnit&&t.xAxis.activeTimeUnit<=a.SECOND||"second"==e.layout.timeUnit,c="tick"===o||t.xAxis.activeTimeUnit&&t.xAxis.activeTimeUnit<=a.MILLISECOND||"millisecond"==e.layout.timeUnit,t.xAxis.formatter){-1954530965,-142570054,u=2;for(var x=1;-1954530965!==n.v9z(x.toString(),x.toString().length,49308);x++)s=t.xAxis.formatter(i),u+=2;-142570054!==n.v9z(u.toString(),u.toString().length,64372)&&(s=t.xAxis.formatter(i))}else if(e.internationalizer)if(s=e.internationalizer.monthDay.format(i),h||c){n.e06(14);var S=n.H06(326,1,489);n.e06(77);n.A06(11888,14860,4,10,5942);n.e06(78);var C=n.A06(1471,4462,12,1471,5);n.p06(1);n.A06(6114,9);n.e06(79);var D=n.H06(9460,19,9,170279);n.e06(1);n.H06(8640,10);n.p06(1);n.A06(48960,45900);n.e06(80);n.A06(2590,12,3,9,16);n.e06(8);var A=n.H06(23,10,5047);s+=(("1763"|S)>=60.17?C!==D?" ":A:"O")+e.internationalizer.hourMinuteSecond.format(i),c&&(s+="."+i.getMilliseconds())}else l?s="month"==o?e.internationalizer.yearMonth.format(i):e.internationalizer.yearMonthDay.format(i):(r&&(s=e.internationalizer.yearMonthDay.format(i)),s+=" "+e.internationalizer.hourMinute.format(i));else d=b(i.getMonth()+1),p=b(i.getDate()),g=b(i.getHours()),f=b(i.getMinutes()),l?("m","on","t","h",s="month"==o?d+"/":d+"/"+p+"/",s+=i.getFullYear()):(n.p06(50),m=n.H06("/",d,p),r&&(m+="/"+i.getFullYear()),n.e06(81),s=n.H06(g,":",m,f," "),(h||c)&&(y=b(i.getSeconds()),n.e06(15),s+=n.A06(":",y),c&&((v=b(i.getMilliseconds()))<100&&(n.p06(15),v=n.A06("0",v)),n.p06(15),s+=n.H06(":",v))));return s},a.convertTimeZone=function(e,t,i){var a;return r.Date?((a=new r.Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),t)).setTimezone(i),a):e},a.convertToLocalTime=function(e,t){var i,a,s;if(!r.Date)return e;i=e.getSeconds(),a=e.getMilliseconds(),s=new r.Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),t),n.p06(5);var o=n.A06(16,1004,12);return n.V3D(),new Date(s.getTime()+i*o+a)}},u=e=>{var t,i,a;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,e.SplinePlotter,i=function(e,t){var a;if(!t)return document.getElementById(e);if(t.id==e)return t;if(!t.hasChildNodes)return null;for(var r=0;r<t.childNodes.length;r++)if(a=i(e,t.childNodes[r]))return a;return null},e.$$=i,a=function(e,t){return t||(t=document),W.X3D(),t.querySelectorAll(e)[0]},e.$$$=a,t.wheelEvent=function(){if(W.X3D(),"mousewhe","el","onwh","eel","undefined"!=typeof document)return t.isIE||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}(),t.newChild=function(e,t,i,a){var r;return r=document.createElement(t),i&&(r.className=i),e.appendChild(r),a&&(r.innerHTML=a),r},t.innerHTML=function(e,t){window.MSApp&&window.MSApp.execUnsafeLocalFunction?window.MSApp.execUnsafeLocalFunction((function(){e.innerHTML=t})):e.innerHTML=t},t.focus=function(e,i){var a;W.V3D(),t.isSurface||i?(a=0,isNaN(parseInt(i,10))||(a=i),setTimeout((function(){e.focus()}),a)):e.focus()},t.blur=function(e){W.X3D(),e||(e=document.activeElement),e&&e.blur(),window.focus()},t.findNodesByText=function(e,i){var a,r;if(e.innerHTML==i)return[e];a=[];for(var n=0;n<e.childNodes.length;n++)(r=t.findNodesByText(e.childNodes[n],i))&&(a=a.concat(r));return a.length?a:null},t.hideByText=function(e,i){var a;W.V3D(),a=t.findNodesByText(e,i);for(var r=0;r<a.length;r++)a[r].style.display="none"},t.pageHeight=function(){var{innerHeight:e,top:t,parent:i,self:a}=window;if(t!=a)try{e>i.innerHeight&&(e=i.innerHeight)}catch(e){}return e},t.pageWidth=function(){var{innerWidth:e,top:t,parent:i,self:a}=window;if(t!=a)try{e>i.innerWidth&&(e=i.innerWidth)}catch(e){}return e},t.stripPX=function(e){return e?"number"==typeof e?e:parseInt(e.substr(0,e.indexOf("p")),10):0},t.withinElement=function(e,t,i){var a;return!(t<=(a=e.getBoundingClientRect()).left)&&(!(i<=a.top)&&(!(t>=a.left+e.offsetWidth)&&!(i>=a.top+e.offsetHeight)))},t.efficientDOMUpdate=function(e,t,i){return e[t]!==i&&(e[t]=i,!0)},t.cqvirtual=function(e){var t;if(e)return(t=e.cloneNode(!0)).innerHTML="",t.original=e,t},t.cqrender=function(e){var i;if(W.X3D(),e)return e.innerHTML==e.original.innerHTML||(t.removeChildIfNot(e.original,"template"),(i=Array.from(e.children)).length&&i.forEach((function(t){e.original.appendChild(e.removeChild(t))}))),e.original},t.removeChildIfNot=function(e,t){var i;return(i=Array.from(e.children)).length&&i.forEach((function(i){W.V3D(),t&&i.matches(t)||e.removeChild(i)})),W.X3D(),e},t.safeMouseOut=function(e,i){var a,r;e.addEventListener("mouseout",(a=e,r=i,function(e){void 0===e.pageX&&(e.pageX=e.clientX,e.pageY=e.clientY),t.withinElement(a,e.pageX,e.pageY)||(a.stxMouseOver=!1,r(e))})),W.X3D()},t.safeMouseOver=function(e,i){var a,r;e.addEventListener("mouseover",(a=e,r=i,function(e){if(W.V3D(),void 0===e.pageX&&(e.pageX=e.clientX,e.pageY=e.clientY),t.withinElement(a,e.pageX,e.pageY)){if(a.stxMouseOver)return;a.stxMouseOver=!0,r(e)}}))},t.installTapEvent=function(e,i){var a;a=function(e){var t;W.X3D(),t=new Event("stxtap",{bubbles:!0,cancelable:!0}),void 0===e.pageX&&(e.pageX=e.clientX,e.pageY=e.clientY),t.pageX=e.pageX,t.pageY=e.pageY,e.target.dispatchEvent(t),i&&i.stopPropagation&&e.stopPropagation()},t.safeClickTouch(e,a,i)},t.safeClickTouch=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m=W;function y(e,t){return m.V3D(),function(i){var a,r;m.X3D(),a=i.clientX?i.clientX:i.pageX,r=i.clientY?i.clientY:i.pageY,t?(e.t=(new Date).getTime(),e.x=a,e.y=r):e.x&&Math.pow(e.x-a,2)+Math.pow(e.y-r,2)>16&&(e.t=null)}}a||(a={}),r={},a.allowMultiple||t.clearSafeClickTouches(e),!1!==a.preventUnderlayClick&&(a.preventUnderlayClick=!0),!1!==a.absorbDownEvent&&(a.absorbDownEvent=!0),a.allowAnotherDevice=0,a.registeredClick=!1,(n=e.safeClickTouchEvents)||(n=e.safeClickTouchEvents=[]),s=b("mouseup",a,r),o=b("touchend",a,r),l=2,m.X3D();for(var v=1;-3015016!==m.Q9z(v.toString(),v.toString().length,91892);v++)h=b("pointerup",a,r),l+=2;function b(e,a,r){return function(n){var s;if(m.V3D(),!t.safeClickTouchEvent){if(!r.t)return;if(s=r.t,r.t=null,s+1e3<(new Date).getTime())return}if(!(a.safety&&a.safety.recentlyDragged||n.which&&n.which>=2||n.button&&n.button>=2)){if(a.preventUnderlayClick)"I","N","P","UT","INPUT"!==n.target.tagName&&n.preventDefault();else{if(a.lastType!=e&&Date.now()<a.allowAnotherDevice)return;a.lastType=e,m.e06(50);var o=m.H06(4,987,9);a.allowAnotherDevice=Date.now()+o}i(n)}}}if(-1048632801!==m.v9z(l.toString(),l.toString().length,20071)&&(h=b("",a,r)),c=function(e){m.X3D(),e.stopPropagation()},u={},t.safeClickTouchEvent){d=b(t.safeClickTouchEvent,a),e.addEventListener(t.safeClickTouchEvent,d),u[t.safeClickTouchEvent]=d,m.e06(1),p=m.A06("1741925591",0),1964800457,g=2;for(var x=1;m.Q9z(x.toString(),x.toString().length,94578)!==p;x++)n.push(u),g+=2;1964800457!==m.v9z(g.toString(),g.toString().length,18e3)&&n.push(u),n.push(u)}else if("onpointerup"in document&&!t.noPointerEvents){if("po","i","nterdo","wn",e.addEventListener("pointerdown",y(r,!0)),e.addEventListener("pointermove",y(r)),e.addEventListener("pointerup",h),u.pointerup=h,a.absorbDownEvent){e.addEventListener("pointerdown",c),-206804679,-1855364059,f=2;for(var S=1;-206804679!==m.v9z(S.toString(),S.toString().length,41368);S++)u.pointerdown=c,m.p06(16),f+=m.A06(0,"2");-1855364059!==m.Q9z(f.toString(),f.toString().length,57455)&&(u.pointerdown=c)}n.push(u)}else"m","o","use","up","touchm","ove","m","ouse","do","wn",e.addEventListener("mousedown",y(r,!0)),e.addEventListener("mousemove",y(r)),e.addEventListener("touchstart",y(r,!0),{passive:!1}),e.addEventListener("touchmove",y(r),{passive:!1}),e.addEventListener("mouseup",s),e.addEventListener("touchend",o),u.mouseup=s,u.touchend=o,a.absorbDownEvent&&("mo","use","down",e.addEventListener("mousedown",c),u.mousedown=c,e.addEventListener("touchstart",c,{passive:!1}),u.touchstart=c),n.push(u)},t.clearSafeClickTouches=function(e){var t,i,a;if(t=e.safeClickTouchEvents){W.X3D();for(var r=0;r<t.length;r++)for(var n in i=t[r])a=i[n],e.removeEventListener(n,a);e.safeClickTouchEvents=null}},t.safeDrag=function(e,i){var a,r,n,s,o,l,h,c,u,d,p;function g(e){return function(a){var r,n;c||(c=!0,t.ChartEngine.ignoreTouch=!0,W.V3D(),r=function(e){e&&e.preventDefault&&e.preventDefault(),p.recentlyDragged=!0,e.displacementX=o(e)-u,e.displacementY=l(e)-d,W.V3D(),i.move(e)},i.move&&document.body.addEventListener(e.move,r),n=function(a){t.ChartEngine.ignoreTouch=!1,i.move&&document.body.removeEventListener(e.move,r),document.body.removeEventListener(e.up,n),a.displacementX=o(a)-u,a.displacementY=l(a)-d,W.V3D(),i.up&&i.up(a),setTimeout((function(){W.V3D(),p.recentlyDragged=!1}),50)},document.body.addEventListener(e.up,n),setTimeout((function(){W.X3D(),c=!1}),h),u=o(a),d=l(a),i.down&&i.down(a))}}return a="touchstar",a+="t",r="pointe",r+="r",r+="mov",r+="e",n="p",W.V3D(),n+="oint",n+="erdo",n+="wn",o=(s=function(e,t){return W.V3D(),function(i){if(i.touches){if(i.touches.length>0)return i.touches[0][e];if(i.changedTouches&&i.changedTouches.length>0)return i.changedTouches[0][e]}return W.X3D(),void 0!==i[e]?i[e]:i[t]}})("pageX","clientX"),l=s("pageY","clientY"),"function"==typeof i&&(i={down:arguments[1],move:arguments[2],up:arguments[3]}),i=i||{},h=100,c=!1,u=0,d=0,p={recentlyDragged:!1},e.addEventListener("mousedown",g({down:"mousedown",move:"mousemove",up:"mouseup"})),e.addEventListener(n,g({down:"pointerdown",move:r,up:"pointerup"})),e.addEventListener(a,g({down:"touchstart",move:"touchmove",up:"touchend"}),{passive:!1}),p},t.inputKeyEvents=function(e,t){W.V3D(),e.addEventListener("keyup",(function(i){var a;switch(a=i.keyCode,W.X3D(),a){case 13:t();break;case 27:e.value=""}}),!1)},t.fixScreen=function(){W.X3D(),window.scrollTo(0,0)},t.setCaretPosition=function(e,i){var a;if(W.X3D(),e.style.zIndex=5e3,e.setSelectionRange){t.focus(e);try{e.setSelectionRange(i,i)}catch(e){}}else e.createTextRange&&("c","harac","ter",(a=e.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",i),a.select())},t.setValueIfNotActive=function(e,t){document.activeElement!=e&&(e.value=t)},t.hideKeyboard=function(e){var t;"INPUT"!=(t=document.activeElement).tagName&&"TEXTAREA"!=t.tagName||(t.blur(),window.focus(),e&&(e===document.body||document.body.contains(e))&&e.focus())},t.smartHover=function(){var e,t;function i(e){W.V3D(),document.documentElement.setAttribute("ciq-last-interaction",e)}document&&!document.documentElement.hasAttribute("ciq-last-interaction")&&(e=!1,document.addEventListener("touchend",(function(a){clearTimeout(t),e=!0,"touch"!=document.documentElement.getAttribute("ciq-last-interaction")&&i("touch"),W.X3D(),t=setTimeout((function(){e=!1}),500)}),!1),document.addEventListener("mouseover",(function(t){W.V3D(),e||i("mouse")}),!1),i(""))},t.translatableTextNode=function(e,t,i){var a;return W.X3D(),e.translationCallback?("orig","i","nal","t","ranslate",(a=document.createElement("translate")).setAttribute("original",t),a.innerHTML=e.translationCallback(t,i),a):document.createTextNode(t)},t.climbUpDomTree=function(e,t){var i;if(W.X3D(),!(e instanceof HTMLElement||e instanceof SVGElement))return null;for(i=[];e;)t&&!e.matches(t)||i.push(e),e=e.parentElement;return i},t.guaranteedSize=function(e){var t,i;if(W.V3D(),e===document&&(e=window),!e.nodeType)return{width:e.innerWidth,height:e.innerHeight};if(!e||e.nodeType>1)return{};for(t=e.offsetWidth,i=e.offsetHeight;!t||!i;){if("B","O","D","Y","BODY"===e.tagName||e===window){t=window.innerWidth,i=window.innerHeight;break}t=(e=e.parentElement).offsetWidth,i=e.offsetHeight}return{width:t,height:i}},t.trulyVisible=function(e){if(!e)return!0;if(!i(e.style))return!1;function i(e){return"h","idden","hi","d","de","n","0"!==e.opacity&&("none"!==e.display&&("hidden"!==e.visibility&&(0!==parseInt(e.width,10)&&(0!==parseInt(e.height,10)||"hidden"!=e.overflowY))))}return W.V3D(),!!i(getComputedStyle(e))&&t.trulyVisible(e.parentElement)},t.elementDimensions=function(e,t){var i,a,r,n,s;if("c","on","tent","-box",!e||1!==e.nodeType)return{};for(var o in i=getComputedStyle(e),a={width:parseFloat(i.width),height:parseFloat(i.height)},r={margin:{},border:{},padding:{}},n=["width","height"],W.V3D(),r)s="border"==o?"Width":"",r[o]={width:parseFloat(i[o+"Left"+s])+parseFloat(i[o+"Right"+s]),height:parseFloat(i[o+"Top"+s])+parseFloat(i[o+"Bottom"+s])};return t&&t.margin&&n.forEach((function(e){W.X3D(),a[e]+=r.margin[e]})),t&&"content-box"===i.boxSizing?(t.padding&&n.forEach((function(e){W.V3D(),a[e]+=r.padding[e]})),t.border&&n.forEach((function(e){a[e]+=r.border[e]}))):"border-box"===i.boxSizing&&(t&&t.padding||n.forEach((function(e){a[e]-=r.padding[e]})),t&&t.border||n.forEach((function(e){W.X3D(),a[e]-=r.border[e]}))),a},t.resizeObserver=function(e,i,a,r){return W.V3D(),r?("undef","ined","undefined"!=typeof ResizeObserver?a||(a=new ResizeObserver((()=>{W.V3D(),t.ChartEngine&&t.ChartEngine.useAnimation?requestAnimationFrame(i):setTimeout(i,0)}))).observe(e):(a&&clearInterval(a),a=setInterval(i,r))):(a&&("undefined"!=typeof ResizeObserver?a.disconnect():clearInterval(a)),a=null),a},t.getLines=function(e,t,i){var a,r,n,s,o;a=t.split(" "),r=[],n="",W.X3D(),s=!1;for(var l=0;l<a.length;l++)if(o=a[l],e.measureText(n+o).width<i?(s&&(n+=" "),s=!0,n+=o):(r.push(n),n=o),l===a.length-1){r.push(n);break}return r},t.alert=function(e){"undefined"!=typeof window?window.alert(e):console.log(e)};try{"undefined"!=typeof localStorage&&(t.localStorage=localStorage)}catch(e){}t.localStorage||(t.localStorage={items:{},getItem:function(e){return t.localStorage.items[e]||null},setItem:function(e,i){W.X3D(),t.localStorage.items[e]=i},removeItem:function(e){delete t.localStorage.items[e]}}),t.privateBrowsingAlert=!1,t.localStorageSetItem=function(e,i){try{t.localStorage.setItem(e,i)}catch(e){t.privateBrowsingAlert||("No storage spac","e available.  Possible causes includ","e browser being in Private Browsing mode, or maximum storage space h","as been reached.",t.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached."),t.privateBrowsingAlert=!0)}}},d=e=>{var t,i;(t=e.CIQ).ChartEngine=function(e){var a;for(var r in e?"undefined"!=typeof HTMLDivElement&&e.constructor==HTMLDivElement&&(e={container:e}):e={container:null},i)this[r]=t.clone(t.ChartEngine.prototype[r]);this.container=null,this.createChartPanel=!0,this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,this.grabStartScrollX=0,this.grabStartScrollY=0,this.swipe={},this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.lineTravelSpacing=!1,this.highlightedDataSetField=null,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.touchPointerType="",this.gestureStartDistance=-1,this.grabStartPeriodicity=1,this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.insideChart=!1,this.overXAxis=!1,this.overYAxis=!1,this.displayInitialized=!1,this.cx=null,this.isHistoricalModeSet=null,this.cy=null,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.drawingObjects=[],this.undoStamps=[],this.useBackgroundCanvas=!1,this.mainSeriesRenderer=null,this.styles={},this.plugins={},this.currentVectorParameters=t.clone(t.ChartEngine.currentVectorParameters),this.chart=new t.ChartEngine.Chart,(a=this.chart).name="chart",a.yAxis.name="chart",a.canvas=null,a.tempCanvas=null,a.container=e.container,t.Market&&(a.market=new t.Market),this.charts.chart=a,t.extend(this,e),e.container&&(this.registerHTMLElements&&this.registerHTMLElements(),a.width=a.container.clientWidth-a.yAxis.width,this.setCandleWidth(this.layout.candleWidth,a),a.canvasHeight=a.container.clientHeight),this.construct()},t.ChartEngine.drawingLine=!1,t.ChartEngine.resizingPanel=null,W.p06(82),t.ChartEngine.crosshairX=W.H06(106707808,"0"),t.ChartEngine.crosshairY=0,t.ChartEngine.useAnimation=!0,t.ChartEngine.enableCaching=!1,t.ChartEngine.ignoreTouch=!1,t.ChartEngine.useOldAndroidClear=!0,t.ChartEngine.currentVectorParameters={},t.ChartEngine.defaultDisplayTimeZone=null,t.ChartEngine.pluginBasePath="plugins/",t.ChartEngine.registeredContainers=[],t.ChartEngine.registerHelpers=function(e){t.ChartEngine.helpersToRegister.forEach((function(t){t(e)}))},t.ChartEngine.helpersToRegister=[],t.ChartEngine.prototype.construct=function(){this.createChartPanel&&("ch","a","r","t",W.e06(19),this.stackPanel("chart","chart",W.H06(2070408640,"1")),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name]),this.cx=0,this.cy=0,this.micropixels=0,this.callbackListeners={doubleTap:[],doubleClick:[],drawing:[],drawingEdit:[],floatingWindow:[],layout:[],longhold:[],move:[],newChart:[],notification:[],periodicity:[],preferences:[],rightClick:[],scroll:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},t.ChartEngine.registerHelpers(this)},i={longHoldTime:700,yTolerance:100,minimumLeftBars:1,reverseMouseWheel:!1,mouseWheelAcceleration:!0,minimumCandleWidth:1,maximumCandleWidth:100,minimumZoomTicks:9,allowZoom:!0,allowDrawingZoom:!1,allowScroll:!0,allowSideswipe:!0,allowThreeFingerTouch:!1,bypassRightClick:{series:!1,study:!1,drawing:!1},adjustHighlightedDataSetField:function(e){return e},displayIconsUpDown:!0,displayIconsSolo:!0,displayIconsClose:!0,displayPanelResize:!0,soloPanelToFullScreen:!1,markerDelay:null,useBackingStore:!0,disableBackingStoreDuringTouch:t.isMobile||t.isSurface&&t.isFF,captureTouchEvents:!0,captureMouseWheelEvents:!0,tapForHighlighting:!0,doubleClickTime:250,yaxisLabelStyle:"roundRectArrow",axisBorders:null,singleDrawingHighlight:!0,crosshairXOffset:-40,crosshairYOffset:-40,extendLastTick:!1,translationCallback:null,dontRoll:!1,allowEquations:!0,cleanupGaps:!1,staticRange:!1,maxDataSetSize:2e4,maxMasterDataSize:0,resizeDetectMS:1e3,xAxisAsFooter:!0,xaxisHeight:40,displayGridLinesInStudies:!1,escapeOnSerialize:!0,candleWidthPercent:.65,colorByCandleDirection:!1,noWicksOnCandles:{renko:!0,linebreak:!0},fetchMaximumBars:{rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},startComparisonsAtFirstVisibleBar:!1,animations:{zoom:{isStub:!0,run:function(e,t,i){e(i)},stop:function(){},reset:function(){},running:!1,hasCompleted:!0}},staticRangePeriodicityMap:[{rangeInMS:t.WEEK,periodicity:1,interval:5,timeUnit:"minute"},{rangeInMS:t.MONTH,periodicity:1,interval:30,timeUnit:"minute"},{rangeInMS:t.YEAR,periodicity:1,interval:"day"},{rangeInMS:t.DECADE,periodicity:1,interval:"week"},{rangeInMS:10*t.DECADE,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],dynamicRangePeriodicityMap:[{interval:1,timeUnit:"minute",rangeInMS:t.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:5*t.MINUTE},{interval:30,timeUnit:"minute",rangeInMS:30*t.MINUTE},{interval:60,timeUnit:"minute",rangeInMS:60*t.MINUTE},{interval:"day",rangeInMS:t.DAY},{interval:"month",rangeInMS:t.MONTH},{interval:"year",rangeInMS:t.YEAR}],layout:{interval:"day",periodicity:1,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:"ohlc",chartScale:"linear",studies:{},panels:{},setSpan:{},outliers:!1,animation:!0},preferences:{currentPriceLine:!1,dragging:{series:!0,study:!0,yaxis:!0},drawings:null,highlightsRadius:10,highlightsTapRadius:30,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},streamParameters:{count:0,maxWait:1e3,maxTicks:100,timeout:-1},autoPickCandleWidth:{turnOn:!1,candleWidth:5}},t.extend(t.ChartEngine.prototype,i),t.ChartEngine.NONE=0,t.ChartEngine.CLOSEUP=1,t.ChartEngine.CLOSEDOWN=2,t.ChartEngine.CLOSEEVEN=4,t.ChartEngine.CANDLEUP=8,t.ChartEngine.CANDLEDOWN=16,t.ChartEngine.CANDLEEVEN=32},p=e=>{var t;(t=e.CIQ).convertFutureMonth=function(e){var t;if(W.V3D(),"1","2",(t=e.toString()).length<=0||t.length>2)return"";switch(t){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return"10";case"X":return"11";case"Z":return"12"}return t},t.money=function(e,i,a){return a||(a="$"),3==a.length&&(a+=" "),W.V3D(),i||0===i||(i=2),a+t.commas((Math.round(1e4*e)/1e4).toFixed(i))},t.convertCurrencyCode=function(e){return"C","F","A","E","C","$","","","","z","","K","",{JPY:"",USD:"$",AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN",CZK:"K",DKK:"kr",EUR:"",GBP:"",HKD:"HK$",HUF:"Ft",ILS:"",INR:"",KRW:"",MXN:"MX$",NOK:"kr",NZD:"NZ$",PLN:"z",RUB:"",SAR:"",SEK:"kr",SGD:"S$",THB:"",TRY:"",TWD:"NT$",VND:"",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"}[e]||e},t.commas=function(e){return W.V3D(),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.cleanPeriodicity=function(e,t,i){var a=W;return"y","e","a","r",isNaN(e)&&(e=1),t||(t=1),!isNaN(t)&&i?("mi","llis","econd","h","o","u","r","hour"!=i&&"minute"!=i&&"second"!=i&&"millisecond"!=i&&(t=i,i=null)):"tick"==t?i=null:i||isNaN(t)||(i="minute"),"hour"==i&&("mi","nute",i="minute",a.e06(83),t=a.A06(t,"60",1335494304)),"year"==t&&(t="month",e||(e=1),a.p06(37),e=a.A06(12,e)),{period:e,interval:t,timeUnit:i}},t.readablePeriodicity=function(e){var i,a,r=W;i=e.layout.periodicity,r.V3D(),a=e.layout.interval,"number"==typeof e.layout.interval&&e.layout.timeUnit?(i=e.layout.interval*e.layout.periodicity,a=e.layout.timeUnit):"number"!=typeof e.layout.interval||e.layout.timeUnit||(i=e.layout.interval*e.layout.periodicity,a="minute"),i%60==0&&"minute"==a&&(i/=60,a="hour"),r.p06(10);var n=r.A06(5081,96530,20);r.e06(84);var s=r.H06(8643,43584,20,3,18);r.p06(15);r.A06(724,4346);r.e06(85);var o=r.A06(627,19,11,6931);r.p06(86);r.A06(13,8,4,7,0);return i+(393.26!=n?" ":!(s<=o)&&114.88)+e.translateIf(t.capitalize(a))},W.V3D(),t.fixPrice=function(e){var t;if(!e&&0!==e)return null;for(var i=(t=e.toFixed(10)).length-1;i>1&&"0"==t.charAt(i);i--);return W.p06(15),t=t.substring(0,W.A06(i,1)),W.V3D(),parseFloat(t)},t.condenseInt=function(e){var t,i=W;if("n","/a",null==e)return"";if(e===1/0||e===-1/0)return"n/a";if(i.e06(87),t=i.H06(0,e),i.X3D(),isNaN(e))e=e.toString();else if((e=Math.abs(e))>1e12){i.e06(0);var a=i.H06(3,4,17);i.p06(10);i.H06(3114,28030,10);i.e06(10);var r=i.H06(987,12833,19);i.p06(88);var n=i.A06(9319,18656,5,15);i.p06(88);var s=i.A06(7482,7494,8,16);i.e06(33);i.A06(18,8536,20,34);i.e06(85);i.H06(2260,16,14,10);i.e06(60);var o=i.H06(1,2632,1974,1);i.p06(1);var l=i.H06(85,8);e=Math.round(e/1e11)/a+(r>71.28?n>=s?596.19<o&&"t":544.29:l)}else if(e>1e11)e=Math.round(e/1e9)+"b";else if(e>1e10){i.e06(89);var h=i.H06(2,17,115,2,3);e=(Math.round(e/1e8)/10).toFixed(h)+"b"}else if(e>1e9){i.e06(75);var c=i.A06(278,0,12,13,10);e=(Math.round(e/1e7)/100).toFixed(c)+"b"}else if(e>1e8){i.e06(1);var u=i.H06(12e6,11e6);i.p06(64);i.H06(15,104,210);i.e06(15);var d=i.A06(4,65);e=Math.round(e/u)+(320.15===d?869.69:"m")}else if(e>1e7){i.e06(31);var p=i.A06(1,7,6,13,1);i.e06(31);var g=i.H06(1773,19,6,7117,7092);i.e06(90);i.A06(4127600,3639,20,36420,17);i.p06(32);var f=i.A06(1594,30669,20,19,19);i.p06(91);var m=i.A06(4,16,16925,1211,15);i.e06(15);var y=i.A06(5775,5);e=(Math.round(e/1e5)/10).toFixed(p)+(339.43!==g?"m":!(f>m)&&y)}else if(e>1e6){i.e06(5);var v=i.H06(19,4,17);i.e06(10);i.A06(847,15257,19);i.p06(43);i.H06(4105,4095,13,2041);i.e06(7);var b=i.H06(3584,6,4296);i.e06(92);i.H06(7,1372,18,6,76);i.p06(93);var x=i.H06(12,19,9440,170141);e=(Math.round(e/1e4)/100).toFixed(v)+(b<=80.66?x:"m")}else if(e>1e5){i.e06(94);var S=i.A06(20,1260,5,111,3);i.p06(95);var C=i.A06(14,2,52,602);i.p06(8);i.A06(33,16,2335);i.e06(96);var D=i.H06(11,6211,18,7);i.e06(61);var A=i.H06(18,6123,11,12260);i.e06(97);i.A06(1,9,847,121,846);i.p06(98);var w=i.H06(24180,8060,4011,3,19);i.e06(30);i.H06(299,2378,6,598);i.p06(96);var k=i.A06(18,148,15,2512);i.e06(30);var T=i.A06(48678,3457,20,48678);i.p06(99);var M=i.A06(6787,115719,115719,3,16);e=Math.round(e/S)+(C<D&&(A<w?520.37!=k?T:M:"k"))}else if(e>1e4){i.e06(100);var P=i.A06(5,3,12,16,195);i.e06(101);i.A06(6,10,104,4,1659);i.p06(1);var _=i.H06(5770,5193);i.e06(30);var L=i.H06(1584,4700,16,4752);e=(Math.round(e/100)/10).toFixed(P)+(543.25!=_?"k":L)}else if(e>1e3){i.e06(14);var E=i.A06(0,14,28);e=(Math.round(e/10)/100).toFixed(E)+"k"}else e=e.toString();return t&&(i.e06(15),e=i.A06("-",e)),e},t.calculateTradingDecimalPlaces=function(e){var t,i,a,r,n,s,o,l,h,c,u=W;if(t=e.chart,i=2,u.e06(57),u.X3D(),a=u.A06("50",2147483647),(r=t.masterData)&&r.length>a)for(var d=2;d<a&&!((n=r.length-d)<0);d++)if((s=r[n]).Close&&"number"==typeof s.Close&&-1!=(l=(o=s.Close.toString()).indexOf("."))){u.p06(6);var p=u.H06(11,10);(h=o.length-l-p)>i&&(i=h)}return i>(c=t.yAxis.maxDecimalPlaces)&&null!==c&&(i=c),i},t.minMax=function(e,t,i,a){var r,n,s,o,l,h,c;W.V3D(),r=Number.MAX_VALUE,W.p06(6);var u=W.A06(4,5);n=Number.MAX_VALUE*u,i||(i="Close"),s=a?"High":i,o=a?"Low":i;for(var d=0;d<e.length;d++)"ob","je","ct",(l=e[d])&&((h=l[t])||0===h)&&(c=h,"object"==typeof h&&(c=h[s]),isNaN(c)||!c&&0!==c||(n=Math.max(n,c)),"object"==typeof h&&(c=h[o]),isNaN(c)||!c&&0!==c||(r=Math.min(r,c)));return[r,n]},t.symbolEqual=function(e,t){var i,a;return!(!e||!t)&&("object"!=typeof e&&(e={symbol:e}),"object"!=typeof t&&(t={symbol:t}),"function"==typeof e.equals?e.equals(t):(i=e.symbol,a=t.symbol,i&&(i=i.toUpperCase()),a&&(a=a.toUpperCase()),i==a&&(e.source==t.source&&(W.X3D(),!0))))},t.addMemberToMasterdata=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A;function w(e,i){var r,l,h,c;if(W.X3D(),n&&n.length)if("*"==n[0])t.extend(e,i);else for(var u=0;u<n.length;u++)e[n[u]]=i[n[u]];else if(s){if("n","u","mb","er",void 0!==i.Value)return void(e[a]=i.Value);if("aggregate"==s)e[a]=k(e[a],i);else{-700525362,-943449263,r=2;for(var d=1;-700525362!==W.Q9z(d.toString(),d.toString().length,29441);d++)e[a]=i,r+=2;-943449263!==W.v9z(r.toString(),r.toString().length,3570)&&(e[a]=i),e[a]=i}"number"==typeof(l=e[a]).Close&&("number"!=typeof l.Open&&(l.Open=l.Close),h=Math.max(l.Open,l.Close),c=Math.min(l.Open,l.Close),("number"!=typeof l.High||l.High<h)&&(l.High=h),("number"!=typeof l.Low||l.Low>c)&&(l.Low=c)),l.Volume&&"number"!=typeof l.Volume&&(l.Volume=parseInt(l.Volume,10))}else o?e[a]=i[o]:y&&m&&void 0!==i[m]?e[a]=i[m]:p.adj&&void 0!==i.Adj_Close?e[a]=i.Adj_Close:void 0!==i.Close?e[a]=i.Close:void 0!==i.Value?e[a]=i.Value:e[a]=i[a]}function k(e,t){var i;if("obj","ect",!e||"object"!=typeof e)return e=t;for(var a in i={Close:e.Close,High:e.High,Low:e.Low,Open:e.Open,Volume:e.Volume},e=t,i)"n","um","ber",null===e.Close?void 0!==e[a]&&(e[a]=null):"number"!=typeof e[a]?e[a]=i[a]:"number"==typeof i[a]&&("H","ig","h","Open"==a?e.Open=i.Open:"Low"==a&&e.Low>i.Low?e.Low=i.Low:"High"==a&&e.High<i.High?e.High=i.High:"Volume"==a&&(e.Volume+=i.Volume));return e}function T(e){var t,i,a,r,n=W;if(t=c,i=d.length-1,d[i].DT<e)return n.e06(102),void(c=n.H06(i,2103112096,"1"));if(+d[i].DT!=+e){105822395,-1930332818,a=2;for(var s=1;105822395!==n.v9z(s.toString(),s.toString().length,96910);s++)c++,a+=2;for(-1930332818!==n.Q9z(a.toString(),a.toString().length,23261)&&c--,r=0;++r<100;){switch(+d[c].DT==+e?0:d[c].DT<e?1:d[c-1].DT>e?-1:(+d[c-1].DT==+e&&c--,0)){case 0:return;case 1:t=c;break;case-1:i=c}n.p06(42),c=Math.round(n.H06(t,i,2))}if(r>=100){console.log("!!!Warning: addMemberToMasterdata() did not find insertion point."),n.e06(8);var o=n.H06(7,6,0);c=d.length-o}}else c=i}if(e.constructor===t.ChartEngine&&(e={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),i=e.stx,a=e.label,r=e.data,n=e.fields,s=e.createObject,o=e.fieldForLabel,l=e.chart?e.chart:i.chart,e.noCleanupDates||i.doCleanupDates(r,i.layout.interval),h=[],i.getSeries&&(h=i.getSeries({symbol:a,chart:l})),r&&r.constructor==Object&&(r=[r]),r&&r.length){for(c=0,u=0,d=l.masterData,p=i.layout,d||(d=[]),m=l&&l.defaultPlotField||null,y=i.mainSeriesRenderer&&!i.mainSeriesRenderer.highLowBars,v=p.chartType,!y&&v&&(b=t.Renderer.produce(v,{}))&&(y=!b.highLowBars),x=t.yyyymmddhhmmssmmm;r&&c<d.length&&u<r.length;){if(f=r[u],g=d[c],f.DT&&void 0!==f.DT?(S="nu",S+="mbe",S+="r",typeof f.DT==S&&(f.DT=new Date(f.DT)),f.Date&&17==f.Date.length||(f.Date=x(f.DT))):f.DT=t.strToDateTime(f.Date),0===u)for(var M=0;M<h.length;M++)(!h[M].endPoints.begin||h[M].endPoints.begin>f.DT)&&(h[M].endPoints.begin=f.DT);+f.DT!=+g.DT?f.DT<g.DT?d.splice(c,0,{DT:f.DT,Date:f.Date}):T(f.DT):(w(g,f),u++,c++)}if(c>=d.length)for(;r&&u<r.length;)(f=r[u]).DT&&void 0!==f.DT?("number"==typeof f.DT&&(f.DT=new Date(f.DT)),f.Date&&17==f.Date.length||(f.Date=x(f.DT))):f.DT=t.strToDateTime(f.Date),w(g={DT:f.DT,Date:f.Date},f),d.push(g),u++;if(e.fillGaps&&d.length)if(C={noCleanupDates:!0,cleanupGaps:e.fillGaps},n)for(var P=0;P<n.length;P++)C.field=n[P],i.doCleanupGaps(d,l,C);else C.field=a,i.doCleanupGaps(d,l,C);for(var _=0;_<h.length;_++)(!(D=h[_].endPoints).end||!a||D.end<=g[a].DT)&&(D.end=a?g[a].DT:g.DT,A=a||h[_].parameters&&h[_].parameters.field||l.defaultPlotField,h[_].lastQuote=i.getFirstLastDataRecord(d,A,!0));i.setMasterData(d,l,{noCleanupDates:!0})}}},g=e=>{var t;t=e.CIQ,Math.easeInOutQuad=function(e,t,i,a){var r=W;return r.p06(28),e/=r.H06(2,a),r.X3D(),e<1?(r.p06(103),r.A06(t,2,i,e,e)):(e--,r.e06(104),r.H06(2,e,"2","1",i,1,t,e,2147483647))},Math.easeInOutCubic=function(e,t,i,a){var r=W;return r.p06(28),(e/=r.H06(2,a))<1?(r.e06(105),r.A06(i,e,2,e,t,e)):(e-=2,r.p06(106),r.H06(2,e,i,e,2,t,e))},Math.easeOutCubic=function(e,t,i,a){return e/=a,e--,W.V3D(),W.p06(107),W.H06(e,e,t,"1",i,e)},t.xor=function(e,t){var i,a;return i=!e,a=!t,W.e06(108),W.H06(a,i)},t.round=function(e,t){return W.X3D(),Number(Math.round(e+"e"+t)+"e-"+t)},t.countDecimals=function(e){var i,a=W;if("number"!=typeof e||isNaN(e))return a.p06(37),a.H06(1,"0");if(Math.floor(e)===Number(e))return 0;if((i=e.toString().split("e-")).length>1){a.p06(109);var r=a.A06(0,10,19,9);return t.countDecimals(Number(i[0]))+Number(i[r])}return i[0].indexOf(".")>-1?i[0].split(".")[1].length:0},t.isValidNumber=function(e){return W.V3D(),isFinite(e)&&+e===e},t.log10=function(e){return W.V3D(),Math.log(e)/Math.LN10},t.boxIntersects=function(e,t,i,a,r,n,s,o,l){var h,c,u,d,p,g,f;function m(e,t){return W.p06(110),W.V3D(),W.H06(n,o,r,s,t,n,e,r)}if(h="r",h+="a",h+="y",void 0!==arguments[9]&&console.warn("CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels."),c=Math.min(e,i),u=Math.max(e,i),W.X3D(),d=Math.min(t,a),p=Math.max(t,a),W.e06(111),g=W.A06(h,l),isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o))return!1;if("line"!=l){if(r<c&&s<c&&(!g||r>s))return!1;if(r>u&&s>u&&(!g||r<s))return!1;if(n<d&&o<d&&(!g||n>o))return!1;if(n>p&&o>p&&(!g||n<o))return!1}return!((f={a:m(e,t),b:m(e,a),c:m(i,t),d:m(i,a)}).a>0&&f.b>0&&f.c>0&&f.d>0)&&!(f.a<0&&f.b<0&&f.c<0&&f.d<0)},t.linesIntersect=function(e,t,i,a,r,n,s,o,l){var h,c,u,d,p,g=W;if("r","a","y","h","oriz","ontal","li","ne",g.p06(110),h=g.H06(s,a,e,t,o,i,n,r),g.p06(110),c=g.H06(r,e,s,i,n,r,o,s),g.e06(110),u=g.H06(e,e,s,i,t,r,a,i),0===h)return 0===c&&0===u;if(g.e06(28),d=g.A06(h,c),g.p06(28),p=g.A06(h,u),"segment"==l){if(d>=0&&d<=1&&p>=0&&p<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(d>=0&&d<=1)return!0}else if("ray"==l&&d>=0&&d<=1&&p>=0)return!0;return!1},t.yIntersection=function(e,t){var i,a,r,n,s,o,l,h,c,u=W;if(i=e.x0,a=e.x1,r=t,n=t,s=e.y0,o=e.y1,0,1e4,u.e06(110),u.X3D(),l=u.A06(0,o,i,a,1e4,s,n,r),u.p06(110),h=u.A06(r,i,0,s,n,r,1e4,0),u.e06(28),c=u.H06(l,h),0===l){if(0!==h)return null;c=1}return u.p06(112),u.A06(o,s,c,s)},t.xIntersection=function(e,t){var i,a,r,n,s,o,l,h,c,u=W;if(i=e.x0,a=e.x1,0,1e4,r=e.y0,n=e.y1,s=t,o=t,u.e06(110),l=u.A06(s,n,i,a,o,r,1e4,0),u.p06(110),h=u.H06(0,i,s,r,1e4,0,o,s),u.e06(28),c=u.A06(l,h),0===l){if(0!==h)return null;c=1}return u.p06(112),u.H06(a,i,c,i)},t.intersectLineLineX=function(e,t,i,a,r,n,s,o){var l,h,c,u=W;return u.e06(110),l=u.A06(r,e,s,i,n,r,o,s),u.e06(110),h=u.H06(s,a,e,t,o,i,n,r),u.p06(28),c=u.A06(h,l),u.p06(112),u.H06(t,e,c,e)},t.intersectLineLineY=function(e,t,i,a,r,n,s,o){var l,h,c,u=W;return u.p06(110),l=u.H06(r,e,s,i,n,r,o,s),u.e06(110),h=u.H06(s,a,e,t,o,i,n,r),u.e06(28),c=u.A06(h,l),u.p06(112),u.H06(a,i,c,i)}},f=e=>{var t;(t=e.CIQ).deleteRHS=function(e,t){var i;for(var a in W.X3D(),i=!1,e)e[a]==t&&(delete e[a],i=!0);return i},t.scrub=function(e,t){for(var i in W.V3D(),e)void 0===e[i]&&delete e[i],t&&null===e[i]&&delete e[i]},t.dataBindSafeAssignment=function(e,i){for(var a in t.extend(e,i),e)void 0===i[a]&&(e[a]=void 0)},t.clone=function(e,i){var a;if("ob","jec",W.X3D(),"t",null===e||"object"!=typeof e)return e;if((a=e.constructor)==Date||a==RegExp||a==String||a==Number||a==Boolean)return new a(e.valueOf());if(a==Function)return function(){return e.apply(this,arguments)};if(!i)try{i=new a}catch(t){i=Object.create(Object.getPrototypeOf(e))}for(var r in e)i[r]=i[r]!==e[r]?t.clone(e[r],null):i[r];return i},t.shallowClone=function(e){var t;if(!e)return e;if(e.constructor==Array){t=new Array(e.length);for(var i=0;i<e.length;i++)t[i]=e[i];return t}for(var a in t={},e)t[a]=e[a];return t},t.ensureDefaults=function(e,t){for(var i in t)"undefi","ned",void 0===e[i]&&(e[i]=t[i]);return W.V3D(),e},t.transferObject=function(e,t){var i;for(i in e)e.hasOwnProperty(i)&&delete e[i];for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},t.equals=function(e,i,a){if(e===i)return!0;if(!e&&i)return!1;if(e&&!i)return!1;if(typeof e!=typeof i)return!1;for(var r of[...new Set(Object.keys(e).concat(Object.keys(i)))])if(!a||!a[r]){if("object"==typeof e[r]){if(t.equals(e[r],i[r]))continue;return!1}if(i[r]!=e[r])return!1}return!0},t.isEmpty=function(e){for(var t in W.V3D(),e)if(e.hasOwnProperty(t))return!1;return!0},t.first=function(e){for(var t in e)return t;return null},t.last=function(e){var t;for(var i in W.X3D(),t=null,e)t=i;return t},t.objLength=function(e){var t;if(W.X3D(),!e)return W.p06(16),W.H06(0,"0");for(var i in t=0,e)t++;return t},t.deriveFromObjectChain=function(e,t){var i,a;if(-1==t.indexOf("."))return{obj:e,member:t};i=t.split(".");for(var r=0;r<i.length-1;r++)e[a=i[r]]||0===e[a]||(e[a]={}),e=e[a];return{obj:e,member:i[r]}},t.createObjectChainNames=function(e,t){var i;W.X3D(),i=[];for(var a=0;a<t.length;a++)i.push(e+"--\x3e"+t[a]);return i},t.getObjectChainRoot=function(e){return"-","-",">",e?(W.V3D(),e.split("--\x3e")[0]):null},t.existsInObjectChain=function(e,t){var i,a;if(W.X3D(),"-","-",">",-1==t.indexOf("--\x3e"))return(i=e[t])||0===i?{obj:e,member:t}:null;a=t.split("--\x3e");for(var r=0;r<a.length;r++){if(!(i=e[a[r]])&&0!==i)return null;if(!(r<a.length-1))return{obj:e,member:a[r]};e=i}},t.derivedFrom=function(e,t){return!!t.isPrototypeOf(e)||(W.V3D(),e instanceof t)},t.replaceFields=function(e,i){var a,r,n,s,o;if(!e)return e;for(var l in a={},e)if(r=e[l],(n=i[l])||(n=l),r&&"object"==typeof r)if(r.constructor==Array){s=a[n]=new Array(r.length);for(var h=0;h<s.length;h++)o=r[h],s[h]="object"==typeof o?t.replaceFields(o,i):o}else a[n]=t.replaceFields(r,i);else a[n]=r;for(var c=1;1391694552!==W.Q9z(c.toString(),c.toString().length,11260);c++)return a;return-1542649676!==W.v9z(2..toString(),2..toString().length,14417)?a:void 0},t.removeNullValues=function(e){var i;for(var a in i=t.clone(e))i[a]||delete i[a];return W.X3D(),i},t.reverseObject=function(e){var t,i;t=2;for(var a=1;-500965122!==W.Q9z(a.toString(),a.toString().length,19247);a++)i={},t+=2;for(var r in-1674625454!==W.v9z(t.toString(),t.toString().length,35303)&&(i={}),e)i[e[r]]=r;return W.V3D(),i},t.getFromNS=(e,t,i)=>{var a,r,n;if(W.V3D(),e){a=e,r=t.split(".");for(var s=0;s<r.length&&void 0!==a[n=r[s]];s++)a=a[n];if(s===r.length)return a}return i},t.getFnFromNS=(e,i,a)=>t.getFromNS(e,i,(function(){return a})),t.get=(e,i)=>(W.X3D(),t.getFromNS(t,e,i)),t.getFn=(e,i)=>t.getFromNS(t,e,(function(){return i}))},m=e=>{var t;(t=e.CIQ).Plotter=function(){var e,t,i=W;i.e06(1),e=-i.A06("1780016506",0),t=2;for(var a=1;i.Q9z(a.toString(),a.toString().length,36193)!==e;a++)this.seriesArray=[],this.seriesMap={},t+=2;278033295!==i.Q9z(t.toString(),t.toString().length,97220)&&(this.seriesArray=[],this.seriesMap={})},t.extend(t.Plotter.prototype,{Series:function(e,i,a,r,n,s){W.X3D(),this.name=e,this.strokeOrFill=i,this.color=a,this.moves=[],this.text=[],(!r||r>1||r<0)&&(r=1),this.opacity=r,(!n||n>25||n<1)&&(n=1),this.width=n,this.pattern=t.borderPatternToArray(n,s)},newSeries:function(e,i,a,r,n){var s;W.X3D(),s=a.constructor==String?new this.Series(e,i,a,r,n):new this.Series(e,i,a.color,a.opacity,n>=0?n:t.stripPX(a.width),a.borderTopStyle),this.seriesArray.push(s),this.seriesMap[e]=s},reset:function(e){var t;for(var i in this.seriesMap)e&&e!=i||(t=this.seriesMap[i])&&(t.moves=[],t.text=[])},moveTo:function(e,t,i){W.X3D(),this.seriesMap[e].moves.push({action:"moveTo",x:t,y:i})},lineTo:function(e,t,i){var a,r;W.V3D(),r=(a=this.seriesMap[e]).pattern,a.moves.push({action:"lineTo",x:t,y:i,pattern:r})},dashedLineTo:function(e,t,i,a){W.X3D(),this.seriesMap[e].moves.push({action:"lineTo",x:t,y:i,pattern:a})},quadraticCurveTo:function(e,t,i,a,r){var n,s;s=(n=this.seriesMap[e]).pattern,n.moves.push({action:"quadraticCurveTo",x0:t,y0:i,x:a,y:r,pattern:s})},bezierCurveTo:function(e,t,i,a,r,n,s){var o,l;o=this.seriesMap[e],W.X3D(),l=o.pattern,o.moves.push({action:"bezierCurveTo",x0:t,y0:i,x1:a,y1:r,x:n,y:s,pattern:l})},addText:function(e,t,i,a,r,n,s){this.seriesMap[e].text.push({text:t,x:i,y:a,bg:r})},drawText:function(e,t){var i,a,r,n;W.V3D();for(var s=0;s<t.text.length;s++)(i=t.text[s]).bg&&(a=i.width?i.width:e.measureText(i.text).width,r=i.height?i.height:12,n=e.fillStyle,e.fillStyle=i.bg,"right"==e.textAlign?e.fillRect(i.x,i.y-r/2,-a,-r):e.fillRect(i.x,i.y-r/2,a,r),e.fillStyle=n),e.fillText(i.text,i.x,i.y)},draw:function(e,t){var i,a,r,n,s,o,l,h=W;i=e.lineWidth,a=e.fillStyle,r=e.strokeStyle,n=e.globalAlpha;for(var c=0;c<this.seriesArray.length;c++)if(s=this.seriesArray[c],!t||s.name==t){e.beginPath(),e.lineWidth=s.width,e.globalAlpha=s.opacity,e.fillStyle=s.color,e.strokeStyle=s.color,e.save(),o=[0,0];for(var u=0;u<s.moves.length;u++)(l=s.moves[u]).pattern||(l.pattern=[]),JSON.stringify(e.getLineDash())!==JSON.stringify(l.pattern)&&("s","tro","k","e","fi","ll",e["fill"==s.strokeOrFill?"fill":"stroke"](),e.beginPath(),e.moveTo(o[0],o[1])),e.setLineDash(l.pattern),h.p06(16),e.lineDashOffset=h.A06(0,"0"),"quadraticCurveTo"==l.action?e[l.action](l.x0,l.y0,l.x,l.y):"bezierCurveTo"==l.action?e[l.action](l.x0,l.y0,l.x1,l.y1,l.x,l.y):e[l.action](l.x,l.y),o=[l.x,l.y];e["fill"==s.strokeOrFill?"fill":"stroke"](),e.closePath(),e.restore(),this.drawText(e,s),h.p06(57),e.lineWidth=h.H06("1",2147483647)}e.lineWidth=i,e.fillStyle=a,e.strokeStyle=r,e.globalAlpha=n}},!0)},y=e=>{var t;(t=e.CIQ).Renderer=function(){},t.Renderer.produce=function(e,i){var a,r;if(W.V3D(),"li","ne",a=null,e)for(var n in t.Renderer)if((r=t.Renderer[n]).requestNew&&(a=r.requestNew(e.split("_"),i)),a)return a;return i.type="line",new t.Renderer.Lines({params:i})},t.Renderer.colorFunctions={},t.Renderer.registerColorFunction=function(e,i){W.X3D(),t.Renderer.colorFunctions[e]=i},t.Renderer.unregisterColorFunction=function(e){W.V3D(),delete t.Renderer.colorFunctions[e]},t.Renderer.prototype.init={},t.Renderer.prototype.adjustYAxis=function(){},t.Renderer.prototype.draw=function(){},t.Renderer.prototype.drawIndividualSeries=function(e,t){},t.Renderer.prototype.construct=function(e){var i;e||(e={}),i=e.params?e.params:{},this.init&&t.ensureDefaults(i,this.init),i.name||(i.name=t.uniqueID()),i.heightPercentage||(i.heightPercentage=.7),i.opacity||(W.p06(51),i.opacity=W.A06(1,"1")),!1!==i.highlightable&&(i.highlightable=!0),i.panel||(i.panel="chart"),i.yAxis&&(i.yAxis=new t.ChartEngine.YAxis(i.yAxis),i.yAxis.name||(i.yAxis.name=i.name)),this.cb=e.callback,this.params=i,this.seriesParams=[],this.caches={},this.colors={}},t.Renderer.prototype.attachSeries=function(e,i){var a,r,n,s,o,l,h,c,u,d,p=W;if("s","t","rin","g",!(a=this.stx))return this;if((r=a.chart.series[e])||(r={parameters:{}}),n=this.params,s=r.parameters,o={id:e,chartType:n.type,display:s.display,border_color_up:n.defaultBorders?"auto":null,fill_color_up:s.color,opacity_up:n.opacity,border_color_down:n.defaultBorders?"auto":null,fill_color_down:s.color,opacity_down:n.opacity,color:s.color,symbol:s.symbol,symbolObject:t.clone(s.symbolObject)},"string"==typeof i)o.color=o.fill_color_down=o.fill_color_up=i;else if("object"==typeof i){for(var g in i)o[g]=i[g];l=o.color,h=o.border_color,l&&(o.fill_color_up||(o.fill_color_up=l),o.fill_color_down||(o.fill_color_down=l),o.fill_color_even||(o.fill_color_even=l)),h&&(o.border_color_up||(o.border_color_up=h),o.border_color_down||(o.border_color_down=h),o.border_color_even||(o.border_color_even=h))}for(o.symbol&&o.field!=o.symbol&&(o.subField=o.field,o.field=o.symbol),o.id||(o.id=t.uniqueID()),c=0;c<this.seriesParams.length;++c)if(this.seriesParams[c].id===o.id){this.removeSeries(o.id,!0);break}return this.seriesParams.splice(c,0,o),o.fill_color_up!=o.fill_color_down?(" dow","n"," dow","n"," ","d","n"," u","p",p.p06(15),this.colors[p.H06(e," up")]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display+" up":e+" up"},p.p06(15),this.colors[p.A06(e," dn")]={color:o.fill_color_down,opacity:o.opacity_down,display:o.display?o.display+" down":e+" down"}):this.colors[e]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display:e},u=n.panel,a.panels[u]?n.yAxis?(n.yAxis=a.addYAxis(a.panels[u],n.yAxis),n.yAxis.needsInitialPadding=!0,s.yAxis=n.yAxis,a.resizeChart()):o.yAxis&&(n.yAxis=o.yAxis):((d=n.yAxis)||((d=new t.ChartEngine.YAxis).needsInitialPadding=!0),d.name=u,a.createPanel(u,u,null,null,d)),this},t.Renderer.prototype.removeSeries=function(e,t){var i,a,r,n,s,o,l,h,c=W;for(var u in i=null,c.V3D(),a=!1,(n=(r=this.stx).chart).seriesRenderers){s=n.seriesRenderers[u];for(var d=0;d<s.seriesParams.length;d++)(o=s.seriesParams[d]).id==e&&this===s?i=d:!o.isComparison||o.panel!=n.panel.name||o.yAxis&&o.yAxis!=n.yAxis||(a=!0)}if(null!==i&&("linea","r",n.forcePercentComparison&&!a&&this.seriesParams[i].isComparison&&"linear"!=r.layout.chartScale&&r.setChartScale(),this.seriesParams.splice(i,1)),c.e06(15),delete this.colors[c.H06(e," up")],c.p06(15),delete this.colors[c.H06(e," dn")],delete this.colors[e],!t){for(var p in n.seriesRenderers){h=n.seriesRenderers[p];for(var g=0;g<h.seriesParams.length;g++){if(h.seriesParams[g].id==e){l=!0;break}l=!1}if(l)break}!1!==l&&null===i||r.deleteSeries&&r.deleteSeries(e,n)}return r.deleteYAxisIfUnused(r.panels[this.params.panel],this.params.yAxis),r.resizeChart(),this},t.Renderer.prototype.modifyRenderer=function(e){var i;this.params;var{stx:a}=this;for(var r in W.X3D(),e)switch(i=e[r],r){case"baseline":i?("o","bject","object"==typeof i&&(this.params.baseline=t.ensureDefaults(i,t.ChartEngine.Chart.prototype.baseline)),a.registerBaselineToHelper(this)):a.removeBaselineFromHelper(this);break;case"type":this.params.type=i;break;case"style":this.params.style=i}},t.Renderer.prototype.getDependents=function(e){var t,i;for(var a in t=[],e.chart.seriesRenderers)(i=e.chart.seriesRenderers[a]).params.dependentOf==this.params.name&&t.push(i);return t},t.Renderer.prototype.undraggable=function(e){return this==e.mainSeriesRenderer||this.params.dependentOf==e.mainSeriesRenderer.params.name},t.Renderer.prototype.removeAllSeries=function(e){var t;if(e||this===this.stx.mainSeriesRenderer){t=[];for(var i=0;i<this.seriesParams.length;i++)t.push(this.seriesParams[i].id);for(var a=0;a<t.length;a++)this.removeSeries(t[a])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this.stx.resizeChart(),W.X3D(),this},W.X3D(),t.Renderer.prototype.getYAxis=function(e){var t,i;if(this.params)if(this.params.yAxis)t=this.params.yAxis;else{if(!(i=e.panels[this.params.panel]))return!1;t=i.yAxis}else t=e.chart.panel.yAxis;return t},t.Renderer.prototype.ready=function(){return this.stx.createDataSet(),this.stx.draw(),this},t.Renderer.Lines=function(e){this.construct(e);var{params:i}=this;if(i.type||(i.type="line"),!i.style)switch(i.type){case"mountain":i.baseline?i.style="stx_baseline_delta_mountain":i.colored?i.style="stx_colored_mountain_chart":i.style="stx_mountain_chart";break;default:i.style="stx_line_chart"}this.supportsAnimation=!0,"wave"==i.type||"channel"==i.type?(i.step=i.vertex=i.baseline=i.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):"step"==i.type&&(i.step=!0);var{baseline:a}=i;a&&"object"==typeof a&&t.ensureDefaults(i.baseline,t.ChartEngine.Chart.prototype.baseline)},t.inheritsFrom(t.Renderer.Lines,t.Renderer,!1),t.Renderer.Lines.requestNew=function(e,i){var a,r,n,s,o,l;a=null,r=i.step,n=i.colored,s=i.baseline,W.X3D(),o=i.vertex;for(var h=0;h<e.length;h++)switch("del","t","a","col","ore","d","wa","v","e","mo","unta","i","n","li","n","e",l=e[h]){case"line":case"mountain":case"wave":case"channel":a=l;break;case"baseline":s=!0;break;case"colored":n=!0;break;case"step":r=!0;break;case"vertex":o=!0;break;case"delta":break;default:return null}return null!==a||s||r?new t.Renderer.Lines({params:t.extend(i,{type:a,step:r,colored:n,baseline:s,vertex:o})}):null},t.Renderer.Lines.prototype.draw=function(){var e,i,a,r,n,s,o,l,h,c;function u(t){var i,a,r;return"stx","_line_ch","art","s","tx_li","ne_dow","n",i=t.fill_color_up||e.getCanvasColor("stx_line_up"),a=t.fill_color_down||e.getCanvasColor("stx_line_down"),r=t.color||e.getCanvasColor("stx_line_chart"),function(e,t,n){return W.X3D(),t.iqPrevClose||0===t.iqPrevClose?t.Close>t.iqPrevClose?i:t.Close<t.iqPrevClose?a:r:r}}for(e=this.stx,W.X3D(),i=this.stx.panels[this.params.panel].chart,a={},n=this.seriesParams,s=this.params.colorFunction,r=0;r<n.length;r++){if(o=n[r],this.params.colored){l=["_color_up","_color_down","_color"];for(var d=0;d<l.length;d++)"a","u","t","o",(h=o["border"+l[d]])&&"auto"!=h&&(o["fill"+l[d]]=h);s||(s=u(o)),this.params.colorFunction=s}c={},i.series[o.id]&&(c=t.clone(i.series[o.id].parameters)),a[o.id]={parameters:t.extend(t.extend(c,this.params),o),yValueCache:this.caches[o.id]},this==e.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[o.id].parameters.colorFunction=i.customChart.colorFunction)}for(r in e.drawSeries(i,a,this.params.yAxis,this),a)this.caches[r]=a[r].yValueCache},t.Renderer.Lines.prototype.drawIndividualSeries=function(e,i){var a,r,n,s,o;if("mount","ain",!i.invalid&&(a=this.stx,r=e.context,n=null,s=i.colorFunction,o=a.panels[i.panel]||e.panel,"string"!=typeof s||(s=t.Renderer.colorFunctions[s])))return i.vertex&&("be","v","e","l",r.save(),r.lineJoin="bevel"),"wave"==i.type?n=a.drawWaveChart(o,i):i.baseline?(n=a.drawBaselineChart(o,i),a.positionBaselineHandle(this)):"mountain"==i.type?(i.returnObject=!0,n=a.drawMountainChart(o,i,s)):"channel"==i.type?(i.returnObject=!0,n=a.drawChannelChart(o,s,i)):(i.returnObject=!0,n=a.drawLineChart(o,i.style,s,i)),i.vertex&&(a.scatter(o,{yAxis:i.yAxis,field:i.symbol||i.field,subField:i.subField,symbol:i.symbol,color:i.vertex_color,highlight:i.highlight}),r.restore()),W.X3D(),n},t.Renderer.OHLC=function(e){var t;this.construct(e),(t=this.params).type||(t.type="candle"),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.histogram&&(t.type="candle",this.highLowBars=!1,t.volume=t.hollow=!1),W.X3D(),"bar"==t.type&&(t.volume=t.hollow=t.histogram=!1),"candle"==t.type&&(t.hlc=t.colored=!1),t.volume&&(t.hollow=!0)},t.inheritsFrom(t.Renderer.OHLC,t.Renderer,!1),t.Renderer.OHLC.requestNew=function(e,i){var a,r,n;a=null,r=i.histogram;for(var s=0;s<e.length;s++)switch(n=e[s]){case"candle":a=n;break;case"histogram":r=!0,a="candle";break;default:return null}if(null===a)return null;for(var o=1;556304203!==W.Q9z(o.toString(),o.toString().length,74828);o++)return new t.Renderer.OHLC({params:t.extend(i,{type:a,histogram:r})});return W.Q9z(2..toString(),2..toString().length,29048),new t.Renderer.OHLC({params:t.extend(i,{type:a,histogram:r})})},t.Renderer.OHLC.getChartParts=function(e,t){return W.X3D(),"bord","er_col","or_","down","ca","nd","l","e","border","_color_up","stx_ca","nd","le_up","ca","ndle","stx_cand","le_shadow_even","c","a","nd","le","stx_c","andle_sh","adow","_up","stx_histo","gram_even","stx","_histogram_down","border","_color_","u","p","his","togram",8,16,32,[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:32,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:8,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:32,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0}]},t.Renderer.OHLC.prototype.draw=function(){var e,i,a,r,n,s,o;for(e=this.stx,i=this.stx.panels[this.params.panel].chart,a={},n=this.seriesParams,r=0;r<n.length;r++)s=n[r],o={},i.series[s.id]&&(o=t.clone(i.series[s.id].parameters)),a[s.id]={parameters:t.extend(t.extend(o,this.params),s)},this==e.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[s.id].parameters.colorFunction=i.customChart.colorFunction);for(r in e.drawSeries(i,a,this.params.yAxis,this),a)a[r].yValueCache&&(this.caches[r]=a[r].yValueCache)},t.Renderer.OHLC.prototype.getColor=function(e,i,a,r,n,s){var o,l,h,c,u;return o=s||a.color,l=this.params.yAxis||i.yAxis,r&&!(o=s||a.borderLeftColor||a["border-left-color"])?null:n?(h=e.pixelFromTransformedValue(l.highValue,i),isNaN(h)&&(h=0),c=a.backgroundColor,o&&!t.isTransparent(o)?("t","o","p",(u=e.chart.context.createLinearGradient(0,h,0,2*l[l.flipped?"top":"bottom"]-h)).addColorStop(0,o),u.addColorStop(1,c),u):c):o},t.Renderer.OHLC.prototype.drawIndividualSeries=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M;if("o","p","e","n","st","rin","g",!i.invalid&&(a=this.stx,r=e.context,n=i.colorFunction,s=a.panels[i.panel]||e.panel,"string"!=typeof n||(n=t.Renderer.colorFunctions[n]))){if(o=a.layout.candleWidth-e.tmpWidth<=2&&e.tmpWidth<=3,1,2,4,8,16,32,e.state.chartType||(e.state.chartType={}),l=e.state.chartType.pass={},h=a.colorByCandleDirection,i.colorBasis&&(h="open"==i.colorBasis),c=i.histogram,u=i.type,d=i.hollow,p=a.noWicksOnCandles[u],a.startClip(s.name),g=null,f={colors:[],cache:[]},m=[],n)"b","ar",y={isHistogram:c,field:i.field,yAxis:i.yAxis,isVolume:i.volume,highlight:i.highlight},c||"bar"!=u?("candl","e","candle"!=u||p||a.drawShadows(s,n,y),f=a.drawCandles(s,n,y),y.isOutline=!0,!d&&o||a.drawCandles(s,n,y)):("b","ar","h","l","c",y.type=i.hlc?"hlc":"bar",f=a.drawBarChart(s,"stx_bar_chart",n,y));else{v=c&&!1!==i.gradient,b=t.Renderer.OHLC.getChartParts(i.style,h);for(var P=0;P<b.length;P++)if("h","l","c",!(x=b[P]).skipIfPass||l.even){if(c){if("histogram"!=x.type)continue}else if("bar"==u){if("ba","r","bar"!=x.type)continue;if(i.colored&&!x.condition)continue;if(!i.colored&&x.condition)continue}else if(d){if("ho","llo","w","hollow"!=x.type)continue;if("shadow"==x.drawType&&p)continue}else{if("candle"!=u)continue;if("shado","w","candle"!=x.type)continue;if("shadow"==x.drawType){if("stx_candl","e_sha","dow_even","stx","_candle_shadow_d","own",p)continue;if(S=i.border_color_up||a.getCanvasColor("stx_candle_shadow_up"),C=i.border_color_down||a.getCanvasColor("stx_candle_shadow_down"),D=i.border_color_even||a.getCanvasColor("stx_candle_shadow_even"),t.colorsEqual(S,C)&&t.colorsEqual(S,D)&&t.colorsEqual(S,a.defaultColor)){if(x.condition)continue}else if(!x.condition)continue}}A=a.canvasStyle(x.style),w=this.getColor(a,s,A,!1,!1,i[x.fill]),k=this.getColor(a,s,A,!1,v,i[x.fill]),T=this.getColor(a,s,A,x.useBorderStyleProp&&!o,v,i[x.border]),"candle"==x.drawType&&("hollow"==x.type?(!t.isTransparent(k)&&t.colorsEqual(T,k)&&(T=x.useColorInMap?"transparent":k),x.useColorInMap||(k=a.containerColor)):"candle"==x.type&&o&&(t.isTransparent(k)?k=T:T=k)),r.globalAlpha=i.opacity,m.push(a.drawBarTypeChartInner({fillColor:k,borderColor:T,condition:x.condition,style:x.style,type:"bar"==u&&i.hlc?"hlc":x.drawType,panel:s,field:i.field,yAxis:i.yAxis,volume:i.volume&&i.hollow,highlight:i.highlight})),g||(g={}),x.useColorInMap&&(g[w]=1)}}for(var _ in a.endClip(),g)i.hollow&&t.equals(_,a.containerColor)||f.colors.push(_);for(_=0;_<m.length;_++)for(var L=0;L<m[_].cache.length;L++)((M=m[_].cache[L])||0===M)&&(f.cache[L]=M);return f}},t.Renderer.Candles=function(e){var t;W.V3D(),this.construct(e),(t=this.params).type="candle",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.hlc=t.colored=t.histogram=!1,t.volume&&(t.hollow=!0)},t.inheritsFrom(t.Renderer.Candles,t.Renderer.OHLC,!1),t.Renderer.SimpleHistogram=function(e){var t;this.construct(e),(t=this.params).type="candle",t.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,t.hlc=t.colored=t.hollow=t.volume=!1},t.inheritsFrom(t.Renderer.SimpleHistogram,t.Renderer.Candles,!1)},v=e=>{var t;(t=e.CIQ).capitalize=function(e){if(W.X3D(),!e)return"";W.e06(113);var t=W.H06(5,4,4,3,14);return e.charAt(0).toUpperCase()+e.slice(t)},t.camelCaseRegExp=/-([a-z])/g,t.makeCamelCase=function(e){return W.V3D(),e.replace(t.camelCaseRegExp,(function(e){return e[1].toUpperCase()}))},t.uniqueID=function(e){var t,i,a,r;return e?(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxx",t+="xx",t+="xxxxx",i=(new Date).getTime(),"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(i+=window.performance.now()),t.replace(/[xy]/g,(function(e){var t,a=W;a.V3D(),a.p06(1);var r=a.H06(25,9);a.e06(114);var n=a.A06(160,4,2,622);return t=(i+Math.random()*r)%n|0,a.e06(28),i=Math.floor(a.H06(16,i)),("x"==e?t:3&t|8).toString(16)}))):(a=new Date,W.X3D(),r=a.getTime().toString(36),(r+=Math.floor(Math.random()*Math.pow(36,2)).toString(36)).toUpperCase())}},b=e=>{W.V3D()},x=e=>{var t;(t=e.CIQ).getHostName=function(e){try{return e.match(/:\/\/(.[^/]+)/)[1]}catch(e){return""}},t.qs=function(e){var t,i,a,r;t={},e||(e=window.location.search.substring(1)),i=e.split("&"),W.X3D();for(var n=0;n<i.length;n++)(a=i[n].indexOf("="))>0?(r=i[n].substring(0,a),W.p06(15),t[r]=i[n].substring(W.A06(a,1))):t[r=i[n]]=null;return t},t.postAjax=function(e,i,a,r,n){var s,o,l,h,c,u,d;if("s","tr","ing","string"==typeof e&&(e={url:e,payload:i,cb:a,contentType:r,noEpoch:n,method:null,responseHeaders:!1}),s=e.url,o=e.cb,l=e.payload,o||(o=function(){}),e.ungovernable||!t.Extras||!t.Extras.RequestLimiter||!t.Extras.RequestLimiter.hitRequestLimit(s)){if(!(h=new XMLHttpRequest))return!1;if(c=new Date,e.noEpoch||("&ciqr","andom=",-1==s.indexOf("?")?s+="?ciqrandom="+c.getTime():s+="&ciqrandom="+c.getTime()),u=e.method,d=e.headers,u||(u=l?"POST":"GET"),h.open(u,s,!0),e.contentType||(e.contentType="application/x-www-form-urlencoded"),l&&h.setRequestHeader("Content-Type",e.contentType),d)for(var p in d)h.setRequestHeader(p,d[p]);e.timeout&&(h.timeout=e.timeout),h.ontimeout=function(){o(408,null,{})},h.onload=function(){0===this.status?this.status="0":this.status||(this.status=200),o(this.status,this.responseText,function(t){var i,a,r;if(i={},e.responseHeaders){a=t.getAllResponseHeaders().split("\n");for(var n=0;n<a.length;n++){for(r=a[n].split(":");r[1]&&" "==r[1].charAt(0);)W.p06(57),r[1]=r[1].substring(W.H06("1",2147483647));""!==r[0]&&(i[r.shift()]=r.join(":"))}return W.X3D(),i}}(this))},h.onerror=function(){o("0",null,{})};try{h.send(l)}catch(e){o("0",e,{})}return!0}o(429,null,{})},t.loadUI=function(e,i,a){var r,n,s;if(i&&"function"!=typeof i||(a=i,i=document.body),W.e06(50),n=function(){var e,r,n,s,o;e=2,W.V3D();for(var l=1;1950897074!==W.Q9z(l.toString(),l.toString().length,19997);l++)r=1,e+=2;741378989!==W.v9z(e.toString(),e.toString().length,82422)&&(r=null);try{r=this.contentDocument}catch(e){return a(e)}if(r&&!r.title){n=r.body.innerHTML,s=document.createElement("div"),t.innerHTML(s,n);for(var h=0;h<s.children.length;h++)o=s.children[h].cloneNode(!0),i.appendChild(o);a(null)}else a(new Error("iFrame not found or document has a title"))},r=document.querySelector(W.H06(e,'iframe[original-url="','"]'))){"c","ompl","e","te",s=null;try{s=r.contentDocument}catch(e){return a(e)}"complete"===s.readyState&&s.location&&"about:blank"!==s.location.href?n.call(r):r.addEventListener("load",n)}else(r=document.createElement("iframe")).setAttribute("original-url",e),r.src=e+(-1===e.indexOf("?")?"?":"&")+t.uniqueID(),r.hidden=!0,r.addEventListener("load",n),document.body.appendChild(r)},t.loadScript=function(e,i,a){var r,n,s;if("S",W.X3D(),"C","RIPT",t.loadedScripts||(t.loadedScripts={}),t.loadedScripts[e])i&&i();else{if(r=document.createElement("SCRIPT"),a?(r.type="module",r.crossOrigin="use-credentials"):r.async=!0,r.onload=function(){t.loadedScripts[e]=!0,i&&i()},-1==(n=e).indexOf("?"))n=n+"?"+Date.now();else W.p06(5),n=n+(W.H06(4,8795,16)<=1470?558.52:"&")+Date.now();r.src=n,(s=document.getElementsByTagName("script")[0])?s.parentNode.insertBefore(r,s.nextSibling):document.body.append(r)}},t.loadStylesheet=function(e,t){var i,a,r,n=W;(i=document.createElement("link")).rel="stylesheet",i.type="text/css",i.media="screen",n.p06(115);n.A06(20,13,15,77638,86240);n.e06(35);var s=n.H06(1361715,11,15,11,8292);n.e06(7);var o=n.H06(660,1105,3315);n.p06(116);var l=n.A06(1,4,10,13);n.e06(3);n.A06(36,15,0,19,3);n.e06(1);var h=n.H06(43214,40672);n.p06(15);n.H06(1114,7796);n.e06(6);var c=n.H06(7,6);n.e06(1);var u=n.H06(9981,6);n.p06(15);var d=n.H06(3193,17);n.e06(117);var p=n.H06(9,67,9,99);n.p06(14);n.A06(3,1,1613);n.e06(36);var g=n.A06(1205,1230,3,82);n.p06(114);var f=n.A06(8429,12,8,92692);i.href=e+(e.indexOf(608.56!=s?218.89==o?"X":"?":"P")===l?"?":h!=="266.79"*c?"&":611.87<=u?d>p?864.36:g:f)+Date.now(),i.onload=function(){this.loaded||(this.loaded=!0,t&&t())},n.V3D(),a=document.getElementsByTagName("link"),n.e06(94);var m=n.A06(8,95,7,7,2);(r=a[a.length-m])?r.parentNode.insertBefore(i,r.nextSibling):document.head.append(i)},t.loadWidget=function(e,i,a,r){W.X3D(),i&&"function"!=typeof i||(a=i,i=document.body),W.p06(15),t.loadStylesheet(W.H06(e,".css"),(function(){W.p06(15),W.V3D(),t.loadUI(W.A06(e,".html"),i,(function(i){i?a(i):(W.p06(15),t.loadScript(W.H06(e,".js"),a,r))}))}))},t.waitForPlugins=function(e,i){var a,r,n,s;if(a=0,r=e.length){for(var o=0;o<r;o++)n="cq-"+e[o],(s=document.getElementsByTagName(n)[0])&&s.hasAttribute("loaded")&&a++;if(r!==a)return setTimeout((function(){t.waitForPlugins(e,i)}),0);i()}else i()},W.V3D(),t.addInternalStylesheet=function(e,t=""){var i;W.X3D(),e&&(e.default&&(e=e.default),"string"==typeof e&&(t&&document.querySelector('style[path="'+t+'"]')||((i=document.createElement("style")).setAttribute("type","text/css"),i.setAttribute("path",t),i.innerText=e,document.head.appendChild(i))))}},W.X3D(),S=e=>{var t;(t=e.CIQ).ChartEngine.prototype.registerHTMLElements=function(){var e,i,a,r,n,s,o,l,h,c,u=W;for(var d in e=this.chart.container,t.ChartEngine.htmlControls)if("unde","fine","d",void 0===this.chart[d]&&void 0===this.controls[d]){if("c","ha","rtControl","s",!this.allowZoom&&"chartControls"==d)continue;if(u.e06(15),i=e.querySelector(u.H06(".",d)))this.chart[d]=i,this.controls[d]=i;else{if(!(a=t.ChartEngine.htmlControls[d]))continue;(r=document.createElement("DIV")).innerHTML=a.replace(/[\t\n\r]/gm,""),i=r.firstChild,e.appendChild(i),this.chart[d]=i,this.controls[d]=i,i.classList.add(d)}}n=2;for(var p=1;-1218583334!==u.v9z(p.toString(),p.toString().length,70835);p++){var{chartControls:g,home:f}=this.controls;n+=2}if(1882779968!==u.Q9z(n.toString(),n.toString().length,62372))var{chartControls:g,home:f}=this.controls;g&&(".stx","-zoom-in",s=g.querySelector(".stx-zoom-in"),o=g.querySelector(".stx-zoom-out"),t.safeClickTouch(s,(h=this,function(e){!h.allowZoom||h.activeDrawing&&!h.allowDrawingZoom||h.zoomIn(e),e.stopPropagation()})),t.safeClickTouch(o,(l=this,function(e){!l.allowZoom||l.activeDrawing&&!l.allowDrawingZoom||(l.zoomOut(e),u.V3D()),e.stopPropagation()})),t.touchDevice||(this.makeModal(s),this.makeModal(o))),f&&(t.safeClickTouch(f,(c=this,u.X3D(),function(e){e.stopPropagation(),c.isHistoricalMode()?(delete c.layout.range,u.X3D(),c.loadChart(c.chart.symbol,(function(){c.home({animate:!1})}))):c.home({animate:!0})})),t.touchDevice||this.makeModal(f))},t.ChartEngine.prototype.home=function(e){var t,i,a,r,n,s;if(this.swipe.amplitude=0,t=this.layout,"object"!=typeof e&&(e={maintainWhitespace:e}),void 0===e.maintainWhitespace&&(e.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var o in this.micropixels=0,i=Math.floor(this.chart.width/t.candleWidth),this.charts)if(a=this.charts[o],!e.chart||e.chart==a){for(r=0,e.maintainWhitespace&&this.preferences.whitespace>=0&&(r=this.preferences.whitespace),(e.whitespace||0===e.whitespace)&&(r=e.whitespace),(n=this.getLabelOffsetInPixels(a,t.chartType))>r&&(r=n),s=Math.min(i,a.dataSet.length),this.chart.allowScrollPast&&(s=i),this.micropixels=this.chart.width-s*t.candleWidth-r,this.preferences.whitespace=r;this.micropixels>t.candleWidth;)s++,this.micropixels-=t.candleWidth;for(;this.micropixels<0;)s--,this.micropixels+=t.candleWidth;if(this.micropixels-=t.candleWidth,s++,!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars){W.p06(93);var l=W.H06(5,10,0,48);this.micropixels+=t.candleWidth/l}e.animate?(this,this.scrollTo(a,s,c(this,a,s))):(a.scroll=s,h(this))}this.draw()}else this.draw();function h(e){var t;for(var i in W.V3D(),e.panels){t=e.panels[i].yaxisLHS.concat(e.panels[i].yaxisRHS);for(var a=0;a<t.length;a++)t[a].lockScale||e.calculateYAxisMargins(t[a])}}function c(e,t,i){return function(){h(e),t.scroll=i,e.draw()}}},t.ChartEngine.prototype.headsUpHR=function(){var e,i,a,r,n,s,o,l;if(!this.runPrepend("headsUpHR",arguments)&&(e=this.currentPanel)){if(i=e.chart,this.updateFloatHRLabel(e),(a=this.controls.floatDate)&&!i.xAxis.noDraw){r=1392608501,n=-1298136573,s=2;for(var h=1;W.Q9z(h.toString(),h.toString().length,67510)!==r;h++)o=this.barFromPixel(this.cx),l=i.xaxis[o],s+=2;W.Q9z(s.toString(),s.toString().length,30933)!==n&&(o=this.barFromPixel(this.cx),l=i.xaxis[o]),l&&l.DT?c(t.displayableDate(this,i,l.DT)):l&&l.index?c(l.index):c("")}this.runAppend("headsUpHR",arguments)}function c(e){t.efficientDOMUpdate(a,"innerHTML",e)}},t.ChartEngine.prototype.modalBegin=function(){W.X3D(),this.openDialog="modal",this.undisplayCrosshairs()},t.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,this.openDialog="",W.X3D(),this.doDisplayCrosshairs()},t.ChartEngine.prototype.makeModal=function(e){var t;t=this,W.V3D(),e.onmouseover=function(e){t.modalBegin()},e.onmouseout=function(e){W.X3D(),t.modalEnd()}},t.ChartEngine.prototype.updateChartAccessories=function(){var e,i,a,r,n,s,o,l,h,c=W;if(e="updat",e+="e",e+="Char",e+="tAccessories",null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),!t.ChartEngine.drawingLine&&t.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100)this.accessoryTimer=setTimeout((h=this,function(){c.V3D(),h.updateChartAccessories()}),10);else if(this.chart.dataSet&&!this.runPrepend(e,arguments)){if(this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),(i=this.controls.floatDate)&&((a=this.currentPanel)||(a=this.chart.panel),a)){r="b",r+="ottom",n=a.chart,s=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-a.chart.bottom,c.e06(15);var u=c.A06(0,2);if(o=i.offsetWidth/u-.5,(l=this.pixelFromTick(this.crosshairTick,n)-o)<0)l=0;else if(l>this.width-2*o-1){c.p06(114);var d=c.H06(36,5,16,162);c.e06(8);var p=c.H06(18,17,0);l=this.width-d*o-p}t.efficientDOMUpdate(i.style,"left",l+"px"),t.efficientDOMUpdate(i.style,r,s+"px")}this.positionCrosshairsAtPointer(),this.headsUpHR(),this.runAppend("updateChartAccessories",arguments)}},t.ChartEngine.prototype.positionSticky=function(e){var i,a,r,n=W;i=Math.max(this.cy-e.offsetHeight-60,0),a=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-e.offsetWidth),r=e.style,n.e06(15),t.efficientDOMUpdate(r,"top",n.H06(i,"px")),t.efficientDOMUpdate(r,"left","auto"),n.e06(15),t.efficientDOMUpdate(r,"right",n.H06(a,"px"))},t.ChartEngine.prototype.displaySticky=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A;if(i="o",i+="bj",i+="e",i+="ct",a=".customInstructi",a+="ons",r=".st",r+="ickyLongPr",r+="e",r+="ssText",(n=this.controls.mSticky)&&(s=n.querySelector(".mStickyInterior"))){o=n.querySelector(".overlayTrashCan"),l=n.querySelector(".overlayEdit"),h=n.querySelector(".mouseDeleteInstructions"),c=n.querySelector(r),u=n.querySelector(a),h.classList.remove("no_edit"),e&&typeof e==i||(e={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]}),W.V3D();var{forceShow:w,noDelete:k,noEdit:T,type:M}=e,{message:P,backgroundColor:_}=e;if(w||P){P||(P="");var{defaultColor:L,highlightedDraggable:E}=this;"auto"==_&&(_=L),w&&!P?(p="non",p+="e",s.style.backgroundColor="",s.style.color="",s.style.display=p):_?(g="i",g+="nl",g+="in",g+="e-block",s.style.backgroundColor=_,s.style.color=t.isTransparent(_)?L:t.chooseForegroundColor(_),s.style.display=g):(s.style.backgroundColor="",s.style.color="",s.style.display="inline-block"),s.innerHTML=P,(f=n.querySelector(".mStickyRightClick")).className="mStickyRightClick",M&&(W.p06(15),f.classList.add(W.A06("rightclick_",M))),f.style.display="",n.style.display="inline-block",(!E||E&&E.undraggable&&E.undraggable(this))&&(m="n",m+="o",m+="n",m+="e",c.style.display=m),k||!0===this.bypassRightClick||this.bypassRightClick[M]?f.style.display="none":this.highlightViaTap||this.touches.length?(y="hid",y+="e",v="re",v+="mov",v+="e",b="n",b+="o",b+="n",b+="e",x="i",x+="nline",x+="-block",o&&(o.style.display=x),l&&!T&&(l.style.display="inline-block"),h&&(h.style.display="none"),c&&(c.style.display=b),n.classList[""===P?"add":v](y)):(T&&h.classList.add("no_edit"),h&&(h.style.display="block"),c&&(S="n",S+="o",S+="n",S+="e",c.style.display=S,(C=this.preferences.dragging)&&e.panel&&!e.panel.noDrag&&((!0!==C&&!C.study||"study"!=M)&&(!0!==C&&!C.series||"series"!=M)||(c.style.display="block")))),u&&M&&(D=u.querySelector(`[type=${M}]`),u.style.display=D?"block":"none"),A=M||"default",n.setAttribute("cq-sticky-type",A),(e.positioner||this.positionSticky).call(this,n)}else d="non",d+="e",s.innerHTML="",n.style.display="none",o&&(o.style.display=d),l&&(l.style.display="none"),h&&(h.style.display="none"),c&&(c.style.display="none")}},t.ChartEngine.prototype.displayNotification=function(e,t,i={}){var a,r,n,s,o;if(this.controls.notificationTray){var{callback:l,dismissalListeners:h}=i;if(r=(a=this.controls.notificationTray).querySelector("template").content.cloneNode(!0),(n=r.firstElementChild).className=e,n.querySelector(".message").textContent=t,l){"poi","nt","erup",1296521101,1209344777,s=2;for(var c=1;1296521101!==W.Q9z(c.toString(),c.toString().length,18882);c++)"po","inte","r","up",window.PointerEvent,o="pointerup",n.handler=n.addEventListener(o,l),s+=2;1209344777!==W.Q9z(s.toString(),s.toString().length,95658)&&("po","i","n","terup",window.PointerEvent,o="pointerup",n.handler=n.addEventListener(o,l)),o=window.PointerEvent?"pointerup":"touchend",n.handler=n.addEventListener(o,l)}h&&(n.listeners={},h.forEach((t=>{n.listeners[e]=this.addEventListener(t.type,t.callback)}))),this.makeModal(n),a.appendChild(n)}},t.ChartEngine.prototype.removeNotification=function(e){var t,i;if(this.controls.notificationTray&&(W.V3D(),i=(t=this.controls.notificationTray).querySelector(`.${e}`))){if(i.handler&&i.removeEventListener(i.handler),i.listeners)for(var a in i.listeners)this.removeEventListener(i.listeners[a]);this.modalEnd(),t.removeChild(i)}},t.ChartEngine.prototype.setMeasure=function(e,t,i,a,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C=W;if(s="set",s+="Mea",s+="sure",C.X3D(),!this.runPrepend("setMeasure",arguments)){if(o=(this.drawingContainer||document).querySelector(".mMeasure"),l="",e||0===e){if(!1!==t&&(d=(d=Math.round(Math.abs(e-t)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?l+=this.internationalizer.numbers.format(d):l+=d,e>0&&t>0)){if(C.p06(41),p=C.H06(t,e,e),Math.abs(p)>.1)C.e06(83),p=Math.round(C.A06(p,"100",345811680));else if(Math.abs(p)>.01){C.e06(8);var D=C.H06(19,13,994);C.p06(33);var A=C.H06(13,1,14,18);p=Math.round(p*D)/A}else{C.p06(1);var w=C.A06(2e4,1e4);C.e06(36);var k=C.H06(60,80,2,1);p=Math.round(p*w)/k}this.internationalizer?(C.p06(28),p=this.internationalizer.percent.format(C.A06(100,p))):(C.p06(15),p=C.H06(p,"%")),C.p06(50),l+=C.H06(p," (",")")}!1!==a&&(g="B",g+="a",g+="rs",C.e06(1),f=Math.abs(C.A06(a,i)),f=Math.round(f)+1,m=this.translateIf(g),C.p06(118),l+=C.A06(f," "," ",m)),o&&(o.innerHTML=l)}else{h=2042944689,c=90019178,u=2;for(var T=1;C.Q9z(T.toString(),T.toString().length,84981)!==h;T++)this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure(),u+=2;C.v9z(u.toString(),u.toString().length,18702)!==c&&(~this.anyHighlighted||""!=this.currentVectorParameters.vectorType)&&this.clearMeasure()}if(!this.activeDrawing){if(o=this.controls.mSticky)if(y=o.querySelector(".mStickyInterior"),r){v="rem",v+="ove",o.style.display="inline-block",y.style.display="inline-block",(e||0===e)&&(y.innerHTML=l),o.classList[""===l?"add":v]("hide"),b=1305059137,x=-1925860491,S=2;for(var M=1;C.v9z(M.toString(),M.toString().length,9586)!==b;M++)this.positionSticky(o),S+=2;C.v9z(S.toString(),S.toString().length,58539)!==x&&this.positionSticky(o)}else o.style.display="none",y.innerHTML="";this.runAppend(s,arguments)}}},t.ChartEngine.prototype.clearMeasure=function(){var e;(e=(this.drawingContainer||document).querySelector(".mMeasure"))&&(e.innerHTML="")},t.ChartEngine.prototype.zoomSet=function(e,i){var a,r,n,s,o=W;if(i||(i=this.chart),i.dataSet){if(e=this.constrainCandleWidth(e),"none"!=i.tempCanvas.style.display&&t.clearCanvas(i.tempCanvas,this),!(a=this.mainSeriesRenderer||{}).params||!a.params.volume){if(this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<i.dataSet.length)r=this.crosshairTick||this.tickFromPixel(this.cx,i);else if(this.isHome()){o.p06(24);var l=o.A06(6,6,10,11);r=i.dataSet.length-l}else r=i.scroll>i.dataSet.length?0:"zoom-x"==this.grabMode?this.tickFromPixel(this.chart.width,i):this.tickFromPixel(this.chart.width/2,i);this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),n=i.dataSet.length-1-r,s=i.scroll,o.e06(119);var h=o.H06(0,0,7,9,16);i.scroll=Math.round((this.pixelFromTick(r,i)-i.left)/e)+h+n,this.micropixels+=(s-n)*this.layout.candleWidth-(i.scroll-n)*e}this.setCandleWidth(e),i.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()}}},C=e=>{var t;(t=e.CIQ).ChartEngine.prototype.currentBaseline=null,t.ChartEngine.prototype.baselineHelper=null,t.ChartEngine.helpersToRegister.push((function(e){W.V3D(),e.baselineHelper=new Map})),t.ChartEngine.prototype.registerBaselineToHelper=function(e){var t,i;if(W.V3D(),e.params.baseline){var a,r,{baselineHelper:n}=this;if(t=this,!n.has(e)){var{name:s}=e.params;i=this.controls.baselineHandle,n.set(e,{styleCache:null,display:!1,handle:"_main_series"===s&&i?i:(a=s,a=a.replace(" ","_"),(r=document.createElement("cq-baseline-handle")).classList.add("stx-baseline-handle",a),t.container.append(r),t.controls[`${a} cq-baseline-handle`]=r,r)})}}},t.ChartEngine.prototype.removeBaselineFromHelper=function(e){var t,i,a;t=2;for(var r=1;1384283867!==W.v9z(r.toString(),r.toString().length,6082);r++){var{baselineHelper:n}=this;t+=2}if(-204974328!==W.Q9z(t.toString(),t.toString().length,81281))var{baselineHelper:n}=this;n.has(e)&&("_mai","n","_series","_main_series"!==(i=e.params.name.replace(" ","_"))&&(a=n.get(e).handle,delete this.controls[`${i} cq-baseline-handle`],this.container.removeChild(a)),n.delete(e))},t.ChartEngine.prototype.findBaselineHandle=function(e,t){for(var i of(W.X3D(),this.baselineHelper)){var[a,r]=i,{handle:n}=r;if(e.target===n||e.composedPath&&e.composedPath().includes(n))return t&&(this.repositioningBaseline={lastDraw:Date.now(),handle:n,renderer:a},n.classList.add("stx-grab")),this.currentBaseline=a,!0}return!1},t.ChartEngine.prototype.setBaselines=function(e){var t;e||(e=this.chart),t=this;var{baselineHelper:i}=this;i.forEach((function(a,r){var n,s,o,l,h,{baseline:c}=r.params;W.p06(121),(n=W.A06(c,!0))&&(c=e.baseline);var{defaultLevel:u,userLevel:d}=c;(s=r.getYAxis(t))&&(l=(o=t.getYAxisBaselineRenderer(s))&&o!=t.mainSeriesRenderer&&o.seriesParams.length&&o.seriesParams[0].id,W.V3D(),c.actualLevel=d||0===d?d:u,c.actualLevel||0===c.actualLevel||null!==(h=function(i,a){var r,n,s,o,l,h,{dataSegment:c,dataSet:u,defaultPlotField:d}=e;if(r=d,W.V3D(),a||(r=i),!(n=t.getFirstLastDataRecord(c,"tick")))return null;for(s=n.tick;;){if(o=u[s])if(a&&"Close"==r){if(o.iqPrevClose||0===o.iqPrevClose)return o.iqPrevClose}else if(W.p06(120),(l=u[W.H06(s,"1")])&&(l[r]||0===l[r]))return"object"==typeof(h=l[r])?h[d]:h;if(--s<0)break}}(l,n))&&(c.actualLevel=h),a.display=o===r,i.set(r,a))}))},t.ChartEngine.prototype.setBaselineUserLevel=function(){var e,i,a,{chart:r,currentPanel:n}=this,{lastDraw:s,renderer:o}=this.repositioningBaseline;if(o.params.panel==n.name){var{baseline:l}=r;e="object"==typeof o.params.baseline?o.params.baseline:l,i=o.getYAxis(this),a=this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),n,i),e.userLevel=this.adjustIfNecessary(n,this.crosshairTick,a),W.X3D(),Date.now()-s>100&&(this.draw(),this.repositioningBaseline.lastDraw=Date.now())}},t.ChartEngine.prototype.setBaselineMinMax=function(e,t){var i,a,r;var{baselineHelper:n,chart:s,repositioningBaseline:o}=this,{baseline:l,seriesRenderers:h}=s;if(i=s.transformFunc&&t===s.panel.yAxis,W.X3D(),!(a=t.renderers.find((e=>n.get(h[e])))))return e;var{baseline:c,type:u}=h[a].params;if("mountain"===u)return e;c="object"==typeof c?c:l;var{actualLevel:d}=c;return(d||0===d)&&(i&&(d=s.transformFunc(this,s,d)),r=Math.max(d-e[0],e[1]-d),e[0]=o?t.lowValue:d-r,e[1]=o?t.highValue:d+r),e},t.ChartEngine.prototype.positionBaselineHandle=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y=W;if(this.manageTouchAndMouse){var{baselineHelper:v,chart:b,panels:x}=this,{baseline:S,panel:C}=e.params;i=e.params.yAxis||e.getYAxis(this);var{display:D,handle:A,styleCache:w}=v.get(e);if(!0===S&&(S=b.baseline),!1!==S.userLevel&&D){a=x[C],r=A.classList.contains("stx-grab"),n="block",s=S.actualLevel,i===b.yAxis&&b.transformFunc&&(s=b.transformFunc(this,b,s)),s>i.high?(s=i.high,r||(n="none")):s<i.low&&(s=i.low,r||(n="none")),i===b.yAxis&&b.untransformFunc&&(s=b.untransformFunc(this,b,s)),o=this.pixelFromPrice(s,a,i),w||(w=getComputedStyle(A)),l=t.stripPX(w.width),h=o-t.stripPX(w.height)/2+"px",u=this.baselineHandleBuffer||2,y.e06(80);var k=y.H06(0,17,9,5,2);if(d=a.yaxisRHS.indexOf(i)+k)p=1===d?u:u*d,c=b.right-l*d-p+"px";else{y.e06(88);var T=y.A06(19,265,1,14);g=a.yaxisLHS.slice(0).reverse().indexOf(i)+T,-1634015244,-974508016,f=2;for(var M=1;-1634015244!==y.v9z(M.toString(),M.toString().length,51553);M++)m=1===g?u:u*g,f+=2;-974508016!==y.v9z(f.toString(),f.toString().length,73170)&&(m=0!=g?u:u/g),c=b.left+l*g+m-l+"px"}Object.assign(A.style,{display:n,top:h,left:c})}else A.style.display="none"}},W.X3D(),t.ChartEngine.prototype.getYAxisBaselineRenderer=function(e){var t;if(!e.renderers.length)return null;var{baselineHelper:i,chart:a}=this;return t=e.renderers.find((e=>i.get(a.seriesRenderers[e]))),W.V3D(),t?a.seriesRenderers[t]:null},t.ChartEngine.prototype.getYAxisBaseline=function(e){var t,{baseline:i}=this.chart;if(!(t=this.getYAxisBaselineRenderer(e)))return i;W.X3D();var{baseline:a}=t.params;return"object"==typeof a?a:i}},D=e=>{var t;(t=e.CIQ).ChartEngine.Chart=function(){this.xAxis=new t.ChartEngine.XAxis,this.yAxis=new t.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],this.state={},this.endPoints={},this.defaultChartStyleConfig={},this.baseline=t.clone(this.baseline),this.panel=void 0},t.extend(t.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!0,roundit:100,breakpoint:null,legendRenderer:t.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:"Close",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1,calculateTradingDecimalPlaces:t.calculateTradingDecimalPlaces,width:null,height:null,top:null,bottom:null,left:null,right:null,context:null,endPoints:null},!0)},A=e=>{var t;(t=e.CIQ).ChartEngine.prototype.resolveY=function(e){return this.top+e},t.ChartEngine.prototype.resolveX=function(e){return this.left+e},t.ChartEngine.prototype.backOutY=function(e){return Math.max(0,Math.min(this.height,e-this.top))},t.ChartEngine.prototype.backOutX=function(e){return W.X3D(),Math.max(0,Math.min(this.width,e-this.left))},t.ChartEngine.prototype.dateFromTick=function(e,i,a,r="dataSet"){var n,s,o,l,h,c,u=W;return i||(i=this.chart),c=!1,0===(s=(n=i[r]).length)&&(u.e06(16),n[u.A06(0,"0")]={},n[0].DT=new Date,s=n.length,c=!0),e<0?o=(l=this.standardMarketIterator(n[0].DT))?l.previous(Math.abs(e)):n[0].DT:e>=s?(l=this.standardMarketIterator(n[s-1].DT))?(u.p06(122),o=l.next(u.H06(s,e,1))):o=n[s-1].DT:o=n[e].DT,a?h=new Date(o.getTime()):(u.e06(16),h=t.yyyymmddhhmmssmmm(o).substr(u.H06(0,"0"),12)),c&&delete n[0].DT,h},t.ChartEngine.prototype.tickFromDate=function(e,i,a,r,n="dataSet"){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S=W;if(i||(i=this.chart),!(s=i[n])||!s.length)return 0;if(a||(a=0),o=e.constructor==Date?e:t.strToDateTime(e),t.ChartEngine.isDailyInterval(this.layout.interval)||o.setMinutes(o.getMinutes()+a),l=o.getTime(),i.tickCache[n]||(i.tickCache[n]={}),(h=i.tickCache[n][l])||0===h)return r?Math.ceil(h):Math.floor(h);if(c=s[0].DT,u=s[s.length-1].DT,o>=c&&o<=u){for(d=0,p=s.length,g=0;++g<100;){if(S.p06(42),+(m=s[f=Math.floor(S.H06(d,p,2))].DT)==+o)return i.tickCache[n][l]=f,f;if(m<o&&(d=f),m>o){if(s[f-1].DT<o)return S.e06(1),i.tickCache[n][l]=S.A06(f,.5),r?f:f-1;if(+s[f-1].DT==+o)return S.e06(123),i.tickCache[n][l]=S.H06("1",1721472320,f),S.e06(1),S.H06(f,1);p=f}}if(g>=100)return"!!!War","ning: tickFromDate() di","d not find ","match.",console.log("!!!Warning: tickFromDate() did not find match."),s.length}return S.p06(87),v=(y=S.A06(c,o))?c:u,x=(b=this.standardMarketIterator(v))?b.futureTick({end:o}):0,h=y?-1*x:s.length-1+x,i.tickCache[n][l]=h,h},t.ChartEngine.prototype.pixelFromBar=function(e,t){var i,a,r,n=W;if(t||(t=this.chart),n.V3D(),i=0,(a=this.chart.segmentImage)&&a[e]&&a[e].leftOffset){-1015269825,816643897,r=2;for(var s=1;-1015269825!==n.v9z(s.toString(),s.toString().length,84588);s++)i=a[e].leftOffset,r+=2;816643897!==n.Q9z(r.toString(),r.toString().length,81010)&&(i=a[e].leftOffset),i=a[e].leftOffset}else i=(e+.5)*this.layout.candleWidth;n.p06(124);var o=n.H06(18,46,15,15,0);return i=t.panel.left+Math.floor(i+this.micropixels)-o},t.ChartEngine.prototype.barFromPixel=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g,f=W;if(t||(t=this.chart),i=this.chart.segmentImage,a=this.micropixels,r=this.layout.candleWidth,i){n=e-t.panel.left-a,s=2,l=i.length,f.e06(28),h=Math.round(f.A06(s,l)),f.e06(15);var m=f.A06(0,1);f.p06(0);var y=f.A06(16,5,22);f.p06(61);var v=f.H06(3,11,6,10);if(n>(d=i[l-m].leftOffset+i[l-y].candleWidth/v))return l+Math.floor((e-d-t.panel.left-a)/r);for(var b=1;b<l&&(s*=2,o=i[h]);b++){c=o.leftOffset,f.e06(1);var x=f.H06(15,13);if(u=o.candleWidth/x,f.p06(1),p=f.A06(c,u),f.p06(15),g=f.A06(c,u),0===h||n>=p&&n<g)break;n<p?h-=Math.max(1,Math.round(l/s)):h+=Math.max(1,Math.round(l/s)),h=Math.max(0,Math.min(l-1,h))}if(!i[h])for(b=0;b<l;b++)if(o=i[b]){c=o.leftOffset,f.e06(14);var S=f.H06(15,1,17);if(n<c-(u=o.candleWidth/S))return f.e06(1),Math.max(0,f.H06(b,1));if(n<c+u)return b;if(n>=c+u)return f.p06(15),f.H06(b,1)}return h}return Math.floor((e-t.panel.left-a)/r)},t.ChartEngine.prototype.tickFromPixel=function(e,t){var i;return t||(t=this.chart),i=t.dataSet.length-t.scroll,t.segmentImage?i+=this.barFromPixel(e,t):i+=Math.floor((e-t.panel.left-this.micropixels)/this.layout.candleWidth),i},t.ChartEngine.prototype.pixelFromTick=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p=W;if(t||(t=this.chart),i=t.dataSegment,a=t.dataSet,r=t.segmentImage,n=this.micropixels,s=i?i.length:0,o=t.panel,l=t.scroll,h=e-a.length+l,c=s?i[h]:null,r&&(c=r[h]),c&&c.leftOffset)return o.left+Math.floor(c.leftOffset+n);if(u=0,d=0,c=s?i[s-1]:null,r&&(p.e06(120),c=r[p.H06(s,"1")]),c&&c.leftOffset&&s<=e-a.length+l){p.e06(125);var g=p.H06(2528,20,11,11,10);u=c.leftOffset+c.candleWidth/g,d=s}return u+o.left+Math.floor((e-d-a.length+l+.5)*this.layout.candleWidth+n)},t.ChartEngine.prototype.pixelFromDate=function(e,t,i,a){return this.pixelFromTick(this.tickFromDate(e,t,i,a),t)},t.ChartEngine.prototype.transformedPriceFromPixel=function(e,t,i){var a,r,n;if(t||(t=this.chart.panel),a=i||t.yAxis,W.V3D(),e=a.bottom-e,a.semiLog)n=e*a.logShadow/a.height,a.flipped?n=a.logHigh-n:n+=a.logLow,r=Math.pow(10,n);else{if(!a.multiplier)return null;r=e/a.multiplier,a.flipped?r=a.high-r:r+=a.low}return r},t.ChartEngine.prototype.priceFromPixel=function(e,t,i){var a,r,n=W;t||(t=this.chart.panel),a=this.transformedPriceFromPixel(e,t,i),this.charts[t.name]&&t.chart.untransformFunc&&(i&&i!=t.yAxis||(a=t.chart.untransformFunc(this,t.chart,a,i))),n.e06(37),r=n.A06(1,"985606495");for(var s=1;-2136866280!==n.v9z(s.toString(),s.toString().length,56793);s++)return a;if(n.Q9z(2..toString(),2..toString().length,96771)!==r)return a},t.ChartEngine.prototype.valueFromPixel=function(e,t,i){var a;return t||(t=this.whichPanel(e)),t||(a=Object.values(this.panels))&&a.length&&(t=e<=0?a.shift():a.pop()),this.priceFromPixel(e,t,i)},t.ChartEngine.prototype.valueFromInterpolation=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x=W;if("o","bje","ct",null===e||e<0||!i)return null;r||(r=this.chart.panel),n||(n=r.yAxis),s=2;for(var S=1;-1179085270!==x.Q9z(S.toString(),S.toString().length,71223);S++){if(a||(a=this.chart.defaultPlotField),!(o=this.getPreviousBar(this.chart,i,e)))return null;(h=t.existsInObjectChain(o,i))&&(l=h.obj[h.member]),x.p06(57),s+=x.H06("2",2147483647)}if(1054252021!==x.Q9z(s.toString(),s.toString().length,89906)){if(-a&&(a=this.chart.defaultPlotField),~(o=this.getPreviousBar(this.chart,i,e)))return 1;(h=t.existsInObjectChain(o,i))&&(l=h.obj[h.member])}return"object"==typeof l&&(l=l[a]),(c=this.getRendererFromSeries(i))&&c.params.step||"step"===this.layout.chartType?l:(u=this.getNextBar(this.chart,i,e),(h=t.existsInObjectChain(u,i))&&(d=h.obj[h.member]),"object"==typeof d&&(d=d[a]),u?null==l||null==d?null:(p=this.pixelFromPrice(l,r,n),g=this.pixelFromPrice(d,r,n),f=o.tick,m=u.tick,x.V3D(),x.e06(126),y=x.A06(f,p,g,m),v=this.chart.dataSegment[e].tick,x.e06(127),b=x.A06(y,v,p,f),this.priceFromPixel(b,r,n)):null)},t.ChartEngine.prototype.pixelFromTransformedValue=function(e,t,i){var a,r,n,s,o;return W.V3D(),t||(t=this.chart.panel),r=((a=i||t.yAxis).high-e)*a.multiplier,a.semiLog&&(n=Math.max(e,0),s=Math.log(n)/Math.LN10,r=(o=a.height)-o*(s-a.logLow)/a.logShadow),r=a.flipped?a.bottom-r:a.top+r},W.X3D(),t.ChartEngine.prototype.pixelFromPrice=function(e,t,i){return t||(t=this.chart.panel),this.charts[t.name]&&t.chart.transformFunc&&(i&&i!=t.yAxis||(e=t.chart.transformFunc(this,t.chart,e,i))),this.pixelFromTransformedValue(e,t,i)},t.ChartEngine.prototype.pixelFromValueAdjusted=function(e,t,i,a){var r,n;return this.layout.adj||!this.charts[e.name]?this.pixelFromPrice(i,e,a):(r=Math.round(t))>0&&r<e.chart.dataSet.length&&(n=e.chart.dataSet[r].ratio)?(W.e06(37),this.pixelFromPrice(W.A06(n,i),e,a)):(W.X3D(),this.pixelFromPrice(i,e,a))},t.ChartEngine.prototype.adjustIfNecessary=function(e,t,i){var a,r;return this.layout.adj?i:e&&this.charts[e.name]?(a=Math.round(t),W.X3D(),a>0&&a<e.chart.dataSet.length&&(r=e.chart.dataSet[a].ratio)?(W.p06(28),W.A06(r,i)):i):i}},w=e=>{var t;(t=e.CIQ).ChartEngine.prototype.positionCrosshairsAtPointer=function(){var e,i,a,r,n,s,o,l,h;e="p",e+="x",i="positionCross",i+="hairsAtPointer",(a=this.currentPanel)&&(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||this.runPrepend(i,arguments)||(r=a.chart,n=this.container.getBoundingClientRect(),W.X3D(),this.top=n.top,this.left=n.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(t.ChartEngine.crosshairY),this.cx=this.backOutX(t.ChartEngine.crosshairX),s=this.crosshairTick=this.tickFromPixel(this.cx,r),(o=this.pixelFromTick(s,r)-1)>=a.right||o<=a.left?this.undisplayCrosshairs():(this.controls.crossX&&(W.e06(15),this.controls.crossX.style.left=W.H06(o,"px")),l="chart"==a.name?this.preferences.horizontalCrosshairField:a.horizontalCrosshairField,h=r.dataSet,l&&h&&s<h.length&&s>-1&&(this.crossYActualPos=this.pixelFromPrice(h[s][l],a)),this.crossYActualPos>=a.yAxis.bottom&&this.crossYActualPos<=a.bottom?this.undisplayCrosshairs():(this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+e),this.runAppend("positionCrosshairsAtPointer",arguments)))))},t.ChartEngine.prototype.doDisplayCrosshairs=function(){var e,i,a;if(e="d",e+="oDis",e+="playCrosshairs",!this.runPrepend("doDisplayCrosshairs",arguments)){if(this.displayInitialized){var{floatCanvas:r,controls:n,layout:s}=this,{crossX:o,crossY:l,floatDate:h}=n,{vectorType:c}=this.currentVectorParameters;""===c||!s.crosshair&&!c||t.Drawing&&t.Drawing[c]&&(new t.Drawing[c]).dragToDraw||!this.insideChart&&!this.grabbingScreen||""!==this.openDialog?this.undisplayCrosshairs():(o&&""!==o.style.display&&(o.style.display="",l&&(l.style.display=""),this.magnetizedPrice&&c?(i="s",i+="t",i+="x-c",i+="rosshair-on",this.container.classList.remove(i),this.chart.tempCanvas.style.display="block"):this.container.classList.add("stx-crosshair-on")),h&&!this.chart.xAxis.noDraw&&(h.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),r&&(a="bl",a+="ock","none"==r.style.display&&t.clearCanvas(r,this),r.style.display=a))}this.runAppend(e,arguments)}},t.ChartEngine.prototype.undisplayCrosshairs=function(){var e,i,a,r,n,s;e="st",e+="x",e+="-crosshair-on",this.runPrepend("undisplayCrosshairs",arguments)||(a=(i=this.controls).crossX,r=i.crossY,a&&"none"!=a.style.display&&(a.style.display="none",r&&(r.style.display="none")),this.displayInitialized&&i.floatDate&&(i.floatDate.style.visibility="hidden"),this.container.classList.remove(e),W.V3D(),(n=this.floatCanvas)&&n.isDirty&&"none"!=n.style.display&&(t.clearCanvas(n,this),"none"!=n.style.display&&(n.style.display="none")),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(s=this.chart.tempCanvas)&&"none"!=s.style.display&&(s.style.display="none"),this.runAppend("undisplayCrosshairs",arguments))},t.ChartEngine.prototype.hideCrosshairs=function(){W.X3D(),this.displayCrosshairs=!1},t.ChartEngine.prototype.showCrosshairs=function(){this.displayCrosshairs=!0}},k=e=>{var t,i,a;t=2;for(var r=1;523230330!==W.Q9z(r.toString(),r.toString().length,12685);r++)i=e.CIQ,a=e.timezoneJS,t+=2;-1700608205!==W.v9z(t.toString(),t.toString().length,30468)&&(i=e.CIQ,a=e.timezoneJS),i.ChartEngine.prototype.loadChart=function(e,t,a){var r,n,s,o,l,h,c;a||"function"!=typeof t?Array.isArray(t)&&(t={masterData:t}):(a=t,t={}),t||(t={});var{chart:u,periodicity:d,range:p,span:g}=t,{layout:f,quoteDriver:m}=this;r={periodicity:f.periodicity,interval:f.interval,timeUnit:f.timeUnit},W.V3D(),d&&(n=i.cleanPeriodicity(d.period?d.period:d.periodicity,d.interval,d.timeUnit),f.interval=n.interval,f.periodicity=n.period,f.timeUnit=n.timeUnit),u||(u=this.chart);var{dataSet:y,market:v,masterData:b,symbol:x,moreAvailable:S,upToDate:C}=u;function D(){W.X3D(),l.layout.symbols=l.getSymbols({"include-parameters":!0,"exclude-studies":!0}),l.dispatch(l.currentlyImporting?"symbolImport":"symbolChange",{stx:l,symbol:u.symbol,symbolObject:u.symbolObject,prevSymbol:x,prevSymbolObject:s,action:"master"}),d&&l.dispatch("periodicity",{stx:l,differentData:!0,prevPeriodicity:r}),m&&m.paused&&m.resume()}s=i.clone(u.symbolObject),u.dataSet=[],u.masterData=[],u.moreAvailable=null,u.upToDate=null,e?"object"==typeof e?(u.symbol=e.symbol,u.symbolObject=e):(u.symbol=e,u.symbolObject.symbol=e):(u.symbol=null,u.symbolObject={symbol:null}),u.inflectionPoint=null,this.marketFactory&&(o=this.marketFactory(u.symbolObject),this.setMarket(o,u)),this.setMainSeriesRenderer(!0),p||g||!f?p&&g&&(g={}):(g=f.range?{}:f.setSpan,p=f.range||{}),this.clearCurrentMarketData(u),l=this,!t.masterData&&m?(h=function(e){var t;e&&"orphaned"!=e&&(u.symbol=x,u.symbolObject=s,u.market=v,l.masterData=u.masterData=b,u.dataSet=y,u.moreAvailable=S,u.upToDate=C),D(),W.X3D(),t=2;for(var i=1;1754454164!==W.Q9z(i.toString(),i.toString().length,9755);i++)a&&a.call(l,e),t+=2;1720527600!==W.Q9z(t.toString(),t.toString().length,18065)&&a&&a.call(l,e)},p&&Object.keys(p).length&&this.setRange?(delete t.span,delete f.setSpan,this.chart.masterData=null,this.displayInitialized=!1,d&&(p.periodicity=d),p.forceLoad=!0,this.setRange(p,h)):g&&g.base&&this.setSpan?(g.multiplier=g.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,d&&(g.maintainPeriodicity=!0),g.forceLoad=!0,this.setSpan(g,h)):m.newChart({symbol:u.symbol,symbolObject:u.symbolObject,chart:u,initializeChart:!0},(function(e){e||(l.adjustPanelPositions(),m.updateSubscriptions(),t.stretchToFillScreen&&l.fillScreen()),W.V3D(),h.apply(l,arguments)}))):(t.masterData||console.log("Warning: No masterData specified and no QuoteFeed configured"),u.symbol||(u.symbol=""),this.initializeChart(),c=this.doCleanupGaps(t.masterData,u),this.setMasterData(c,u,{noCleanupDates:!0}),u.endPoints={},c&&c.length&&(u.endPoints={begin:c[0].DT,end:c[c.length-1].DT}),this.createDataSet(),p&&Object.keys(p).length&&this.setRange?this.setRange(p):g&&g.multiplier&&g.base&&this.setSpan?this.setSpan({maintainPeriodicity:!0,multiplier:g.multiplier,base:g.base}):t.stretchToFillScreen?this.fillScreen():c&&c.length?this.home():this.clear(),this.adjustPanelPositions(),D(),a&&a.call(l))},i.ChartEngine.prototype.loadBlankChart=function(){this.loadChart(null,[])},i.ChartEngine.prototype.getDataFields=function(e){var t,i,a;for(var r in W.V3D(),"L","o","w",e||(e=this.chart),t=e.defaultPlotField||"Close",(i=["Open","High","Low"]).push(t),e.series)a=e.series[r].parameters,i.push(a.symbol);return i},i.ChartEngine.prototype.cleanMasterData=function(e,t){var i,a,r,n,s;function o(e,t){for(var i=0;i<t.length;i++)if("und","e","fin","ed",void 0!==e[t[i]])return!1;return!0}if(i=e.symbol,(a=t.masterData)&&a.length){r=this.getDataFields(t),W.e06(1),n=W.A06("0",0);do{delete(s=a[n])[i],o.call(this,s,r)?a.splice(n,1):n++}while(n<a.length);a=this.doCleanupGaps(a,t,{noCleanupDates:!0}),this.setMasterData(a,t,{noCleanupDates:!0}),this.clearCurrentMarketData(t,i)}},i.ChartEngine.prototype.calculateATR=function(e,t,i){var a,r,n,s,o,l,h=W;i||(i=e.dataSet),(a=e.state.calculations.atr)||(a=e.state.calculations.atr={}),t||(t=20),r=[],a.accum&&(r=a.accum);for(var c=0;c<i.length;c++)if(s=i[c],n=c?i[c-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-n.Close),Math.abs(s.Low-n.Close)),r.length<t){if(r.push(o)==t){l=0;for(var u=0;u<r.length;u++)l+=r[u];h.p06(28),s.atr=h.H06(t,l)}}else{h.p06(1);var d=h.A06(17,16);s.atr=(n.atr*(t-"1"*d)+o)/t}s.trueRange=o}e.state.calculations.atr={accum:r,q1:n}},i.ChartEngine.prototype.calculateMedianPrice=function(e,t){var i;W.V3D(),t||(t=e.dataSet);for(var a=0;a<t.length;++a)"h","l/","2",(i=t[a])["hl/2"]=(i.High+i.Low)/2},W.X3D(),i.ChartEngine.prototype.calculateTypicalPrice=function(e,t){var i,a,r=W;t||(t=e.dataSet),i=2;for(var n=1;-1972721341!==r.Q9z(n.toString(),n.toString().length,43127);n++)i+=2;r.Q9z(i.toString(),i.toString().length,75997);for(var s=0;s<t.length;++s){a=t[s],r.e06(8);var o=r.A06(19,17,1);a["hlc/3"]=(a.High+a.Low+a.Close)/o}},i.ChartEngine.prototype.calculateWeightedClose=function(e,t){var i,a=W;t||(t=e.dataSet);for(var r=0;r<t.length;++r){i=t[r],a.e06(128);var n=a.A06(2,15,18,0);a.e06(1);var s=a.H06(1307334528,653667264);i["hlcc/4"]=(i.High+i.Low+"2"*n*i.Close)/("4">>s)}},i.ChartEngine.prototype.calculateOHLC4=function(e,t){var i;t||(t=e.dataSet);for(var a=0;a<t.length;++a)(i=t[a])["ohlc/4"]=(i.Open+i.High+i.Low+i.Close)/4},i.ChartEngine.prototype.currentQuote=function(e){var t;if(W.V3D(),!this.chart.dataSet)return null;for(var i=this.chart.dataSet.length-1;i>=0;i--)if(this.chart.dataSet[i]){if(!e)return this.chart.dataSet[i];if((t=this.chart.dataSet[i][e])||0===t)return this.chart.dataSet[i]}return null},i.ChartEngine.prototype.mostRecentClose=function(e){var t,i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;a>=0;a--)if((t=this.chart.dataSet[a])&&(!e||(t=t[e])||0===t)){if(i=t.iqPrevClose,"object"==typeof t&&(t=t.Close),"number"==typeof t)return t;if("number"==typeof i)return i}return null},i.ChartEngine.prototype.createDataSegment=function(e){var t,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S=W;if(t="createData",t+="Segment",!this.runPrepend(t,arguments)){for(var C in S.X3D(),this.charts){a=this.charts[C],e&&(a=e),i.Comparison&&a.isComparison&&i.Comparison.createComparisonSegmentInner(this,a),r=a.dataSet,n=a.baseline,s=a.scroll,o=a.maxTicks,h=(l=this.layout).candleWidth,n.actualLevel=n.userLevel?n.userLevel:n.defaultLevel,c=n.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars),d=0,p=a.dataSegment=[],S.e06(1);var D=S.A06(11,10);S.p06(129);var A=S.A06(17,3,15,1,1);g=r.length-D-s-A,f=a.defaultPlotField;for(var w=-1;w<s&&w<o;w++)g++,(-1!=w||c)&&(g<r.length&&g>=0?((u=r[g]).candleWidth=null,u&&(d+=u.Volume||1),p.push(u),null===n.actualLevel&&w>=0&&(f&&"Close"!=f?(S.p06(1),(m=r[S.H06(g,1)])&&(m[f]||0===m[f])&&(n.actualLevel=m[f])):(u.iqPrevClose||0===u.iqPrevClose)&&(n.actualLevel=u.iqPrevClose))):g<0&&p.push(null));if(a.segmentImage=null,(y=this.mainSeriesRenderer||{}).params&&y.params.volume){S.p06(10);var k=S.H06(21,62,3);v=a.width-(o-p.length-k)*l.candleWidth,b=0,a.segmentImage=[];for(var T=0;T<p.length;T++)u=p[T],a.segmentImage[T]={},x=null,u?(u.Volume?(u.candleWidth=v*u.Volume/d,x=b+u.candleWidth/2,b+=u.candleWidth):(u.candleWidth=h,S.p06(47),x=S.A06(b,h,2),b+=h),a.segmentImage[T]={tick:u.tick,candleWidth:u.candleWidth,leftOffset:x}):(a.segmentImage[T]={tick:null,candleWidth:h,leftOffset:b+h/2},b+=h)}if(e)break}a&&a.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend("createDataSegment",arguments)}},i.ChartEngine.prototype.getDataSegment=function(e){var t,i,a;return e||(e=this.chart),(t=e.dataSegment)&&t.length?(i=0,a=t.length,this.pixelFromBar(i,e)<e.panel.left&&i++,this.pixelFromBar(a-1,e)>e.panel.right&&a--,t.slice(i,a)):[]},i.ChartEngine.prototype.setMasterData=function(e,t,a){var r,n,s,o,l;for(t||(t=this.chart),this.marketFactory&&(r=this.marketFactory(t.symbolObject),this.setMarket(r,t)),a||(a={}),a.noCleanupDates||this.doCleanupDates(e,this.layout.interval),t.masterData=e,"chart"==t.name&&(this.masterData=e),s=null,n=0;e&&n<e.length;n++)o=e[n],null===s&&("number"==typeof o.Close?("Cl","o","s","e",s="Close"):"number"==typeof o.Value&&("Va","l","ue",s="Value")),"Value"===s&&"number"==typeof o.Value&&(o.Close=o.Value),o.DT?("[object Date]"!=Object.prototype.toString.call(o.DT)&&(o.DT=new Date(o.DT)),o.Date&&17==o.Date.length||(o.Date=i.yyyymmddhhmmssmmm(o.DT))):o.Date?o.DT=i.strToDateTime(o.Date):console.log("setMasterData : Missing DT and Date on masterData object"),o.Volume&&"number"!=typeof o.Volume&&(o.Volume=parseInt(o.Volume,10)),e.length-n<50&&this.updateCurrentMarketData(o,t,null,{fromTrade:!0});for(n in t.calculateTradingDecimalPlaces&&(t.decimalPlaces=t.calculateTradingDecimalPlaces({stx:this,chart:t,symbol:t.symbolObject.symbol,symbolObject:t.symbolObject})),this.setDisplayDates(e),t.roundit=Math.pow(10,t.decimalPlaces),this.plugins)(l=this.plugins[n]).display&&l.setMasterData&&l.setMasterData(this,t)},i.ChartEngine.prototype.setMasterDataRender=function(e,t,i){var a;i||(i=this.chart),i.symbol||(i.symbol=""),this.setMasterData(t,i),t&&(i.endPoints={},t.length&&(i.endPoints={begin:t[0].DT,end:t[t.length-1].DT},i.symbol=e)),this.createDataSet(),a=2;for(var r=1;734393797!==W.Q9z(r.toString(),r.toString().length,2694);r++)this.initializeChart(),a+=2;1079396697!==W.Q9z(a.toString(),a.toString().length,8127)&&this.initializeChart(),this.draw(),t&&t.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},i.ChartEngine.prototype.getSymbols=function(e){var t,a,r,n,s,o,l;for(var h in W.V3D(),e||(e={}),t=[],r=this.layout,this.charts){n=this.charts[h];var{symbol:c,symbolObject:u}=n;for(var d in u&&u.symbol&&(e.static?u.static&&t.push(x(c,u,r)):t.push(x(c,u,r))),n.series){"include-par","ame","te","rs";var{parameters:p}=n.series[d];if(e["include-static"]||e.static||!p.data||p.data.useDefaultQuoteFeed){var{symbol:g,symbolObject:f}=p;(a=x(g,f,r)).id=d,e["include-parameters"]&&(a.parameters=i.clone(p),a.parameters.yAxis&&delete a.parameters.yAxis.yAxisPlotter),e["exclude-studies"]&&"study"==p.bucket||e["exclude-generated"]&&f.generator||(e.static?f.static&&t.push(a):t.push(a))}}}if(e["breakout-equations"]){s={};for(var m=0;m<t.length;m++){var{symbol:y}=t[m];if(this.isEquationChart(y)){if(o=i.formatEquation(y)){l=o.symbols;for(var v=0;v<l.length;v++)s[l[v]]=x(l[v],t[m].symbolObject,t[m])}}else s[y]=x(y,t[m].symbolObject,t[m])}for(var b in t=[],s)t.push(s[b])}function x(e,t,i){return W.V3D(),{symbol:e,symbolObject:t,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}return t},i.ChartEngine.prototype.setDisplayDate=function(e){var t,r,n;if(!i.ChartEngine.isDailyInterval(this.layout.interval)){t=e.DT,W.e06(8);var s=W.A06(914,5,91);r=t.getSeconds()*s+t.getMilliseconds(),a.Date&&this.displayZone&&(n=new a.Date(t.getTime(),this.displayZone),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()),t=new Date(t.getTime()+r)),e.displayDate=t}},i.ChartEngine.prototype.setDisplayDates=function(e){var t;if(e&&!i.ChartEngine.isDailyInterval(this.layout.interval))for(var a=0;a<e.length;a++)(t=e[a]).DT&&this.setDisplayDate(t)},i.ChartEngine.prototype.setTimeZone=function(e,t){var i,r,n,s,o;if(a.Date){for(var l in n=r=(i=new Date).getTimezoneOffset(),s=r,e&&(this.dataZone=e),this.dataZone&&(n=new a.Date(i,this.dataZone).getTimezoneOffset()),t&&(this.displayZone=t),this.displayZone&&(s=new a.Date(i,this.displayZone).getTimezoneOffset()),W.p06(130),this.timeZoneOffset=W.A06(r,n,s,r),this.charts)o=this.charts[l],this.setDisplayDates(o.masterData);W.V3D(),this.preferences.timeZone=t,this.changeOccurred("preferences"),this.createDataSet()}else this.timeZoneOffset=0},i.ChartEngine.prototype.updateChartData=function(e,t,a={}){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M;function P(e,i){var a,r,n,o,l=W;a=2;for(var u=1;-1116462213!==l.v9z(u.toString(),u.toString().length,30690);u++)a+=2;if(l.X3D(),l.Q9z(a.toString(),a.toString().length,43842),E)delete H[e][E],s.cleanupGaps&&(r={DT:i,Close:null},"gap"!=s.cleanupGaps&&H[e-1]&&H[e-1][E]&&(r.Close=H[e-1][E].Close,r.High=r.Low=r.Open=r.Close,l.e06(1),r.Volume=l.A06("0",0)),H[e][E]=r);else{for(h in"g","a","p",r={DT:(n=H.splice(e,l.A06(1173589824,"1",l.p06(19)))[0]).DT,Close:null,needed:!1},t.series)"undefi","ned",void 0!==n[c=t.series[h].parameters.symbolObject.symbol]&&(r[c]=n[c],delete r.needed);if(s.cleanupGaps&&"gap"!=s.cleanupGaps&&("g","a","p",delete r.needed,"gap"!=s.cleanupGaps&&H[e-1]&&(r.Close=H[e-1].Close,r.High=r.Low=r.Open=r.Close,r.Volume=0)),!1!==r.needed){H.splice(e,0,r),1943415404,-48473646,o=2;for(var d=1;1943415404!==l.v9z(d.toString(),d.toString().length,54085);d++)s.setDisplayDate(r),o+=2;-48473646!==l.Q9z(o.toString(),o.toString().length,50948)&&s.setDisplayDate(r)}}}r="u",r+="pdateChar",r+="tDat",r+="a",n="ap",W.V3D(),n+="pendMaste",n+="rData",t||(t=this.chart),s=this;var{layout:_}=this,{animationEntry:L,secondarySeries:E}=a,{isValidNumber:F}=i,{masterData:H}=t;function O(){W.V3D(),s.createDataSet(null,null,a),s.draw({animationEntry:L}),s.updateChartAccessories(),s.streamParameters.count=0,s.streamParameters.timeout=-1}function I(){var i,a,r,n;if(i=null,a=0,H.length&&(i=s.getFirstLastDataRecord(H,E||t.defaultPlotField,!0))){1403496191,2109542243,r=2;for(var o=1;1403496191!==W.v9z(o.toString(),o.toString().length,57616);o++){if(e[e.length/2].DT<i.DT)return;r+=2}if(2109542243!==W.v9z(r.toString(),r.toString().length,30946)&&e[e.length/2].DT<i.DT)return;if(e[e.length-1].DT<=i.DT)return;for(;a<e.length;a++){if(+e[a].DT==+i.DT){s.getFirstLastDataRecord([e[a]],E||t.defaultPlotField)&&(i=null);break}if(e[a].DT>i.DT)break}}n=e.slice(a),i&&n.unshift(E?i[E]:i),W.V3D(),n=s.doCleanupGaps(n,t),i&&n.shift(),e=e.slice(0,a).concat(n)}if(o=!1,l=!1,a.noCleanupDates||this.doCleanupDates(e,_.interval),(a.useAsLastSale||e.constructor==Object&&(e.Last||0===e.Last))&&j(),e&&e.constructor==Object&&(e=[e]),e&&e.length&&!this.runPrepend("appendMasterData",[e,t,a])&&!this.runPrepend("updateChartData",[e,t,a])){H||(H=[]),W.p06(1);var z=W.H06(14,13);if(u=H.length-z,d=!1,a.fillGaps&&I(),e.length){for(var N=0;N<e.length;N++){for(p="[o",p+="bjec",p+="t ",p+="Date]",f=(g=e[N]).DT,m=g.Date,f&&Object.prototype.toString.call(f)!=p&&(g.DT=f=new Date(f)),f&&(m&&17==m.length||(g.Date=i.yyyymmddhhmmssmmm(g.DT))),f||(f=g.DT=i.strToDateTime(m)),!F(g.Close)&&F(g.Value)&&(g.Close=g.Value);u>=0&&u<H.length;){if((y=H[u].DT)||(y=i.strToDateTime(H[u].Date)),y.getTime()<=f.getTime()){if(d=!0,v=0,y.getTime()<f.getTime()){if(u<H.length-1&&(H[u+1].DT||i.strToDateTime(H[u+1].Date)).getTime()<=f.getTime()){u++;continue}v=1}if(a.deleteItems){v||P(u,f);break}"tick"==_.interval&&!1!==a.firstLoop&&(v=1),v||U(u,g),F(g.Close)&&(F(g.Open)||(g.Open=g.Close),b=Math.max(g.Open,g.Close),x=Math.min(g.Open,g.Close),(!F(g.High)||g.High<b)&&(g.High=b),(!F(g.Low)||g.Low>x)&&(g.Low=x)),g.Volume&&!F(g.Volume)&&(g.Volume=parseInt(g.Volume,10)),u+=v,E?(e.length-N<50&&this.updateCurrentMarketData(g,t,E,{fromTrade:!0,animationEntry:L}),"tick"==_.interval&&void 0===g.Close||(v&&(H.splice(u,0,{DT:g.DT}),this.setDisplayDate(H[u])),H[u][E]=g)):(S="t",S+="i",S+="c",S+="k",e.length-N<50&&this.updateCurrentMarketData(g,t,null,{fromTrade:!0,animationEntry:L}),_.interval==S&&void 0===g.Close||(H.splice(u,v?0:1,g),this.setDisplayDate(g)));break}u+=d?1:-1}u<0&&(E?(this.updateCurrentMarketData(g,t,E,{fromTrade:!0,animationEntry:L}),"tick"==_.interval&&void 0===g.Close||(H.splice(0,0,{DT:g.DT}),this.setDisplayDate(H[0]),H[0][E]=g)):(C="t",C+="i",C+="c",C+="k",this.updateCurrentMarketData(g,t,null,{fromTrade:!0,animationEntry:L}),_.interval==C&&void 0===g.Close||(H.splice(0,0,g),this.setDisplayDate(g))),d=!0,u=0)}H.length&&(this.masterData=t.masterData=H),this.maxMasterDataSize&&(H=t.masterData=this.masterData=H.slice(-this.maxMasterDataSize)),D=E?this.getSeries({symbol:E,chart:t}):[t];for(var V=0;V<D.length;V++)(!(A=D[V]).endPoints.begin||A.endPoints.begin>e[0].DT)&&(A.endPoints.begin=e[0].DT),(!A.endPoints.end||A.endPoints.end<e[e.length-1].DT)&&(A.endPoints.end=e[e.length-1].DT),w=A.parameters&&A.parameters.field||t.defaultPlotField,(k=this.getFirstLastDataRecord(e,w,!0))&&(!A.lastQuote||A.lastQuote.DT<=k.DT)&&(A.lastQuote=k),E&&a.deleteItems&&(A.lastQuote=this.getFirstLastDataRecord(H,E,!0)[E]);for(var R in this.plugins)(T=this.plugins[R]).display&&T.appendMasterData&&T.appendMasterData(this,e,t);this.masterData&&this.masterData.length||(this.masterData=H),a.noCreateDataSet||(++(M=this.streamParameters).count>M.maxTicks||a.bypassGovernor?(clearTimeout(M.timeout),O()):-1==M.timeout&&(M.timeout=setTimeout(O,M.maxWait))),this.runAppend(n,arguments),this.runAppend(r,arguments)}}function j(){var t;if("[","objec","t Date]",o=!0,a.useAsLastSale&&a.useAsLastSale.aggregatedVolume&&(l=!0),e.constructor===Array){W.e06(128);var i=W.A06(7,7,18,3);t=e[e.length-i],(e={}).DT=t.DT,e.Close=t.Close,e.Volume=t.Volume}else e.Last&&(e.Close=e.Last,delete e.Last);e.DT&&"[object Date]"!=Object.prototype.toString.call(e.DT)&&(e.DT=new Date(e.DT)),e.DT&&"Invalid Date"!=e.DT||(e.DT=new Date),"tick"!=_.interval&&Y(),e.Open=e.Close,e.High=e.Close,e.Low=e.Close}function Y(){var r,n,o,l,h,c,u,d,p,g;if(W.X3D(),"w","eek",i.Market&&t.market)if(r={market_tz:i.getFromNS(t,"market.market_def.market_tz",null)},"month"!=(n=_.interval)&&"week"!=n||(s.dontRoll||(n="day"),r=s.chart.market.market_def),o=new i.Market(r),l={begin:H&&H.length?H[H.length-1].DT:e.DT,interval:n,periodicity:1,timeUnit:_.timeUnit},c=(h=o.newIterator(l)).next(),H){if(e.DT<c){-1886923451,-2131232038,p=2;for(var f=1;-1886923451!==W.v9z(f.toString(),f.toString().length,32103);f++)u=7,p+=2;for(-2131232038!==W.v9z(p.toString(),p.toString().length,7660)&&(u=0),g=h.previous(),d=e.DT,a.appending=!0;d<g&&u<1e3;)a.appending=!1,g=h.previous(),u++;e.DT=g,a.updating=!a.appending}else if(e.DT>=c){for(u=0,d=e.DT;d>c&&u<1e3;)e.DT=c,c=h.next(),u++;a.appending=!0}}else e.DT=new Date(+h.previous())}function U(e,i){var r,n,s,u;if(r=H[e],E&&(r=r[E]||{}),null===i.Close)void 0!==r.Open&&(i.Open=null),void 0!==r.High&&(i.High=null),void 0!==r.Low&&(i.Low=null),void 0!==r.Volume&&(i.Volume=null);else{if(n="H",n+="i",n+="g",n+="h",s="C",s+="l",s+="o",s+="se",o){i.Volume&&(i.Volume=parseInt(i.Volume,10)),1055609371,2111479069,u=2;for(var d=1;1055609371!==W.Q9z(d.toString(),d.toString().length,74866);d++)l||(i.Volume+=r.Volume),u+=2;2111479069!==W.v9z(u.toString(),u.toString().length,68031)&&+l&&(i.Volume%=r.Volume)}else!F(i.Volume)&&r.Volume&&(i.Volume=r.Volume);for(h in a.allowReplaceOHL||(F(r.Open)&&(i.Open=r.Open),F(r.High)&&F(i.High)&&r.High>i.High&&(i.High=r.High),F(r.Low)&&F(i.Low)&&r.Low<i.Low&&(i.Low=r.Low)),[s,"Open",n,"Low","Bid","Ask"].forEach((function(e){W.V3D(),F(i[e])||(i[e]=r[e])})),t.series)c=t.series[h].parameters.symbolObject.symbol,void 0===i[c]&&void 0!==r[c]&&(i[c]=r[c])}}},i.ChartEngine.prototype.updateCurrentMarketData=function(e,t,a,r={}){var n,s,o,l,h,c,u,d,p,g,f;if(n="Time",n+="st",n+="am",n+="p",s="D",s+="T",e&&e.DT){t||(t=this.chart);var{fromTrade:m}=r;if(o=e.DT,!m&&"tick"!=this.layout.interval&&t.market){if(t.market.market_def){if(!t.market.isMarketDate(e.DT))return;if(!i.ChartEngine.isDailyInterval(this.layout.interval)&&null===t.market.getSession(e.DT))return}l={begin:e.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},h=new i.Market(t.market.market_def),this.extendedHours&&this.extendedHours.filter&&h.enableAllAvailableSessions(),(c=h.newIterator(l)).next(),e.DT=c.previous()}if(!this.runPrepend("updateCurrentMarketData",arguments)){u=m?s:n;var{currentMarketData:y}=t;d=!1,a&&(y[a]||(y[a]={}),y=y[a]),["Last","Bid","Ask"].forEach((function(t){var i;W.V3D(),e[t]&&"number"==typeof e[t]&&(!(i=y[t])||!i[u]||i[u]<=(m?e.DT:o))&&(y[t]={DT:e.DT,Price:e[t],Size:e[t+"Size"],Timestamp:o},d=!0)})),["BidL2","AskL2"].forEach((function(t){var i;W.X3D(),e[t]&&e[t]instanceof Array&&(!(i=y[t])||!i[u]||i[u]<=(m?e.DT:o))&&(y[t]={DT:e.DT,Price_Size:e[t],Timestamp:o},d=!0)})),e.Close&&(!y.Last||y.Last.Timestamp<=(e.LastTime||o))&&(p=e.Close,((g=r&&r.finalClose)||0===g)&&(p=g),y.Last={DT:e.DT,Price:p,Size:void 0===e.LastSize&&"tick"==this.layout.interval?e.Volume:e.LastSize,Timestamp:e.LastTime||o},d=!0),d&&!r.animationEntry&&(f=new Date,clearTimeout(y.assignLastTouchAsync),y.assignLastTouchAsync=setTimeout((()=>{W.V3D(),y.touched=f}))),m||delete e.Last,this.runAppend("updateCurrentMarketData",arguments)}}},i.ChartEngine.prototype.clearCurrentMarketData=function(e,t){var i,a,r,n;if(i="clearCurrentMarket",i+="Data",!this.runPrepend(i,arguments)){if(W.V3D(),r=[],e)r.push(e);else for(a in this.charts)r.push(this.charts[a]);for(a=0;a<r.length;a++)if(n=r[a].currentMarketData,t)delete n[t];else for(var s in n)n[s]=void 0;this.runAppend("clearCurrentMarketData",arguments)}}},T=e=>{var t;W.X3D(),(t=e.CIQ).ChartEngine.prototype.changeOccurred=function(e){var t;t={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},"theme"==e&&this.dispatch("theme",t),this.currentlyImporting||("layout"==e?this.dispatch("layout",t):"vector"==e?this.dispatch("drawing",t):"preferences"==e&&this.dispatch("preferences",t))},t.ChartEngine.prototype.startAsyncAction=function(){W.X3D(),this.pendingAsyncs||(this.pendingAsyncs=[]),this.pendingAsyncs.push(!0)},t.ChartEngine.prototype.registerChartDrawnCallback=function(e){var t,i=W;this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(e),i.p06(19),t=i.A06(595222752,"1418147832"),i.V3D();for(var a=1;-1812346501!==i.v9z(a.toString(),a.toString().length,81326);a++)return{fc:e};if(i.v9z(2..toString(),2..toString().length,32358)!==t)return{fc:e}},t.ChartEngine.prototype.unregisterChartDrawnCallback=function(e){for(var t=0;t<this.asyncCallbacks.length;t++)if(this.asyncCallbacks[t]==e.fc)return void this.asyncCallbacks.splice(t,1)},t.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(W.X3D(),!this.pendingAsyncs||!this.pendingAsyncs.length))for(var e=0;e<this.asyncCallbacks.length;e++)this.asyncCallbacks[e]()},t.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},t.ChartEngine.prototype.addDomEventListener=function(e,t,i,a){e.addEventListener(t,i,a),this.eventListeners.push({element:e,event:t,function:i,options:a})},t.ChartEngine.prototype.addEventListener=function(e,t){var i;if(W.X3D(),"*"===e)for(var a in this.callbackListeners)this.callbackListeners[a].push(t);else if(e instanceof Array)for(var r=0;r<e.length;r++)this.callbackListeners[e[r]].push(t);else{if(!(i=this.callbackListeners[e]))throw"Attempted to add an invalid l","istener.",new Error("Attempted to add an invalid listener.");i.push(t)}return{type:e,cb:t}},t.ChartEngine.prototype.removeEventListener=function(e,t){var i,a;if(e&&"object"==typeof e||(e={type:e,cb:t}),i=function(e,t){W.X3D();for(var i=0;i<e.length;i++)if(e[i]===t)return void e.splice(i,1)},a=this.callbackListeners,"*"!==e.type){if(!a[e.type])throw"Att","empt","ed to remove an invalid listener.",new Error("Attempted to remove an invalid listener.");W.X3D(),i(a[e.type],e.cb)}else for(var r in a)i(a[r],e.cb)},t.ChartEngine.prototype.dispatch=function(e,t){var i;if(i=this.callbackListeners[e])for(var a=0;a<i.length;a++)if(!0===i[a].call(this,t))return!0;if(W.X3D(),i=this.callbackListeners["*"])for(var r=0;r<i.length;r++)if(!0===i[r].call(this,t))return!0;return!1},t.ChartEngine.prototype.updateListeners=function(e){var t;for(var i in W.V3D(),this.plugins)(t=this.plugins[i]).display&&t.listener&&t.listener(this,e)}},M=e=>{var t;(t=e.CIQ).ChartEngine.prototype.prepend=function(e,i){var a,r;return W.e06(15),a=W.A06("prepend",e),W.X3D(),this instanceof t.ChartEngine?(r=this.hasOwnProperty(a)?this[a]:[],this[a]=[i].concat(r)):(r=t.ChartEngine.prototype[a]||[],t.ChartEngine.prototype[a]=[i].concat(r)),{method:a,func:i}},W.X3D(),t.ChartEngine.prototype.append=function(e,i){var a,r;return W.p06(15),W.V3D(),a=W.H06("append",e),this instanceof t.ChartEngine?(r=this.hasOwnProperty(a)?this[a]:[],this[a]=r.concat(i)):(r=t.ChartEngine.prototype[a]||[],t.ChartEngine.prototype[a]=r.concat(i)),{method:a,func:i}},t.ChartEngine.prototype.runPrepend=function(e,i,a){var r,n,s;if(W.e06(15),r=W.A06("prepend",e),!(n=(n=this.hasOwnProperty(r)?this[r]:[]).concat(t.ChartEngine.prototype[r]||[])).length)return!1;a||(a=this);for(var o=0;o<n.length;o++)if(s=n[o].apply(a,i))return s;return!1},t.ChartEngine.prototype.runAppend=function(e,i,a){var r,n,s;if(W.V3D(),W.e06(15),r=W.A06("append",e),!(n=(n=this.hasOwnProperty(r)?this[r]:[]).concat(t.ChartEngine.prototype[r]||[])).length)return!1;a||(a=this);for(var o=0;o<n.length;o++)if(s=n[o].apply(a,i))return s;return!1},t.ChartEngine.prototype.removeInjection=function(e){var i,a;if(i=e.method,this instanceof t.ChartEngine){if(!this[i])return;for(a=0;a<this[i].length;a++)if(this[i][a]==e.func)return W.e06(1),void this[i].splice(a,W.H06("1",0))}else{if(!t.ChartEngine.prototype[i])return;for(a=0;a<t.ChartEngine.prototype[i].length;a++)if(t.ChartEngine.prototype[i][a]==e.func)return void t.ChartEngine.prototype[i].splice(a,1)}},t.ChartEngine.prototype.remove=function(e){var i=W;i.X3D(),this instanceof t.ChartEngine?("ap","pend",i.p06(15),delete this[i.A06("append",e)],i.e06(15),delete this[i.H06("prepend",e)]):(i.p06(15),delete t.ChartEngine.prototype[i.H06("append",e)],i.e06(15),delete t.ChartEngine.prototype[i.A06("prepend",e)])}},P=e=>{var t,i;t=e.CIQ,i=e.timezoneJS,t.ChartEngine.prototype.convertToDataZone=function(e){var i;return(e||0===e)&&this.dataZone&&(i=t.convertTimeZone(e,null,this.dataZone),e=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),e},t.ChartEngine.prototype.debug=function(){},t.ChartEngine.prototype.fps=function(e,i){var a,r,n;e=e||5,W.X3D(),a=(new Date).getTime(),r=0,n=this,W.e06(50),console.log(W.H06(e,"Running fps() for "," seconds")),function s(){var o,l,h=W;h.p06(1);var c=h.H06(15e3,14e3);if((o=((new Date).getTime()-a)/c)>e)return h.e06(28),l=h.A06(o,r),h.e06(15),console.log(h.H06("FPS=",l)),void(i&&i(l));h.X3D(),n.draw(),r++,t.ChartEngine.useAnimation?requestAnimationFrame(s):(h.e06(19),setTimeout(s,h.H06(524458560,"0")))}()},t.ChartEngine.htmlControls={mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span></div>',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div></div>'},t.ChartEngine.prototype.setChartType=function(e){var t,i;if(t=this.layout,i=this.chart,"ohlc"!=t.aggregationType&&(t.aggregationType="ohlc",i.canvas&&this.createDataSet()),t.chartType=e,this.setMainSeriesRenderer(),this.mainSeriesRenderer.isAggregation&&this.setAggregationType)return this.setAggregationType(e);i.defaultChartStyleConfig={type:e},this.displayInitialized&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.setChartScale=function(e){W.X3D(),e||(e="linear"),this.layout.chartScale=e,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.checkLogScale=function(){var e;if(!this.runPrepend("checkLogScale",arguments))return"log"===this.layout.chartScale&&(e=!1,this.chart.yAxis.lowValue<=0&&(this.setChartScale("linear"),this.dispatch("notification","logdeactivated"),e=!0),this.runAppend("checkLogScale",arguments),e)},t.ChartEngine.prototype.setAdjusted=function(e){this.layout.adj=e,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},t.ChartEngine.prototype.padOutPrice=function(e,t){var i,a,r,n,s=W;if("nu","m","ber",0!==e&&(!e||"number"!=typeof e))return"";if(t||0===t||(t=e),s.p06(15),a=0,(i=s.H06("",t)).indexOf(".")>-1){s.p06(131);var o=s.H06(18,47,3,5,15);a=i.substring(i.indexOf(".")).length-o}return a=t>=1e3?Math.max(a,0):t<2?Math.max(a,4):Math.max(a,2),r=this.internationalizer,s.V3D(),r?(a>=(n=r.priceFormatters.length)&&(s.p06(1),a=s.A06(n,1)),e=r.priceFormatters[a].format(e)):e=e.toFixed(a),e},t.ChartEngine.prototype.formatPrice=function(e,t){var i,a,r;return 0===e||e&&void 0!==e?(t||(t=this.currentPanel),t||(t=this.chart.panel),t?((i=t.decimalPlaces)||0===i||(i=t.chart.decimalPlaces),i||0===i?((a=this.internationalizer)?(i>=(r=a.priceFormatters.length)&&(W.p06(1),i=W.H06(r,1)),e=a.priceFormatters[i].format(e)):e=e.toFixed(i),e):e.toString()):e.toString()):""},t.ChartEngine.prototype.determineMinMax=function(e,i,a,r,n,s,o,l,h){var c,u,d,p,g,f,m,y,v,b,x;W.e06(8);var S=W.H06(16,17,0);c=Number.MAX_VALUE*S,u=Number.MAX_VALUE,d=!1,p=e.length,h||(h=[]),g=[],n&&(p=n);for(var C=0;C<=p+1;C++)if(i.length&&(f=C==p?this.getPreviousBar(this.chart,i[0],0):C==p+1?this.getNextBar(this.chart,i[0],p-1):e[C]),f){if(!r)if(f.transform)d=!0,f=f.transform;else if(d)continue;m=0;for(var D=0;D<i.length;D++)if(y=t.existsInObjectChain(f,i[D])){"number"==typeof(v=y.obj[y.member])&&(v=[v]);for(var A=0;A<v.length;A++)b=v[A],s&&b instanceof Array&&(b=b[0]),(b||0===b)&&(!0===a||a instanceof Array&&a.indexOf(i[D])>-1?((m+=b)>c&&(c=m),m<u&&(u=m)):(b>c&&(c=b),b<u&&(u=b),g.push({value:b,quote:f})))}(!0===a||a instanceof Array&&a.indexOf(i[D])>-1)&&g.push({value:m,quote:f})}return x=[u,c],h.forEach((function(e){x=e(g,o,l)||x})),x[1]==-1*Number.MAX_VALUE&&(x[1]=0),x[0]==Number.MAX_VALUE&&(x[0]=0),x},t.ChartEngine.prototype.initializeDisplay=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S=W;function C(i,a){var r,n,s,p,g,f,m,y,v;if(r=!1,(n=c.layout&&c.layout.studies&&c.layout.studies[i.name])&&(!a||a.name==n.panel)){for(var b in n.outputMap)o.push(b),n.study&&(n.study.renderer?o=o.concat(t.createObjectChainNames(b,u)):n.study.seriesFN||(o=o.concat(t.createObjectChainNames(b,d))));for(var x=0;x<=2;x++)o.push(n.name+"_hist"+(x||""));r=!0}if(a){for(var D in i.studies=[],i.renderers=[],r&&i.studies.push(i.name),w)if(g=(p=(s=w[D]).params).panel,(p.yAxis||!c.panels[g]||c.panels[g].yAxis)==i&&g==a.name){f=s.highLowBars?u:d,h=s.bounded;for(var A=0;A<s.seriesParams.length;A++)(m=s.seriesParams[A]).hidden||(y=void 0,m.subField?y=t.createObjectChainNames(m.symbol,[m.subField]).concat(m.symbol):m.symbol?y=t.createObjectChainNames(m.symbol,f).concat(m.symbol):m.field?y=m.field:i==e.panel.yAxis&&(y=f),y&&(o=o.concat(y)),s.useSum&&(l=l.concat(y)));i.renderers.push(D)}for(var k in S.X3D(),c.overlays)(v=c.overlays[k]).panel==a.name&&v.name!=i.name&&v.getYAxis(c)==i&&(i.studies.push(v.name),e.includeOverlaysInMinMax&&C({name:v.name}))}}if(i="initiali",i+="zeDis",i+="play",a="L",a+="o",a+="w",r="Ope",r+="n",n="C",n+="lose",s="initializeDisp",s+="la",s+="y",!this.runPrepend(s,arguments)){o=[],l=[],h=!1,c=this,u=[n,r,"High",a],d=[e.defaultPlotField||"Close"];var{mainSeriesRenderer:D}=this,{dataSegment:A,seriesRenderers:w}=e;if(g=null,f=Math.floor((e.width-this.micropixels)/this.layout.candleWidth),S.V3D(),e.scroll>e.maxTicks&&e.maxTicks>f+1){S.p06(60);var k=S.H06(1,15,0,15);g=A.length-k}for(var T in m=[],this.panels){m=(y=this.panels[T]).yaxisLHS.concat(y.yaxisRHS);for(var M=0;M<m.length;M++)v=m[M],o=[],l=[],b=e.transformFunc&&v==e.panel.yAxis,C(v,y),this.currentlyImporting||v.renderers.length||v.studies.length?(p=D&&D.determineMax?D.determineMax(A,o,l,!b,g,h,y,v):this.determineMinMax(A,o,l,!b,g,h,y,v),this.baselineHelper&&(p=this.setBaselineMinMax(p,v)),v.lowValue=p[0],S.p06(82),v.highValue=p[S.H06(1504850784,"1")],v==e.panel.yAxis&&(e.lowValue=v.lowValue,e.highValue=v.highValue)):this.deleteYAxisIfUnused(y,v)}if((x=e.state.aggregation)&&x.box){S.p06(1);var P=S.A06(4,2);e.lowValue-=x.box/P,S.e06(32);var _=S.H06(8,255,17,19,6);e.highValue+=x.box/_}this.runAppend(i,arguments)}},t.ChartEngine.prototype.setMarket=function(e,i){if(t.Market)for(var a in i||(i=this.chart),i.market=new t.Market(e),W.X3D(),this.layout.marketSessions)i.market.disableSession(a,this.layout.marketSessions[a])},t.ChartEngine.prototype.setMarketFactory=function(e){W.V3D(),this.marketFactory=e},t.ChartEngine.prototype.setResizeTimer=function(e){var i;this.resizeDetectMS=e,this.resizeHandle=t.resizeObserver(this.chart.container,(i=this,W.V3D(),function(){i.chart.canvas&&(W.V3D(),t.isAndroid||i.chart.canvas.height==Math.floor(i.devicePixelRatio*i.chart.container.clientHeight)&&i.chart.canvas.width==Math.floor(i.devicePixelRatio*i.chart.container.clientWidth)||i.resizeChart())}),this.resizeHandle,e)},t.ChartEngine.prototype.getRenderedItems=function(){var e,i,a,r,n,s,o,l;if("Cl","ose","Lo","w","Hig","h",e=this.chart,i=this.currentPanel){for(var h in a=["Open","High","Low","Close"],r=["Close"],n=[],this.overlays)this.overlays[h].panel===i.name&&(n=n.concat(Object.keys(this.overlays[h].outputMap)));for(var c in e.seriesRenderers)if((s=e.seriesRenderers[c]).params.panel==i.name)for(var u in s.seriesParams)o=s.seriesParams[u],l=s.highLowBars?a:r,o.subField?n=n.concat(t.createObjectChainNames(o.symbol,[o.subField])).concat(o.symbol):o.symbol?n=n.concat(t.createObjectChainNames(o.symbol,l)).concat(o.symbol):o.field?n.push(o.field):i==e.panel&&(n=n.concat(l));return n}},t.ChartEngine.prototype.setTransform=function(e,t,i){W.V3D(),e.transformFunc=t,e.untransformFunc=i},t.ChartEngine.prototype.unsetTransform=function(e){delete e.transformFunc,W.X3D(),delete e.untransformFunc;for(var t=0;e.dataSet&&t<e.dataSet.length;t++)e.dataSet[t].transform=null},t.ChartEngine.prototype.isEquationChart=function(e){return e&&"="==e[0]?!(!this.allowEquations||!t.fetchEquationChart)||(console.warn("Error, equation chart option requires equationsAdvanced.js"),!1):(W.X3D(),!1)},t.ChartEngine.prototype.correctIfOffEdge=function(e){var t,i,a,r,n,s,o,l,h,c,u=W;if(t="correct",t+="IfOffEdge",!this.runPrepend(t,arguments)){for(var d in this.charts){if(a=(i=this.charts[d]).dataSet,r=i.maxTicks,n=this.layout,s=this.minimumLeftBars,o=Math.min(s,r),i.allowScrollPast){if(u.e06(1),l=u.H06(r,o),o>a.length&&(l=r-a.length),i.scroll-l>=a.length){u.e06(1);var p=u.A06(18,17);i.scroll=a.length+l-p,u.p06(16),this.micropixels=u.A06(0,"0")}i.scroll<=o&&(i.scroll=o,this.micropixels=0)}else i.scroll<o&&(i.scroll=o),i.scroll>a.length&&(i.scroll=a.length);if(!1===i.allowScrollFuture){h=this.getLabelOffsetInPixels(i,n.chartType)+n.candleWidth*i.whiteSpaceFutureTicks,u.e06(132);var g=u.A06(9,4,9,3,14);c=r-Math.round(h/n.candleWidth)-g,(this.micropixels<0?i.scroll-1:i.scroll)<c&&(i.scroll=c,this.micropixels=0)}}this.runAppend("correctIfOffEdge",arguments)}},t.ChartEngine.prototype.getStartDateOffset=function(){W.V3D();for(var e=0;e<this.chart.dataSegment.length;e++)if(this.chart.dataSegment[e])return e;return 0},t.ChartEngine.prototype.setStartDate=function(e){W.X3D();for(var t=0;t<this.chart.dataSet.length;t++)if(this.chart.dataSet[t].DT.getTime()==e.getTime())return this.chart.scroll=this.chart.dataSet.length-t,void this.draw()},t.ChartEngine.prototype.clearPixelCache=function(){var e;for(var t in this.panels)(e=this.panels[t]).cacheHigh=null,e.cacheLow=null,W.p06(16),e.cacheLeft=W.A06(0,"1000000"),e.cacheRight=-1;this.chart.pixelCacheExpired=!0},t.ChartEngine.prototype.adjustBackingStore=function(e,i){var a,r,n,s,o=W;if(this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),a=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,o.X3D(),r=this.devicePixelRatio/a,!this.useBackingStore)return this.devicePixelRatio=this.adjustedDisplayPixelRatio=1,void(e.style.width=e.style.height="");(!t.isAndroid||t.is_chrome||t.isFF)&&(n=e.width,s=e.height,o.p06(37),e.width=o.H06(r,n),o.e06(37),e.height=o.A06(r,s),o.e06(15),e.style.width=o.A06(n,"px"),o.p06(15),e.style.height=o.H06(s,"px"),i.scale(r,r),this.adjustedDisplayPixelRatio=r,this.backing={ratio:r,width:e.width,height:e.height,styleWidth:n,styleHeight:s})},t.ChartEngine.prototype.reconstituteBackingStore=function(){var e,t;this.useBackingStore&&this.backing&&(e=[this.chart.canvas],this.useBackgroundCanvas&&e.push(this.chart.backgroundCanvas),t=this.backing,e.forEach((function(e){e.width!=t.width&&(e.width=t.width,e.height=t.height,e.context.scale(t.ratio,t.ratio))})),this.adjustedDisplayPixelRatio=t.ratio,this.draw())},t.ChartEngine.prototype.disableBackingStore=function(){var e,t;W.X3D(),this.useBackingStore&&this.backing&&(e=[this.chart.canvas],this.useBackgroundCanvas&&e.push(this.chart.backgroundCanvas),t=this.backing,e.forEach((function(e){e.width!=t.styleWidth&&(e.width=t.styleWidth,e.height=t.styleHeight,e.context.scale(1,1))})),this.adjustedDisplayPixelRatio=1,this.draw())},t.ChartEngine.prototype.getBackgroundCanvas=function(e){return e||(e=this.chart),W.V3D(),this.useBackgroundCanvas?e.backgroundCanvas:e.canvas},t.ChartEngine.prototype.resizeCanvas=function(){var e,t,i,a,r,n,s,o;for(var l in"u","nd","efi","ned",e=this.chart.canvas,t=this.chart.context,e&&t&&(this.floatCanvas.height=this.chart.tempCanvas.height=this.chart.backgroundCanvas.height=e.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=e.width=this.chart.container.clientWidth,this.adjustBackingStore(e,t),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context),this.adjustBackingStore(this.chart.backgroundCanvas,this.chart.backgroundCanvas.context)),i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0===this.width&&!this.container.dimensionlessCanvas&&this.container.closest("html")&&console.log("warning: zero width chart. Check CSS for chart container."),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(a=this.layout.candleWidth)&&(a=8),this.charts){r=this.charts[l],this.setCandleWidth(a,r),r.scroll<r.width/a&&(r.scroll=Math.floor(r.width/a),n=Math.round(this.preferences.whitespace/this.layout.candleWidth),r.scroll-=n),s=10;try{"10",":","00",W.e06(36);var h=W.H06(1,1,1,1);o=t.measureText("10:00").width*h}catch(e){o=100}for(;s>1&&!(this.chart.width/o>s);)s/=1.5;r.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/s),r.xAxis.autoComputedTickSizePixels<1&&(r.xAxis.autoComputedTickSizePixels=1)}},t.ChartEngine.prototype.setCandleWidth=function(e,t){t||(t=this.chart),e=this.constrainCandleWidth(e),this.layout.candleWidth=e,W.p06(133),W.X3D();var i=W.H06(4,1,4,8);t.maxTicks=Math.round(t.width/e)+i},t.ChartEngine.prototype.constrainCandleWidth=function(e){var t,i,a;return W.V3D(),t=this.minimumCandleWidth,i=this.maximumCandleWidth,a=this.animations.zoom,t&&e<t&&(e=t,a&&a.running&&a.stop()),i&&e>i&&(e=i,a&&a.running&&a.stop()),e},t.ChartEngine.prototype.resizeChart=function(e){var t;this.runPrepend("resizeChart",arguments)||(!1!==e&&(e=!0),e&&this.preAdjustScroll(),t=this.chart.canvasHeight,this.resizeCanvas(),e&&this.postAdjustScroll(),W.X3D(),(this.displayInitialized||0!==this.chart.canvasHeight&&0===t)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend("resizeChart",arguments))},t.ChartEngine.prototype.clear=function(){var e;for(var i in W.V3D(),this.displayInitialized=!1,this.layout.studies)e=this.layout.studies[i],t.getFn("Studies.removeStudy")(this,e);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},t.ChartEngine.prototype.fillScreen=function(){var e,t,i,a,r;e=this.chart,t=this.layout.candleWidth,i=e.width-this.preferences.whitespace,(a=e.dataSet.length)*t>=i?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||a--,W.p06(28),r=W.A06(a,i),this.setCandleWidth(r,e),this.home({maintainWhitespace:!0}))},t.ChartEngine.prototype.setMaxTicks=function(e,t){var i,a,r;t||(t={}),(e=Math.round(e))<2&&(e=2),i=t.padding?t.padding:0,r=((a=this.chart).width-i)/(e-1)||8,this.setCandleWidth(r,a),(t.padding||0===t.padding)&&(a.scroll=e)},t.ChartEngine.prototype.initializeChart=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P=W;function _(e,t){var i;e.context=e.getContext("2d"),e.context.lineWidth=1,(i=e.style).position="absolute",i.left="0px",t&&(i.display="none")}if(i="in",i+="itiali",i+="zeChar",i+="t",!this.runPrepend(i,arguments)){if((a=this.chart).symbolObject.symbol||(a.symbolObject.symbol=a.symbol),P.X3D(),this.locale&&this.setLocale(this.locale),!this.displayZone&&t.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,t.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.micropixels=0,e?a.container=e:e=a.container,e.stx=this,e.CIQRegistered||(e.CIQRegistered=!0,t.ChartEngine.registeredContainers.push(e)),this.registerHTMLElements&&this.registerHTMLElements(),r=a.canvas,n=a.backgroundCanvas,s=a.tempCanvas,o=this.floatCanvas,l=a.canvasShim,this.setCandleWidth(this.layout.candleWidth),!a.backgroundCanvas){h="can",h+="vas",c="d",c+="i",c+="v",n=a.backgroundCanvas=document.createElement("canvas"),e.appendChild(n),_(n),(l=a.canvasShim=document.createElement(c)).className="stx-canvas-shim",e.appendChild(l),r=a.canvas=document.createElement(h),e.appendChild(r),_(r),a.context=r.context,u=1658845793,d=-1959121591,p=2;for(var L=1;P.Q9z(L.toString(),L.toString().length,46266)!==u;L++)s=a.tempCanvas=document.createElement("canvas"),e.appendChild(s),_(s,!0),o=this.floatCanvas=document.createElement("canvas"),P.e06(1),p+=P.H06("2",0);P.v9z(p.toString(),p.toString().length,99972)!==d&&(g="ca",g+="n",g+="va",g+="s",s=a.tempCanvas=document.createElement(g),e.appendChild(s),_(s,!1),o=this.floatCanvas=document.createElement("canvas")),e.appendChild(o),_(o,!0)}for(var E in this.resizeCanvas(),t.isAndroid&&(f="touchs",f+="t",f+="art",m=function(e){e.preventDefault&&e.preventDefault()},s.addEventListener("touchstart",m,{passive:!1}),o.addEventListener(f,m,{passive:!1})),y=this.panels,a.panel.display=a.symbol,a.symbolDisplay&&(a.panel.display=a.symbolDisplay),this.adjustPanelPositions(),a.panel=y[a.name],y){v=y[E].yaxisLHS.concat(y[E].yaxisRHS);for(var F=0;F<v.length;F++)v[F].height=y[E].yAxis.height,this.calculateYAxisMargins(v[F])}var H;for(var O in this.initialWhitespace=this.preferences.whitespace,a.dataSet&&a.dataSet.length>0&&(a.scroll=Math.floor(a.width/this.layout.candleWidth),b=Math.round(this.preferences.whitespace/this.layout.candleWidth),a.scroll-=b),t.touchDevice&&(x=".ove",x+="r",x+="layEdit",S=e.querySelector(x),C=e.querySelector(".overlayTrashCan"),D=e.querySelector(".vectorTrashCan"),A=function(e,t,i){return function(a){P.X3D(),e.deleteHighlighted(t,i)}},S?(t.safeClickTouch(S,A(this,!0,!0)),C&&t.safeClickTouch(C,A(this,!1))):C&&t.safeClickTouch(C,A(this,!0)),D&&t.safeClickTouch(D,A(this,!0))),this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),this.handleMouseOut&&(e.onmouseout=(H=this,P.X3D(),function(e){P.X3D(),H.handleMouseOut(e)}),t.smartHover()),this.abortDrawings&&this.abortDrawings(),this.undoStamps=[],y)(w=y[O]).markerHolder&&(e.removeChild(w.markerHolder),w.markerHolder=null);for(var I in this.plugins)(k=this.plugins[I]).display&&k.initializeChart&&k.initializeChart(this);this.resizeListenerInitialized||(T=this,this.resizeListenerInitialized=!0,M=function(){return function(e){P.X3D(),T.resizeChart()}},this.addDomEventListener(window,"resize",M(),!0)),a.baseline.userLevel&&(a.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend("initializeChart",arguments)}},t.ChartEngine.prototype.destroy=function(){var e,i,a,r;this.setResizeTimer(0),this.detachQuoteFeed(),this.styles={};for(var n=0;n<this.eventListeners.length;n++)"functio","n",(e=this.eventListeners[n]).element.removeEventListener(e.event,e.function,e.options);this.touchAndMouseEventsRegistered=!1,this.eventListeners=[],W.X3D(),this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),(a=(i=t.ChartEngine.registeredContainers).indexOf(this.chart.container))>-1&&i.splice(a,1),this.slider&&(r=i.indexOf(this.slider.slider.chart.container))>-1&&i.splice(r,1)},t.ChartEngine.prototype.preAdjustScroll=function(e){e||(e=this.chart),this.previousAdjust={chart:e,scroll:e.scroll,maxTicks:e.maxTicks}},t.ChartEngine.prototype.postAdjustScroll=function(){var e;W.X3D(),this.previousAdjust&&((e=this.previousAdjust.chart).scroll=this.previousAdjust.scroll+(e.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},t.ChartEngine.prototype.translateIf=function(e){return this.translationCallback?this.translationCallback(e):e},t.ChartEngine.prototype.doCleanupDates=function(e,a){var r,n,s,o,l;if(e&&e.length)for(var h=0;h<e.length;h++)((n=(r=e[h]).DT)||r.Date)&&(r.DT&&"[object String]"==Object.prototype.toString.call(n)&&n.length<=10?(n=new Date(n)).setMinutes(n.getMinutes()+n.getTimezoneOffset()):(s=!0,r.DT||(n=t.strToDateTime(r.Date),r.Date.length<=10&&(s=!1)),"[object Date]"!=Object.prototype.toString.call(n)&&(n=new Date(n)),i.Date&&this.dataZone&&s&&(o=new i.Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),this.dataZone),l=1e3*n.getSeconds()+n.getMilliseconds(),n=new Date(o.getTime()+l)),t.ChartEngine.isDailyInterval(a)&&n.setHours(0,0,0,0)),r.DT||(r.Date=t.yyyymmddhhmmssmmm(n)),r.DT=n)},t.ChartEngine.prototype.doCleanupGaps=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v=W;if("t","i","c","k","ga","p",!e||!e.length)return e;function b(e,i){var r,n,o,c,u;for(v.X3D(),void 0===(n=(r=a.field)?h[r]:h)&&(n={}),o=s?null:n[g],c=s?null:n.Adj_Close;+e<+i;)u={DT:e},r||(l.push(u),t.extend(u,{Open:o,High:o,Low:o,Close:o,Volume:0,Adj_Close:c})),e=p.next()}if(r=this.layout.interval,a=a||{},i||(i=this.chart),!t.Market||!i.market)return e;function x(e,i){var r,n,o;(r=a.field)?void 0!==e[r]&&void 0===i[r]&&(i[r]=s?null:e[r]):(v.X3D(),s||(n=e[g],o=i[g],void 0!==n&&void 0===o&&t.ensureDefaults(i,{Close:n,Open:n,High:n,Low:n,Volume:0,Adj_Close:e.Adj_Close})))}if(a.noCleanupDates||this.doCleanupDates(e,r),!1===(n=a.cleanupGaps))return e;if(n&&!0!==n||(n=this.cleanupGaps||n),v.e06(111),s=v.A06("gap",n),!n)return e;if("tick"==r)return e;if("month"==r||"week"==r){if(this.dontRoll)return e;r="day"}o=function(e){return e.DT?"[object Date]"!=Object.prototype.toString.call(e.DT)?new Date(e.DT):new Date(+e.DT):t.strToDateTime(e.Date)},l=[],h=e[0],l.push(h),c=2;for(var S=1;1451312087!==v.v9z(S.toString(),S.toString().length,16116);S++)u={begin:o(h),interval:r,periodicity:5,timeUnit:this.layout.timeUnit},d=new t.Market(i.market.market_def),p=d.newIterator(u),(this.extendedHours||this.extendedHours.filter)&&p.market.enableAllAvailableSessions(),c+=2;412902971!==v.v9z(c.toString(),c.toString().length,27983)&&(u={begin:o(h),interval:r,periodicity:1,timeUnit:this.layout.timeUnit},d=new t.Market(i.market.market_def),p=d.newIterator(u),this.extendedHours&&this.extendedHours.filter&&p.market.enableAllAvailableSessions()),g=i.defaultPlotField;for(var C=0;C<e.length&&void 0===e[C][g];C++)if(void 0!==e[C].Value){g="Value";break}for(var D=1;D<e.length;D++){for(m=e[D],(f=p.next())<(y=o(m))&&(b(f,y),f=p.market._convertFromMarketTZ(p.begin,p.outZone));y<f;){if(++D==e.length)return l;x(h,m),l.push(m),h=m,y=o(m=e[D])}f<y?(D--,f=p.previous()):(x(h,m),l.push(m),h=m)}return l},t.ChartEngine.prototype.getCreatingLibrary=function(){return e}},_=e=>{var t;(t=e.CIQ).ChartEngine.Panel=function(e,i){this.yAxis=i||new t.ChartEngine.YAxis,this.name=e,W.V3D(),this.state={}},t.extend(t.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null,displayEdgeIfPadded:!0,noDrag:!1,exportable:!0},!0),t.ChartEngine.prototype.whichPanel=function(e){var t;for(var i in this.panels)if(!(t=this.panels[i]).hidden&&e>=t.top&&e<t.bottom)return t;return null},t.ChartEngine.prototype.panelExists=function(e){for(var t in this.panels)if(this.panels[t].name==e)return!0;return!1},t.ChartEngine.prototype.storePanels=function(){var e,t;for(var i in this.layout||(this.layout={}),(e=this.layout).panels={},this.panels)t=this.panels[i],e.panels[t.name]={percent:t.percent,display:t.display,yAxis:t.yAxis}},t.ChartEngine.prototype.savePanels=function(e){W.V3D(),this.storePanels(),!1!==e&&this.changeOccurred("layout")},t.ChartEngine.prototype.privateDeletePanel=function(e){var t,i;for(var a in this.layout.studies)(t=this.layout.studies[a]).panel==e.name&&this.cleanupRemovedStudy(t);for(var r in delete this.panels[e.name],this.overlays)this.overlays[r].panel==e.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[r]),delete this.overlays[r]);for(var n in this.chart.series)this.chart.series[n].parameters.panel==e.name&&this.removeSeries(this.chart.series[n],this.chart);if(e.holder&&(this.chart.container.removeChild(e.holder),this.getMarkerArray)){i=this.getMarkerArray("panelName",e.name);for(var s=0;s<i.length;s++)this.removeFromHolder(i[s])}e.handle&&e.handle.remove(),this.currentPanel=null},t.ChartEngine.prototype.plotsInPanel=function(e){var t,i,a,r;for(var n in t=[],i=e,"object"==typeof e&&(i=e.name),this.layout.studies)i===(a=this.layout.studies[n]).panel&&t.push(a);for(var s in this.chart.seriesRenderers)i===(r=this.chart.seriesRenderers[s]).params.panel&&t.push(r);return t},t.ChartEngine.prototype.checkForEmptyPanel=function(e,t,i){var a,r;if(!e)return!1;if(W.V3D(),a=e,"object"==typeof e&&(a=e.name),a===this.chart.name)return!1;i?i instanceof Array||(i=[i]):i=[],r=this.plotsInPanel(e);for(var n=0;n<r.length;n++)if(-1==i.indexOf(r[n]))return!1;return t||this.panelClose(this.panels[a]),!0},t.ChartEngine.prototype.panelClose=function(e){var i,a,r;if(i="p",i+="anelClose",a="pane",a+="l",a+="Clos",a+="e",e&&!this.runPrepend(a,arguments)){if(this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,e.soloing&&this.panelSolo(e),this.charts[e.name]){for(var n in this.panels)(r=this.panels[n]).chart.name==e.name&&this.privateDeletePanel(r);delete this.charts[e.name]}else this.privateDeletePanel(e);this.currentlyImporting||(this.showCrosshairs(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=""),this.runAppend(i,arguments)}},t.ChartEngine.prototype.deleteAllPanels=function(){var e;for(var t in W.X3D(),this.panels)e=this.panels[t],this.privateDeletePanel(e);this.layout.panels={},this.panels={}},t.ChartEngine.prototype.panelUp=function(e){var i,a,r,n;for(r in this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(r==e.name)break;a++}if(a){for(r in W.e06(19),n=W.H06(338522080,"0"),this.panels)n==a-1&&(i[e.name]=e),r!=e.name&&(i[r]=this.panels[r],n++);this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelDown=function(e){var i,a,r,n,s,o=W;for(r in this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(r==e.name)break;a++}for(r in o.p06(19),n=o.H06(619945856,"0"),this.panels)n++;if(a!=n-1){for(r in o.e06(1),s=o.A06("0",0),this.panels)r!=e.name?(i[r]=this.panels[r],s==a+1&&(i[e.name]=e),s++):s++;this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelSolo=function(e){var i,a,r;if(this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i=!0,e.soloing){if(i=!1,e.soloing=!1,e.solo.classList.remove("stx_solo_lit"),e.percent=e.oldPercent,"chart"!=e.name)if(this.soloPanelToFullScreen){if(1==e.percent)for(a in this.panels)(r=this.panels[a])!=e&&(e.percent-=r.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else if("cha","r","t",e.soloing=!0,e.solo.classList.add("stx_solo_lit"),e.oldPercent=e.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,"chart"!=e.name)if(this.soloPanelToFullScreen)this.xAxisAsFooter=!0;else{this.chart.panel.oldPercent=this.chart.panel.percent,W.p06(1);var n=W.H06(13,12);e.percent=n-this.chart.panel.percent}for(a in this.panels)this.panels[a].hidden=i;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),W.X3D(),e.hidden=!1,this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},W.V3D(),t.ChartEngine.prototype.calculatePanelPercent=function(e){var t;W.V3D(),t=e.bottom-e.top,e.percent=t/this.chart.canvasHeight},t.ChartEngine.prototype.resizePanels=function(){var e,i,a,r,n,s,o=W;if(t.ChartEngine.resizingPanel){for(var l in n=t.ChartEngine.crosshairY>this.resolveY(t.ChartEngine.resizingPanel.top),this.panels){if(this.panels[l]==t.ChartEngine.resizingPanel)break;this.panels[l].hidden||(e=this.panels[l])}if(s=this.backOutY(t.ChartEngine.crosshairY),n)for(a=t.ChartEngine.resizingPanel.yaxisLHS.concat(t.ChartEngine.resizingPanel.yaxisRHS),r=0;r<a.length;r++){o.p06(134);var h=o.A06(34,9,10,9,15);i=a[r].initialMarginTop+a[r].initialMarginBottom+h,s>a[r].bottom-i&&(s=a[r].bottom-i)}else for(a=e.yaxisLHS.concat(e.yaxisRHS),r=0;r<a.length;r++){o.p06(15);var c=o.H06(6,4);i=a[r].initialMarginTop+a[r].initialMarginBottom+c,s<a[r].top+i&&(s=a[r].top+i)}t.ChartEngine.crosshairY=this.resolveY(s),e.bottom=s,t.ChartEngine.resizingPanel.top=s,this.calculatePanelPercent(e),o.X3D(),this.calculatePanelPercent(t.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.isPanelAboveChart=function(e){for(var t in this.panels){if("chart"==t)return!1;if(t==e.name)return!0}return W.V3D(),!1},t.ChartEngine.prototype.adjustPanelPositions=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T=W,{chart:M,panels:P}=this;if(M.tempCanvas&&t.clearCanvas(M.tempCanvas,this),!this.runPrepend("adjustPanelPositions",arguments)){for(o in e=0,i=M.canvasHeight,a=!1,r=0,n=0,s=!1,P)l=P[o],(isNaN(l.percent)||l.percent<=0)&&(l.percent=.05),l.hidden||(r+=l.percent,n++,l.soloing&&(s=!0));for(o in P)if(h=0,(l=P[o]).hidden)l.markerHolder&&(l.markerHolder.style.display="none");else{if(this.manageTouchAndMouse&&(l.up&&(a?(c="st",c+="x",c+="-sh",c+="ow",this.displayIconsUpDown&&l.up.classList.add(c)):(a=!0,l.up.classList.remove("stx-show"))),l.solo&&(s?(u="st",u+="x-show",l.soloing&&this.displayIconsSolo?l.solo.classList.add("stx-show"):l.solo.classList.remove(u)):1==n?l.solo.classList.remove("stx-show"):2!=n||this.soloPanelToFullScreen?this.displayIconsSolo&&l.solo.classList.add("stx-show"):l.solo.classList.remove("stx-show")),l.down&&(1==n?l.down.classList.remove("stx-show"):(d="st",d+="x-sh",d+="o",d+="w",this.displayIconsUpDown&&l.down.classList.add(d))),l.edit&&(l.editFunction?l.edit.classList.add("stx-show"):l.edit.classList.remove("stx-show")),l.close&&(p="stx-s",p+="how",this.displayIconsClose?l.close.classList.add("stx-show"):l.close.classList.remove(p))),l.percent=l.percent/r,l.top=e,l.bottom=l.top+i*l.percent,l.height=l.bottom-l.top,l.chart.name==l.name&&(l.chart.top=l.top,l.chart.bottom=l.bottom,l.chart.height=l.height),e=l.bottom,l.yaxisLHS){g=l.yaxisLHS.concat(l.yaxisRHS);for(var _=0;_<g.length;_++)(f=g[_]).zoom&&f.height>0&&(h=f.zoom/f.height),this.adjustYAxisHeightOffset(l,f),f.height=f.bottom-f.top,h&&(f.scroll*=h*f.height/f.zoom,f.zoom=h*f.height,f.zoom>f.height&&(f.zoom=0,f.scroll=0)),f.high||0===f.high||(f.high=100,f.low=0,f.shadow=100),f.multiplier=f.height/f.shadow,"none"===f.position&&this.calculateYAxisMargins(f)}l.holder&&(m="p",m+="x",y="0",y+="p",y+="x",v="p",v+="x",l.holder.style.right="0px",l.holder.style.top=l.top+v,l.holder.style.left=y,l.holder.style.height=l.height+"px",l.subholder.style.left=l.left+"px",l.subholder.style.width=l.width+m,l.subholder.style.top="0px",l.yAxis.height>=0&&(l.subholder.style.height=l.yAxis.height+"px"))}if(T.V3D(),o&&P[o].down&&P[o].down.classList.remove("stx-show"),this.manageTouchAndMouse&&2==n&&!s&&M.panel.solo&&(b="s",b+="tx-",b+="show",M.panel.solo.classList.add(b)),M.panel){if(s&&this.soloPanelToFullScreen){T.p06(7);var L=T.H06(11,1,1);x=M.canvasHeight-l.yAxis.bottom+L}else{T.p06(15);var E=T.H06(2,10);x=M.canvasHeight-M.panel.yAxis.bottom+E}S=this.controls;var{chartControls:F,home:H,notificationTray:O}=S;C=this.width-M.panel.right,F&&(T.e06(15),F.style.bottom=T.A06(x,"px")),H&&(D="p",D+="x",A="p",A+="x",T.e06(15),H.style.bottom=T.H06(x,A),T.p06(15),H.style.marginRight=T.H06(C,D)),O&&(w="p",w+="x",k="p",k+="x",T.e06(15),O.style.bottom=T.A06(x,k),T.p06(15),O.style.marginRight=T.A06(C,w))}this.clearPixelCache(),this.drawingObjects.length&&this.adjustDrawings(),this.runAppend("adjustPanelPositions",arguments)}},t.ChartEngine.prototype.createPanel=function(e,t,i,a,r,n){var s,o,l,h,c,u,d,p=W;if(s="c",s+="h",s+="ar",s+="t",o="cre",o+="ate",o+="Pa",o+="nel",!this.runPrepend(o,arguments)){for(var g in a||(a=s),l=this.chart.canvasHeight,i||(p.p06(135),i=p.H06("0.2",l,0)),i>l&&(p.p06(49),i=p.H06(l,"0.5")),p.X3D(),p.p06(28),h=p.A06(l,i),p.p06(1),c=p.A06(1,h),u=!1,this.panels)(d=this.panels[g]).percent*=c,d.soloing&&(u=!0);return this.stackPanel(e,t,h,a,r),this.panels[t].hidden=u,this.panels[t].exportable=!n,this.calculateYAxisMargins(this.panels[t].yAxis),this.adjustPanelPositions(),this.savePanels(!1),this.runAppend("createPanel",arguments),this.panels[t]}},t.ChartEngine.prototype.modifyPanel=function(e,i){var a,r,n,s,o,l,h,c;a=e.name;var{studies:u}=this.layout,{series:d}=this.chart,{name:p,display:g,yAxis:f}=i||{};for(var m in p||(p=t.uniqueID()),g||(g=p),f||((f=e.yAxis).name=p),r={},this.panels)m===e.name?((n=this.panels[m]).name=p,n.display=g,n.yAxis=f,e=r[p]=n,this.moveMarkers&&a!==p&&this.moveMarkers(a,p)):r[m]=this.panels[m];for(var y in this.panels=r,s=!1,u)(o=u[y]).panel===a&&(o.panel=p,o.parameters&&o.parameters.panelName&&(s=!0,o.parameters.panelName=p));for(var v in d)d[v].parameters.panel===a&&(s=!0,l={panel:p},d[v].parameters.yAxis&&d[v].parameters.yAxis.name===a&&(l.yAxis=f),this.modifySeries(v,l,!0));s&&this.changeOccurred("layout"),h=!1;for(var b=0;b<this.drawingObjects.length;b++)a===(c=this.drawingObjects[b]).panelName&&(c.panelName=p,h=!0);h&&this.changeOccurred("vector"),this.calculateYAxisPositions()},t.ChartEngine.prototype.setPanelHeight=function(e,t){var i,a,r,n,s=W;if(t){Object.values(this.panels).slice(-1)[0]===e&&(t+=this.xaxisHeight);var{canvasHeight:o}=this.chart,{percent:l}=e;s.p06(28),i=s.H06(o,t),s.e06(1),a=s.A06(1,l),s.p06(1),r=s.H06(1,i),s.p06(28),n=s.H06(r,a),Object.values(this.panels).forEach((e=>{s.X3D(),e.percent/=n})),e.percent=i,this.adjustPanelPositions(),this.savePanels()}},t.ChartEngine.prototype.electNewPanelOwner=function(e,i){var a,r,n,s,o,l,h,c,u,d,p=W;p.X3D(),r=2;for(var g=1;1728072563!==p.Q9z(g.toString(),g.toString().length,65650);g++)""!==+e&&(e=this.panels[e]),n=e.yAxis,r+=2;if(874673819!==p.Q9z(r.toString(),r.toString().length,36105)&&("st","r","in","g","string"==typeof e&&(e=this.panels[e]),n=e.yAxis),e&&e!=this.chart.panel){if(s=e.yAxis,p.p06(16),(o=s.studies[p.H06(0,"0")])&&o!=n.name||(p.e06(82),o=s.renderers[p.A06(165207040,"0")]),o&&o!=n.name||(o=s.studies[1]),o||(o=s.renderers[1]),i)s=e.yAxis=i,a=i.name;else if(o)(s=this.addYAxis(e,new t.ChartEngine.YAxis({name:o,position:s.position}))).renderers=e.yAxis.renderers,s.studies=e.yAxis.studies,a=o;else if(e.yaxisLHS){h=(l=e.yaxisRHS.concat(e.yaxisLHS).filter((function(e){return p.X3D(),e.name!=n.name})))[0];for(var f=0;f<l.length;f++)if(!l[f].position){h=l[f];break}h&&(s=e.yAxis=h,a=h.studies[0]||h.renderers[0])}if(a){o=a,n.name!=e.name&&(o=e.name),1967102198,1398617487,c=2;for(var m=1;1967102198!==p.v9z(m.toString(),m.toString().length,42550);m++)(d=this.layout.studies)&&d[a]&&(u=d[a].inputs.display),this.modifyPanel(e,{name:o,display:u||a,yAxis:s}),this.deleteYAxisIfUnused(e,n),p.e06(19),c+=p.A06(1095701280,"2");1398617487!==p.v9z(c.toString(),c.toString().length,23461)&&(((d=this.layout.studies)||d[a])&&(u=d[a].inputs.display),this.modifyPanel(e,{name:o,display:u&&a,yAxis:s}),this.deleteYAxisIfUnused(e,n)),this.panels[o].yAxis.lockScale||this.calculateYAxisMargins(this.panels[o].yAxis)}else this.checkForEmptyPanel(e)}return a},t.ChartEngine.prototype.configurePanelControls=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g;(".stx","-","ico-u","p",i=e.icons)&&(a=e.name==e.chart.name,i.classList.add("stx-show"),i.classList.remove("iconsTemplate"),e.title=i.querySelector(".stx-panel-title"),e.up=i.querySelector(".stx-ico-up"),e.up&&(e.up=e.up.parentNode),e.solo=i.querySelector(".stx-ico-focus"),e.solo&&(e.solo=e.solo.parentNode),e.down=i.querySelector(".stx-ico-down"),e.down&&(e.down=e.down.parentNode),e.edit=i.querySelector(".stx-ico-edit"),e.edit&&(e.edit=e.edit.parentNode),e.close=i.querySelector(".stx-ico-close"),e.close&&(e.close=e.close.parentNode),e.title&&(e.title.innerHTML="",e.display&&e.title.appendChild(document.createTextNode(e.display)),a&&("c","hart-ti","tl","e",e.title.classList.add("chart-title"),i.classList.add("stx-chart-panel"))),t.touchDevice&&!t.isSurface||this.makeModal(i),e.handle&&(t.touchDevice&&!t.isSurface||(e.handle.onmouseover=(s=this,function(){s.hideCrosshairs()})),t.touchDevice&&!t.isSurface||(e.handle.onmouseout=(n=this,function(){W.V3D(),n.showCrosshairs()})),r=function(e,i){return function(a){W.V3D(),t.ChartEngine.resizingPanel||""!==e.openDialog||e.grabHandle(i)}},t.isSurface?e.handle.onpointerdown=r(this,e):e.handle.onmousedown=r(this,e),t.touchDevice&&e.handle.addEventListener("touchstart",r(this,e),{passive:!1})),e.up&&t.safeClickTouch(e.up,(o=this,l=e,function(){o.panelUp(l)})),e.down&&t.safeClickTouch(e.down,(h=this,c=e,function(){h.panelDown(c)})),e.solo&&t.safeClickTouch(e.solo,(u=this,d=e,function(){W.X3D(),u.panelSolo(d)})),e.close&&("c","har","t","chart"==e.name?("non","e",e.close.style.display="none"):t.safeClickTouch(e.close,(p=this,g=e,function(){W.X3D(),p.panelClose(g)}))))},t.ChartEngine.prototype.stackPanel=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,g,f,m=W;if(s="stackP",s+="a",s+="nel",o="st",o+="x-pane",o+="l-",o+="study",l="stackP",l+="anel",!this.runPrepend(l,arguments)){if(r||(r="chart"),h=this.charts[r],m.e06(111),(c=m.H06(r,i))&&(e=h.symbol,h.symbolDisplay&&(e=h.symbolDisplay),n||(n=h.yAxis)),u=this.panels[i]=new t.ChartEngine.Panel(i,n),!c&&h.yAxis&&u.yAxis.position==h.yAxis.position&&(u.yAxis.width=h.yAxis.width),c&&!h.panel&&(h.panel=u),u.percent=a,u.chart=h,u.display=e,u.holder=t.newChild(this.container,"div","stx-holder"),u.subholder=t.newChild(u.holder,"div","stx-subholder"),u.subholder.style.zIndex=1,u.holder.panel=u,d=c?"stx-panel-chart":o,u.holder.classList.add(d),this.controls.handleTemplate&&this.manageTouchAndMouse){u.handle=this.controls.handleTemplate.cloneNode(!0),p=-1189849147,g=-1033713514,f=2;for(var y=1;m.v9z(y.toString(),y.toString().length,63246)!==p;y++)u.handle.classList.remove(""),f+=2;m.Q9z(f.toString(),f.toString().length,15229)!==g&&u.handle.classList.remove("handleTemplate"),this.container.appendChild(u.handle),u.handle.panel=u}this.controls.iconsTemplate&&(u.icons=this.controls.iconsTemplate.cloneNode(!0),u.subholder.appendChild(u.icons),this.configurePanelControls(u)),this.currentlyImporting||this.resizeCanvas(),this.runAppend(s,arguments)}},t.ChartEngine.prototype.setPanelEdit=function(e,i){e.editFunction=i,e.edit&&t.safeClickTouch(e.edit,i),this.adjustPanelPositions()},t.ChartEngine.prototype.drawPanels=function(){var e,t,i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y;if(e="d",e+="ra",e+="wPa",e+="nels",t="draw",t+="P",t+="anels",!this.runPrepend(t,arguments)){for(var v in i=!1,this.panels)if(a="stx_panel",a+="_border",(r=this.panels[v]).state={},n=this.translateIf(r.display),r.title&&r.title.textContent!=n&&(r.title.innerHTML="",r.title.appendChild(document.createTextNode(n))),r.icons&&r.icons.classList.add("stx-show"),r.hidden)s="n",s+="one",o="stx-",o+="show",r.icons&&r.icons.classList.remove(o),r.handle&&(r.handle.style.display=s),r.holder.style.display="none";else if("chart"!=r.name&&(l="n",l+="o",l+="n",l+="e",h="n",h+="on",h+="e",c=this.manageTouchAndMouse,r.up&&(r.up.style.display=this.displayIconsUpDown&&c?"":"none"),r.down&&(r.down.style.display=this.displayIconsUpDown&&c?"":h),r.solo&&(r.solo.style.display=this.displayIconsSolo&&c?"":"none"),r.close&&(r.close.style.display=this.displayIconsClose&&c?"":"none"),r.edit&&(r.edit.style.display=r.editFunction&&c?"":l)),r.holder.style.display="block",r.displayEdgeIfPadded&&(u="s",u+="egme",u+="n",u+="t",d="s",d+="egmen",d+="t",p=Math.round(r.left)+.5,g=r.yAxis.top-.5,f=r.yAxis.bottom+.5,r.yaxisCalculatedPaddingLeft&&!r.yaxisTotalWidthLeft&&this.plotLine(p,p,g,f,this.canvasStyle("stx_grid_border"),d,this.chart.context,!1,{lineWidth:1}),p=Math.round(r.right)+.5,r.yaxisCalculatedPaddingRight&&!r.yaxisTotalWidthRight&&this.plotLine(p,p,g,f,this.canvasStyle("stx_grid_border"),u,this.chart.context,!1,{lineWidth:1})),i){if(y=r.top,y=Math.round(y)+.5,this.plotLine(r.left-.5,r.right+.5,y,y,this.canvasStyle(a),"segment",this.chart.context,!1,{}),r.handle){this.displayPanelResize?r.handle.style.display="":r.handle.style.display="none",W.e06(136);var b=W.H06(0,0,2,1);r.handle.style.top=y-r.handle.offsetHeight/b+"px"}}else m="n",m+="o",m+="n",m+="e",r.handle&&(r.handle.style.display=m),i=!0;this.runAppend(e,arguments)}}},L=e=>{var t;(t=e.CIQ).ChartEngine.isDailyInterval=function(e){return"m","on","t","h",W.V3D(),"day"==e||("week"==e||"month"==e)},t.ChartEngine.prototype.setPeriodicity=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v=W;if(a="obje",a+="c",a+="t",!this.runPrepend("setPeriodicity",arguments)){if(typeof arguments[0]!==a){e={period:arguments[0],interval:arguments[1],timeUnit:arguments[2]},v.e06(137);var b=v.A06(12,6,9,6,3);i=arguments[arguments.length-b],3===arguments.length&&(e.timeUnit=void 0)}var{period:x,interval:S,timeUnit:C}=e;"function"!=typeof i&&(i=null),({period:x,interval:S,timeUnit:C}=t.cleanPeriodicity(x,S,C));var{layout:D}=this;D.setSpan={},D.range={},this.chart.inflectionPoint=null,r=!1,this.chart.symbol&&(r=this.needDifferentData({period:x,interval:S,timeUnit:C}));var{candleWidth:A,periodicity:w,interval:k,timeUnit:T}=D;if(n={prvPeriodicity:w,prvInterval:k,prvTimeUnit:T},D.periodicity=x,D.interval=S,D.timeUnit=C,v.X3D(),o={stx:s=this,differentData:r,prevPeriodicity:n},r){if(this.changeOccurred("layout"),this.clearCurrentMarketData(),this.quoteDriver)for(var M in this.charts)(l=this.charts[M]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:l.symbol,symbolObject:l.symbolObject,chart:l},I):this.loadChart(l.symbol,{chart:l},I));else this.dataCallback?(this.dataCallback(),I()):console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");this.home()}else{for(var P in this.charts){h=this.charts[P];var{dataSegment:_,dataSet:L,maxTicks:E,scroll:F}=h;if(c=_?_.length:0,u=L?L.length:0,d=void 0,p=Math.round(h.maxTicks/2),this.setCandleWidth(A,h),g=!0,f=!1,F<=E?g=!1:_&&!_[p]&&(g=!1,v.p06(1),f=v.H06(F,u)),g&&c>0&&(E<(Math.round(this.chart.width/A-.499)-1)/2&&(v.p06(1),p=v.H06(c,1)),p>=c?(d=_[c-1].DT,v.e06(1),p=v.A06(c,1)):d=_[p].DT),this.createDataSet(),g){if(c>0)for(var H=u-1;H>=0;H--)if(L[H].DT.getTime()<d.getTime()){v.p06(85),h.scroll=v.H06(u,1,H,p);break}}else f?h.scroll=L.length+f:(m=Math.round(this.preferences.whitespace/A),v.p06(13),h.scroll=v.A06(1,m,E))}if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(var O in this.charts)!(y=this.charts[O]).symbol||!y.moreAvailable&&y.upToDate||this.quoteDriver.checkLoadMore(y);I(),this.runAppend("setPeriodicity",arguments)}}function I(){s.dispatch("periodicity",o),i&&i(null)}},t.ChartEngine.prototype.needDifferentData=function(e){var i,a,r,n,s,o=W;if(o.V3D(),i=this.layout,a=t.ChartEngine.isDailyInterval(e.interval),r=t.ChartEngine.isDailyInterval(i.interval),n=!1,this.dontRoll||!r)i.interval!=e.interval&&(n=!0);else{-2089054813,589372274,s=2;for(var l=1;-2089054813!==o.Q9z(l.toString(),l.toString().length,58071);l++)a!=r&&(n=!0),o.p06(82),s+=o.A06(443499200,"2");589372274!==o.Q9z(s.toString(),s.toString().length,94361)&&a===r&&(n=!1)}return a||e.timeUnit||(e.timeUnit="minute"),r||i.timeUnit||(i.timeUnit="minute"),e.timeUnit!=i.timeUnit&&(n=!0),this.masterData&&this.masterData.length||(n=!0),n},t.ChartEngine.prototype.getPeriodicity=function(){var e,t,i;return t=(e=this.layout).interval,W.X3D(),(i=e.timeUnit)||(i=t,t=1),{period:e.periodicity,interval:t,timeUnit:i}}},E=e=>{var t;(t=e.CIQ).ChartEngine.prototype.isHistoricalMode=function(){var e,i,a,r,n,s;return e=new Date,i=!0,a=this.masterData,!!this.isHistoricalModeSet&&(a.length&&("D","T",r=this.getFirstLastDataRecord(a,"DT",!0),(i=((n=this.standardMarketIterator(r.DT))?n.next():r.DT)<=e)&&t.ChartEngine.isDailyInterval(n.interval)&&(s=this.chart.market.getOpen())&&e<s&&(e.setHours(0,0,0,0),+e==+n.begin&&(i=!1))),i)},t.ChartEngine.prototype.isHome=function(){var e,t,i,a=W;t=(e=this.chart).dataSet,i=e.animatingHorizontalScroll,a.e06(2);var r=a.A06(6,13,24,3);a.e06(5);var n=a.H06(25964290100,27695242752,20);return this.pixelFromTick(t.length-(i?r:"1">>n),e)<e.width+e.panel.left},t.ChartEngine.prototype.getPreviousBar=function(e,t,i){var a,r=W;r.e06(19),a=r.H06(1884438528,"1584089819");for(var n=1;-1300155508!==r.v9z(n.toString(),n.toString().length,11766);n++)return this.getNextBarInternal(e,t,i,-1);if(r.Q9z(2..toString(),2..toString().length,40011)!==a)return this.getNextBarInternal(e,t,i,-7)},t.ChartEngine.prototype.getNextBar=function(e,t,i){return W.V3D(),this.getNextBarInternal(e,t,i,1)},t.ChartEngine.prototype.getNextBarInternal=function(e,i,a,r){var n,s,o,l;if(W.V3D(),n=e.dataSegment&&e.dataSegment[a])for(s=n.tick;s>0&&s<e.dataSet.length;)if(W.e06(15),s=W.A06(s,r),(o=e.dataSet[s])&&(l=t.existsInObjectChain(o,i))&&l.obj[l.member])return o;return null},t.ChartEngine.prototype.getFirstLastDataRecord=function(e,t,i){var a;if(e&&e.length)for(a=i?e.length-1:0;a>=0&&a<e.length;){if(e[a]&&void 0!==e[a][t])return e[a];i?a--:a++}return null},W.V3D(),t.ChartEngine.prototype.leftTick=function(){return this.chart.dataSet.length-this.chart.scroll},t.ChartEngine.prototype.getNextInterval=function(e,t,i){var a;return t||(t=1),!1!==i&&(i=!0),(a=this.standardMarketIterator(e,i?this.dataZone:this.displayZone))?t<1?(W.e06(17),a.previous(W.H06(t,1))):a.next(t):e},t.ChartEngine.prototype.standardMarketIterator=function(e,t,i){var a,r;return a=i||this.chart,W.X3D(),a.market?(r={begin:e,interval:this.layout.interval,periodicity:"tick"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:t},a.market.newIterator(r)):null}},F=e=>{var t,i;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,t.ChartEngine.prototype.draw=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m;if(i="d",i+="r",i+="a",i+="w",a="Studies.dis",a+="playStudies",r="un",r+="d",r+="e",r+="rlay",n="d",n+="r",n+="a",n+="w",this.debug(),s=this.chart,o=this.layout,s.canvas&&s.dataSet&&s.canvasHeight){W.e06(53);var y=W.H06(40,9,3,17,19);if(this.offset=o.candleWidth*this.candleWidthPercent/y,t.clearCanvas(s.canvas,this),this.masterData&&!this.runPrepend(n,arguments)){this.defaultColor||this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.correctIfOffEdge(),this.createDataSegment(),this.setBaselines(s),c=this.createXAxis(s),this.initializeDisplay(s),this.drawXAxis(s,c);try{this.renderYAxis(s)}catch(e){if(e&&"reboot draw"===e.message)return this.draw();throw e}for(l in s.tmpWidth=Math.floor(o.candleWidth*this.candleWidthPercent),s.tmpWidth%2==0&&(s.tmpWidth+=1,s.tmpWidth>o.candleWidth&&(s.tmpWidth-=2)),s.tmpWidth<.5&&(s.tmpWidth=.5),this.plugins)(h=this.plugins[l]).display&&h.drawUnder&&h.drawUnder(this,s);for(l in s.legend&&(s.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(s,r),t.getFn(a)(this,s,!0),this.displayChart(s),t.getFn("Studies.displayStudies")(this,s,!1),this.rendererAction(s,"overlay"),s.legend&&s.legend.colorMap&&s.legendRenderer&&s.legendRenderer(this,{chart:s,legendColorMap:s.legend.colorMap,coordinates:{x:s.legend.x,y:s.legend.y+s.panel.yAxis.top}}),this.plugins)(h=this.plugins[l]).display&&h.drawOver&&h.drawOver(this,s);for(var v in this.panels)this.panels[v].hidden||this.plotYAxisText(this.panels[v]);for(var b=0;b<this.yAxisLabels.length;b++)u="s",u+="eri",u+="es",(d=this.yAxisLabels[b]).src==u&&d.args[6]&&!1===d.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,d.args);this.createCrosshairs&&this.createCrosshairs(),this.drawVectors&&this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,(p=this.controls)&&(g=this.manageTouchAndMouse&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.nonInteractive),p.home&&(p.home.style.display=g&&!this.isHome()?"block":"none"),p.chartControls&&(f="non",f+="e",m="blo",m+="c",m+="k",p.chartControls.style.display=this.manageTouchAndMouse&&"hidden"!==p.chartControls.style.visibility?m:f,"block"===p.chartControls.style.display&&t.efficientDOMUpdate(p.chartControls.style,"left",s.left+s.width/2+"px"))),t.Marker&&this.positionMarkers(),this.quoteDriver&&this.animations.zoom.hasCompleted&&this.quoteDriver.checkLoadMore(s),this.runAppend(i,arguments),this.makeAsyncCallbacks()}}},t.ChartEngine.prototype.setSeriesRenderer=function(e){var t;W.X3D();var{baseline:i,name:a,panel:r,yAxis:n}=e.params;if(this.chart.seriesRenderers[a])return this.chart.seriesRenderers[a];n&&(e.params.yAxis=this.addYAxis(this.panels[r],n),this.resizeChart()),t=2;for(var s=1;713595809!==W.v9z(s.toString(),s.toString().length,91740);s++)e.stx=this,this.chart.seriesRenderers[a]=e,t+=2;return-729303571!==W.v9z(t.toString(),t.toString().length,99002)&&(e.stx=this,this.chart.seriesRenderers[a]=e),i&&this.registerBaselineToHelper(e),e},t.ChartEngine.prototype.setMainSeriesRenderer=function(e){var i,a,r,n;i="bars",i+="HaveWidth";var{chartType:s,aggregationType:o}=this.layout,{chart:l}=this,{custom:h}=l;a=this.mainSeriesRenderer,r=this.displayInitialized,a&&(e&&this.setMasterData(),this.displayInitialized=!1,a.removeAllSeries(),this.removeSeriesRenderer(a),a=this.mainSeriesRenderer=null),h&&h.chartType&&(s=h.chartType),"none"!=s&&(o&&"ohlc"!=o&&(s=o),(n=t.Renderer.produce(s,{panel:l.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0}))&&(this.setSeriesRenderer(n).attachSeries(null,{display:l.symbol}),a=this.mainSeriesRenderer=n),this.displayInitialized=r,["highLowBars","standaloneBars",i].forEach(function(e){l[e]=this.mainSeriesRenderer&&this.mainSeriesRenderer[e]}.bind(this)))},t.ChartEngine.prototype.removeSeriesRenderer=function(e){var t,{baseline:i,name:a}=e.params;t=this.controls[`${a} baseline-handle`],W.X3D(),i&&(this.removeBaselineFromHelper(e),t&&(this.container.removeChild(t),delete this.controls[t])),delete this.chart.seriesRenderers[a]},t.ChartEngine.prototype.getSeriesRenderer=function(e){return W.V3D(),this.chart.seriesRenderers[e]},t.ChartEngine.prototype.getRendererFromSeries=function(e){var t;for(var i in t=this.chart.seriesRenderers)for(var a in t[i].seriesParams)if(t[i].seriesParams[a].id==e)return t[i];return null},t.ChartEngine.prototype.startClip=function(e,t){var i,a,r,n,s;e||(e=this.chart.panel.name),a=(i=this.panels[e]).yAxis,(r=this.chart).context.save(),r.context.beginPath(),n=i.left,s=i.width,t?(n=0,s=this.width):i.yaxisLHS&&i.yaxisLHS.length&&(n++,s--),r.context.rect(n,a.top,s,a.height),r.context.clip()},t.ChartEngine.prototype.endClip=function(){this.chart.context.restore()},t.ChartEngine.prototype.setLineStyle=function(e,i){var a,r;a={},e&&"object"==typeof e?a=e:a.color=e,a.color||a.pattern||a.width||a.baseColor||(a=null),W.X3D(),i||(i=this.chart),r=1,a&&a.width&&(r=a.width),a&&a.pattern&&(a.pattern=t.borderPatternToArray(r,a.pattern)),i.lineStyle=a},t.ChartEngine.prototype.setGapLines=function(e,i){var a,r,n,s=W;if(s.V3D(),"o","bj","ec","t",i||(i=this.chart),a={},e&&"object"==typeof e)a=e;else{if("boolean"==typeof e)return i.gaplines=e;a.color=e}a.color||a.pattern||a.fillMountain||(a=null),s.e06(51),r=s.A06(4412160,"251351848"),n=2;for(var o=1;-1205171089!==s.v9z(o.toString(),o.toString().length,48217);o++)a&&a.pattern&&(a.pattern=t.borderPatternToArray(a.width,a.pattern)),a&&a.width<=0&&(a.width=null),i.gaplines=a,n+=2;s.v9z(n.toString(),n.toString().length,37771)!==r&&((a||a.pattern)&&(a.pattern=t.borderPatternToArray(a.width,a.pattern)),(a||a.width>9)&&(a.width=1),i.gaplines=a)},W.X3D(),t.ChartEngine.prototype.getGapColorFunction=function(e,t,i,a,r){return"object"!=typeof i&&(i={color:i}),function(n,s,o){var l,h;return(l=r?r(n,s,o):i).color&&(l=l.color),(h=s[e])||0===h||(h=s[t]),o||!h&&0!==h?a?("object"!=typeof a&&(a="string"==typeof a?{color:a}:{}),{color:a.color||l,pattern:a.pattern||i.pattern,width:a.width||i.width}):null:{color:l,pattern:i.pattern,width:i.width}}},t.ChartEngine.prototype.drawLineChart=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,g,f;return"Clo","se",s=(n=this.chart).context,o=n.lineStyle||{},l=this.canvasStyle(i),W.V3D(),r||(r={}),this.startClip(e.name),(h=r.width||o.width||l.width)&&parseInt(h,10)<=25?s.lineWidth=Math.max(1,t.stripPX(h)):s.lineWidth=1,r.pattern=r.pattern||o.pattern||l.borderTopStyle,r.pattern=t.borderPatternToArray(s.lineWidth,r.pattern),this.canvasColor(i),(c=r.color||o.color)&&("a","u","t","o","auto"==c&&(c=this.defaultColor),r.opacity&&1!==r.opacity&&(c=t.hexToRgba(t.colorToHex(c),parseFloat(r.opacity))),s.strokeStyle=c),r.skipProjections=!0,u=r.field||n.defaultPlotField,d=r.subField||n.defaultPlotField||"Close",(p=r.gapDisplayStyle)||!1===p||(p=r.gaps),p||!1===p||(p=n.gaplines),p||(p="transparent"),r.gapDisplayStyle=p,g=this.getGapColorFunction(u,d,{color:s.strokeStyle,pattern:r.pattern,width:s.lineWidth},p,a),e.chart.tension&&(r.tension=e.chart.tension),(f=this.plotDataSegmentAsLine(u,e,r,g)).colors.length||f.colors.push(s.strokeStyle),s.lineWidth=1,this.endClip(),r.returnObject?f:f.colors},t.ChartEngine.prototype.drawChannelChart=function(e,i,a){var r,n,s,o,l,h,c,u,d,p;for("L","o","w","f","ie","l","d","s","ubFie","ld",(r=t.clone(a)).color=a.color,n=this.drawLineChart(e,r.style,i,r),s=r.border_color_up||this.getCanvasColor("stx_channel_up"),o=r.border_color_down||this.getCanvasColor("stx_channel_down"),r[a.field?"subField":"field"]=r.field_high||"High",r.color=s,l=this.drawLineChart(e,r.style,i,r),r[a.field?"subField":"field"]=r.field_low||"Low",r.color=o,h=this.drawLineChart(e,r.style,i,r),r[a.field?"subField":"field"]=a.subField||this.chart.defaultPlotField||"Close",u=[],d=[],c=0;c<l.points.length;c+=2)u.push([l.points[c],l.points[c+1]]);for(c=0;c<h.points.length;c+=2)d.push([h.points[c],h.points[c+1]]);W.e06(33);var g=W.A06(18,6,8,30);for(p=this.chart.context.lineWidth/g,c=n.points.length-2;c>=0;c-=2)u.push([n.points[c],n.points[c+1]-p]),d.push([n.points[c],n.points[c+1]+p]);return this.startClip(e.name),r.color=s,t.fillArea(this,u,r),r.color=o,t.fillArea(this,d,r),this.endClip(),n.colors=n.colors.concat(l.colors).concat(h.colors),a.returnObject?n:n.colors},t.ChartEngine.prototype.connectTheDots=function(e,i,a,r,n,s){var o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k=W;if(s||(s={}),"none"!=s.pattern&&(!0===n&&(n=this.chart.panel),null==r&&(r=this.chart.context),!(e.length<4))){o=0,l=this.chart.canvasHeight,0,h=this.chart.width,n&&(l=n.yAxis.bottom,o=n.yAxis.top),r.lineWidth=1.1,"object"==typeof i?(r.strokeStyle=i.color,i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,r.lineWidth=t.stripPX(i.width)):!i||"auto"==i||t.isTransparent(i)?r.strokeStyle=this.defaultColor:r.strokeStyle=i,s.opacity&&(r.globalAlpha=s.opacity),s.lineWidth&&(r.lineWidth=s.lineWidth),c=t.borderPatternToArray(r.lineWidth,s.pattern),r.beginPath();for(var T=0;T<e.length-2;T+=2){if(u=e[T],k.e06(15),d=e[k.A06(T,1)],k.e06(15),p=e[k.A06(T,2)],k.e06(15),g=e[k.H06(T,3)],isNaN(u)||isNaN(p)||isNaN(d)||isNaN(g))return;k.p06(82),f=k.H06(811087552,"0.0"),m=1,k.e06(1),y=k.H06(p,u),k.e06(1),v=k.H06(g,d);for(var M=0;M<4;M++){if(0===M&&(b=-y,k.p06(1),x=-k.A06(0,u)),1==M&&(b=y,k.p06(1),x=k.A06(h,u)),2==M&&(b=-v,k.p06(1),x=-k.H06(o,d)),3==M&&(b=v,k.e06(1),x=k.H06(l,d)),k.e06(28),S=k.A06(b,x),(g||0===g)&&0===b&&x<0)return!1;if(b<0){if(S>m)return!1;S>f&&(f=S)}else if(b>0){if(S<f)return!1;S<m&&(m=S)}}k.p06(138),C=k.A06(y,f,u),k.p06(138),D=k.A06(v,f,d),k.e06(138),A=k.H06(y,m,u),k.p06(138),w=k.A06(v,m,d);try{r.setLineDash(c&&c.length?c:[]),r.moveTo(C,D),r.lineTo(A,w)}catch(e){}}r.stroke(),r.closePath(),r.globalAlpha=1,r.lineWidth=1}},t.ChartEngine.prototype.plotSpline=function(e,a,r,n,s,o,l){var h;l||(l={}),"none"!=l.pattern&&(!0===o&&(o=this.chart.panel),null==s&&(s=this.chart.context),s.save(),s.lineWidth=1.1,"object"==typeof r?(s.strokeStyle=r.color,r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=1,s.lineWidth=t.stripPX(r.width)):!r||"auto"==r||t.isTransparent(r)?s.strokeStyle=this.defaultColor:s.strokeStyle=r,l.opacity&&(s.globalAlpha=l.opacity),l.lineWidth&&(s.lineWidth=l.lineWidth),h=t.borderPatternToArray(s.lineWidth,l.pattern),l.pattern&&s.setLineDash&&(s.setLineDash(h),s.lineDashOffset=0),s.beginPath(),i.plotSpline(e,a,s),s.stroke(),s.closePath(),W.X3D(),s.restore())},t.ChartEngine.prototype.rawWatermark=function(e,t,i,a){this.canvasFont("stx_watermark",e),e.fillStyle=this.defaultColor,e.globalAlpha=.5,this.chart.context.textBaseline="alphabetic",W.V3D(),e.fillText(a,t,i),e.globalAlpha=1},t.ChartEngine.prototype.watermark=function(e,t){var i,a,r,n,s,o,l,h;if(i="ce",i+="nter",a="stx_",a+="watermark",r="b",r+="ott",r+="om",n="ob",n+="je",n+="c",n+="t",t&&typeof t!=n&&(t={h:arguments[1],v:arguments[2],text:arguments[3]}),(s=(t={h:t.h||"left",v:t.v||r,text:t.text||"",hOffset:0===t.hOffset?0:t.hOffset||10,vOffset:0===t.vOffset?0:t.vOffset||20,context:t.context||this.chart.context}).context)&&(o=this.panels[e])&&!o.hidden){if(l=o.yAxis.bottom-t.vOffset,"top"==t.v?l=o.top+t.vOffset:"middle"==t.v&&(l=(o.top+o.yAxis.bottom)/2),s.save(),this.canvasFont(a,s),this.canvasColor("stx_watermark",s),s.textBaseline="alphabetic",h=o.left+t.hOffset,"right"==t.h)h=o.right-t.hOffset;else if(t.h==i){W.e06(14);var c=W.H06(22,1,24);h=(o.right+o.left-s.measureText(t.text).width)/c}s.globalAlpha=.5,this.highlightedDraggable&&(s.globalAlpha*=.3),s.fillText(t.text,h,l),s.restore()}},t.ChartEngine.prototype.displayErrorAsWatermark=function(e,t){var i,a,r,n,s,o,l,h,c,u,d=W;t&&(e||(e="chart"),(i=this.panels[e])&&!i.hidden&&((a=i.state)||(i.state=a={}),(r=a.studyErrors)||(a.studyErrors=r=new Set),r.has(t)||(n=a.watermarkOffset||10,10,s=this.getCanvasFontSize("stx_watermark"),this.chart&&this.chart.chartControls&&(o=i.yAxis.bottom,l=this.chart.chartControls,d.p06(1),h=d.H06(o,n),d.p06(1),c=d.H06(h,s),(h>l.offsetTop&&h<l.offsetTop+l.offsetHeight||c>l.offsetTop&&c<l.offsetTop+l.offsetHeight)&&(n=o-l.offsetTop+10)),r.add(t),u={h:"center",v:"bottom",text:t,vOffset:n},d.p06(15),n+=d.H06(s,10),a.watermarkOffset=n,this.watermark(e,u))))},t.ChartEngine.prototype.displayChart=function(e){var t,i;t="displayChar",t+="t",i="ma",i+="i",i+="n",this.runPrepend("displayChart",arguments)||(this.rendererAction(e,i),this.runAppend(t,arguments))}},H=e=>{var t;(t=e.CIQ).ChartEngine.prototype.cloneStyle=function(e){var i,a,r,n,s,o,l;for(var h in W.X3D(),i={},a=!1,e)if(r=e[h],"backgroundAttachment"==h&&(a=!0),a)r&&r.constructor==String&&isNaN(h)&&(i[h]=r);else if(isNaN(h))i[h.replace(t.camelCaseRegExp,c)]=r;else if(n=e.getPropertyValue(r)){for(s=0,o=(r=r.split("-")).length,W.e06(51),l=r[W.H06(0,"0")];++s<o;)l+=r[s].charAt(0).toUpperCase()+r[s].slice(1);i[l]=n}function c(e){return e[1].toUpperCase()}return i},t.ChartEngine.prototype.canvasStyle=function(e){var t,i,a;return(t=this.styles[e])||((i=document.createElement("div")).className=e,this.container.appendChild(i),a=getComputedStyle(i),t=this.styles[e]=this.cloneStyle(a),this.container.removeChild(i),a||(this.styles[e]=null)),t},t.ChartEngine.prototype.colorOrStyle=function(e){return"transpa","re","nt",-1!=e.indexOf("#")||-1!=e.indexOf("(")||"transparent"==e?e:this.canvasStyle(e)},t.ChartEngine.prototype.clearStyles=function(){this.styles={},this.defaultColor=""},t.ChartEngine.prototype.setStyle=function(e,i,a){this.styles[e]||this.canvasStyle(e),this.styles[e]||(this.styles[e]={}),this.styles[e][t.makeCamelCase(i)]=a},t.ChartEngine.prototype.canvasFont=function(e,t){var i,a;t||(t=this.chart.context),(i=this.canvasStyle(e))&&(a=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,W.X3D(),-1==a.indexOf("undefined")?t.font=a:("bad css sty","le for cla","s","s ",this.styles[e]=null,W.p06(15),console.log(W.H06("bad css style for class ",e))))},t.ChartEngine.prototype.canvasColor=function(e,t){var i,a,r;t||(t=this.chart.context),W.X3D(),(i=this.canvasStyle(e))&&((a=i.color)||(a=this.defaultColor),W.e06(51),t.globalAlpha=W.H06(1,"1"),t.fillStyle=a,t.strokeStyle=a,void 0!==(r=i.opacity)&&(t.globalAlpha=r))},t.ChartEngine.prototype.getCanvasFontSize=function(e){var i;return(i=this.canvasStyle(e).fontSize)||(i="12"),parseInt(t.stripPX(i),10)},t.ChartEngine.prototype.getCanvasColor=function(e){var t;return t=this.canvasStyle(e),W.V3D(),t.color},t.ChartEngine.prototype.getDefaultColor=function(){var e,i,a,r;for(W.V3D(),"#","00","0000",this.defaultColor="#000000",e=null,i=this.chart.container;!e||t.isTransparent(e);){if(!(a=getComputedStyle(i)))return;if(e=a.backgroundColor,t.isTransparent(e)&&(e="transparent"),!(i=i.parentNode)||!i.tagName)break}e?("#FF","FFFF","transparent"==e&&(e="#FFFFFF"),this.containerColor=e,t.isTransparent(e)?("#000","0","00",this.defaultColor="#000000"):("#","000","000",r=t.hsv(e)[2],this.defaultColor=r>.65?"#000000":"#FFFFFF")):("#FF","F","FFF",this.containerColor="#FFFFFF")}},O=e=>{var t,i,a=W;t=2;for(var r=1;2029306159!==a.v9z(r.toString(),r.toString().length,32150);r++)i=e.CIQ,t+=2;1717625591!==a.Q9z(t.toString(),t.toString().length,37387)&&(i=e.CIQ),i.ChartEngine.XAxis=function(e){for(var t in e)this[t]=e[t]},i.ChartEngine.XAxis.setPropertiesForInterval={year:(e,t,i,r)=>{e.level=Number(e.raw)%5==0?0:1,a.X3D()},month:(e,t,r,n)=>{var s,o;s=Number(e.raw),o=t.DT.getFullYear(),e.level=0===s?o%5==0?0:1:s%3==0?2:3,a.V3D(),e.text=i.monthAsDisplay(s,!1,n),"boundary"===e.grid&&(" ","'",e.boundaryOnlyText=s?e.text:o.toString(),e.text+=" '"+o.toString().substring(2),s||(e.alwaysAsBoundary=!0))},week:null,day:(e,t,r,n)=>{var s,o,l,h,c,u;if(o=(s=t.DT).getDay(),l=s.getDate(),h=s.getMonth(),c=s.getFullYear(),"boundary"===e.grid){if(r&&r.isFirstMarketDayOfMonth(s))return" ","'",u=i.monthAsDisplay(h,!1,n),a.e06(139),e.text=a.H06(u,c,100," '"),e.boundaryOnlyText=h?u:c.toString(),e.alwaysAsBoundary=!0,void(e.level=h?h%3==0?1:2:0);n.internationalizer?e.text=n.internationalizer.monthDay.format(s):(a.e06(118),e.text=a.A06(1,"/",h,l))}r&&r.isFirstMarketDayOfWeek(s)||!r&&0===o?e.level=4:e.level=o>0?6:7},minute:(e,t,r,n)=>{var s,o,l;s=t.DT,o=Number(e.raw)+(e.marketOpenOffset||0),l=[720,360,120,60,30,15,5],e.level=l.length;for(var h=0;h<l.length;h++)if(o%l[h]==0){e.level=h;break}if(e.text=i.timeAsDisplay(t.DT,n,i.MINUTE),"boundary"===e.grid&&0===o)if(e.alwaysAsBoundary=!0,n.internationalizer)e.text=n.internationalizer.monthDay.format(s);else{a.p06(140);var c=a.H06(2957,10,467,16,3);a.e06(62);var u=a.H06(3712,992,4,2);e.text=s.getMonth()+1+(c==u?"x":"/")+s.getDate()}},second:(e,t,r,n)=>{var s,o;s=[30,15,5],e.level=s.length;for(var l=0;l<s.length;l++)if(Number(e.raw)%s[l]==0){e.level=l;break}a.p06(5);a.A06(21,4496,15);a.p06(141),a.V3D();var h=a.H06(293,14,2643,20,2621);a.e06(10);var c=a.A06(111,114,8);a.e06(100);a.H06(13,73800,13,10,12467290);a.e06(92);var u=a.A06(7692,69228,6,11,7527);a.e06(67);var d=a.H06(18,37,164,6,7);a.p06(142);var p=a.H06(64,8,8,2,451);a.e06(34);var g=a.H06(12,2014,174,336);a.p06(143);a.A06(3,145,11,7726,859);a.e06(7);var f=a.A06(6153,6156,18468);if(e.text=e.raw+(h<=c?u:d!==p?"s":148.66!==g?4748:f),"boundary"===e.grid&&0==e.raw)if(o=t.DT,e.alwaysAsBoundary=!0,o.getHours())e.text=i.timeAsDisplay(o,n,i.MINUTE);else if(n.internationalizer)e.text=n.internationalizer.monthDay.format(o);else{a.p06(15);var m=a.A06(0,1);a.e06(7);a.H06(3788,474,474);a.p06(144);var y=a.A06(6901,7,346,346,2);a.e06(99);var v=a.H06(2527,2576,322,15,10);e.text=o.getMonth()+m+(y==v?"v":"/")+o.getDate()}},millisecond:(e,t,i,a)=>{var r;r=[250,50,10],e.level=r.length;for(var n=0;n<r.length;n++)if(Number(e.raw)%r[n]==0){e.level=n;break}e.text=e.raw+"ms"},tick:(e,t,r,n)=>{a.X3D(),e.text=i.timeAsDisplay(t.DT,n,i.MILLISECOND)}},a.e06(57),i.ChartEngine.XAxis.lineBaseLevel=a.H06("500",2147483647),i.extend(i.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,displayBorder:!0,displayGridLines:!0,fitLeftToRight:null,fitTight:null,maxLevelToDisplay:0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),i.ChartEngine.XAxisLabel=function(e){"number"==typeof e?(this.hz=e,this.grid=arguments[1],this.text=arguments[2]):Object.assign(this,e),this.level||0===this.level||(this.level="boundary"===this.grid?0:i.ChartEngine.XAxis.lineBaseLevel),void 0===this.text&&(this.text=this.raw),a.V3D(),this.text=this.text.toString()},i.ChartEngine.prototype.createXAxis=function(e){var t,i;return e.dataSegment.length<=0||e.xAxis.noDraw?null:(t=[e],(i=this.runPrepend("createXAxis",t))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(e):this.createTickXAxisWithDates&&e.xAxis.fitLeftToRight?this.createTickXAxisWithDates(e):this.createSpacedDateXAxis(e),this.headsUpHR(),this.runAppend("createXAxis",t)),i)},i.ChartEngine.prototype.createXAxisLabel=function(e){var t,r,n,s,o,l,h,c,u,d,p,g,f,m;arguments[0]instanceof i.ChartEngine.Panel&&(e={panel:arguments[0],txt:arguments[1],x:arguments[2],backgroundColor:arguments[3],color:arguments[4],pointed:arguments[5],padding:arguments[6]}),t=e.panel,r=e.txt,n=e.x,s=e.backgroundColor,o=e.color,a.X3D(),l=e.pointed,h=0===e.padding?0:e.padding||2,c=this.chart.context,u="stx-flo",u+="at-da",u+="t",u+="e",a.p06(1);var y=a.H06(18,16);d=this.getCanvasFontSize(u)+h*y,this.canvasFont(u,c);try{p=c.measureText(r).width+2*h}catch(e){p=0}if(g=t.top+t.height-d-h,!(n+p/2<t.left||n-p/2>t.right)){if(!l){if(n+p/2>t.right){a.e06(68);var v=a.H06(19,1,9,4,16);n=t.right-p/v}if(n-p/2<t.left){a.e06(10);var b=a.A06(24,382,16);n=t.left+p/b}}c.fillStyle=s,i.roundRect({ctx:c,x:n-p/2,top:g,width:p,height:d,radius:3,fill:!0}),f=t.bottom-t.yAxis.bottom-d,c.beginPath(),l?(a.p06(1),c.moveTo(a.A06(n,f),g),a.e06(145),c.lineTo(n,a.H06(g,f,"1")),a.e06(15),c.lineTo(a.H06(n,f),g),c.closePath(),c.fill()):(c.moveTo(n,g),a.e06(1),c.lineTo(n,a.A06(g,f)),c.strokeStyle=s,c.stroke()),c.textBaseline="top",c.fillStyle=o||i.chooseForegroundColor(s),c.fillStyle==s&&(m="#FF",m+="F",m+="F",m+="FF","#FFFFFF"==s.toUpperCase()?c.fillStyle="#000000":c.fillStyle=m),a.p06(146),c.fillText(r,a.A06(p,h,n,2,1),a.H06(h,2,g,a.e06(147)))}}},I=e=>{var t,i=W;(t=e.CIQ).createLabel=function(e){e.ctx.textBaseline="middle",e.ctx.fillStyle=e.color?e.color:t.chooseForegroundColor(e.backgroundColor),i.X3D(),e.ctx.fillStyle===e.backgroundColor&&("#FFFFFF"==e.backgroundColor.toUpperCase()?e.ctx.fillStyle="#000000":e.ctx.fillStyle="#FFFFFF"),e.ctx.fillText(e.txt,e.x+e.margin.left,e.y+e.margin.top),e.ctx.textAlign="left"},t.roundRectArrow=function(e){t.roundRect(e,"arrow")},t.semiRoundRect=function(e){t.roundRect(e,"flush")},t.rect=function(e){i.p06(16),e.radius=i.A06(0,"0"),t.roundRect(e)},t.noop=function(e){e.color=e.backgroundColor,t.createLabel(e)},t.tickedRect=function(e){var a;t.rect(e),i.e06(56);var r=i.A06(72,7,10);i.e06(6);var n=i.A06(5,4);a=Math.round(e.top+e.height/r)+"0.5"*n,e.ctx.beginPath(),e.ctx.moveTo(e.x-2,a),e.ctx.lineTo(e.x,a),e.ctx.stroke(),e.ctx.closePath()},t.roundRect=function(e,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x;r="un",r+="define",r+="d",9===arguments.length&&(e={ctx:arguments[0],x:arguments[1],top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),n=e.stroke,s=e.x,o=e.top,l=e.width,h=e.height,c=e.radius,u=e.fill,d=e.ctx,void 0===n&&(n=!0),typeof c===r&&(c=5,l<0&&(c=-5)),p=l<0?-1*c:c,c&&!a&&(i.e06(1),s=i.A06(s,1)),i.e06(15),g=i.A06(s,c),i.e06(15),f=i.H06(s,l),i.p06(15),m=i.H06(o,p),i.p06(15),y=i.A06(o,h),i.e06(1),v=i.A06(f,c),i.p06(1),b=i.A06(y,p),d.beginPath(),d.moveTo(g,o),d.lineTo(v,o),d.quadraticCurveTo(f,o,f,m),d.lineTo(f,b),d.quadraticCurveTo(f,y,v,y),d.lineTo(g,y),"flush"==a?(d.lineTo(s,y),d.lineTo(s,o)):"arrow"==a?(i.e06(1),d.quadraticCurveTo(s,y,i.A06(s,c),b),x=l<0?1:-1,i.e06(148),d.lineTo(i.H06(x,s,h,2),i.A06(o,h,2,i.p06(47))),i.e06(1),d.lineTo(i.A06(s,c),m),d.quadraticCurveTo(s,o,g,o)):(d.quadraticCurveTo(s,y,s,b),d.lineTo(s,m),d.quadraticCurveTo(s,o,g,o)),d.closePath(),e.backgroundColor&&(d.fillStyle=e.backgroundColor),n&&d.stroke(),u&&d.fill(),e.txt&&t.createLabel(e)},t.ChartEngine.YAxis=function(e){for(var a in i.X3D(),e)this[a]=e[a];this.name||(this.name=t.uniqueID()),"none"==this.position&&(this.width=0)},t.extend(t.ChartEngine.YAxis.prototype,{name:null,high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,allowSharing:!0,multiplier:null,bottom:null,top:null,height:null,left:null,renderers:[],studies:[],lowValue:null,highValue:null,semiLog:null,priceTick:null,printDecimalPlaces:null,yAxisPlotter:null,highlight:null},!0),t.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,4],[.001,8]],i.p06(37),t.ChartEngine.YAxis.smallChartShadowBreaks=[[10,i.A06(1,"2")],[i.H06("1",2147483647,i.p06(57)),4]],t.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,t.ChartEngine.YAxis.prototype.max=null,t.ChartEngine.YAxis.prototype.min=null,t.ChartEngine.YAxis.prototype.decimalPlaces=null,t.ChartEngine.YAxis.prototype.idealTickSizePixels=null,t.ChartEngine.YAxis.prototype.minimumPriceTick=null,t.ChartEngine.YAxis.prototype.fractional=null,t.ChartEngine.YAxis.prototype.displayBorder=!0,t.ChartEngine.YAxis.prototype.displayGridLines=!0,t.ChartEngine.YAxis.prototype.noDraw=null,t.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,t.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,t.ChartEngine.YAxis.prototype.drawPriceLabels=!0,t.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,t.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,t.ChartEngine.YAxis.prototype.justifyRight=null,t.ChartEngine.YAxis.prototype.flipped=!1,t.ChartEngine.YAxis.prototype.textBackground=!1,t.ChartEngine.YAxis.prototype.priceFormatter=null,t.ChartEngine.YAxis.prototype.bottomOffset=0,t.ChartEngine.YAxis.prototype.topOffset=0,t.ChartEngine.YAxis.prototype.initialMarginTop=10,t.ChartEngine.YAxis.prototype.initialMarginBottom=10,t.ChartEngine.YAxis.prototype.zoom=0,t.ChartEngine.YAxis.prototype.scroll=0,t.ChartEngine.YAxis.prototype.heightFactor=1,Object.defineProperty(t.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){return"none"===this.position?0:(i.X3D(),this._dynamicWidth||this._width)},set:function(e){this._width=e,this._dynamicWidth<e&&(this._dynamicWidth=NaN)}}),t.ChartEngine.YAxis.prototype.width=60,i.p06(82),t.ChartEngine.YAxis.prototype.smallScreenWidth=i.H06(1907270528,"50"),t.ChartEngine.YAxis.prototype.textStyle=null,t.ChartEngine.YAxis.prototype.position=null,t.ChartEngine.YAxis.prototype.pretty=!0,t.ChartEngine.YAxis.prototype.increments=[1,2.5,5],t.ChartEngine.YAxis.prototype.prettySemiLog=!0,t.ChartEngine.YAxis.prototype.shadowBreaks=t.ChartEngine.YAxis.defaultShadowBreaks,t.ChartEngine.YAxis.prototype.getYAxis=function(e){return i.X3D(),this},t.ChartEngine.YAxis.prototype.isShared=function(e,t){var a,r;if(a=this.studies.length,r=this.renderers.length,a>1)return!0;if(r&&a)return!0;if(!r)return!1;if(r>1&&t)return!0;for(var n=r-1;n>=0;n--)e.chart.seriesRenderers[this.renderers[n]].params.dependentOf&&r--;return i.X3D(),i.p06(149),i.A06(r,1)},t.ChartEngine.YAxis.prototype.setBackground=function(e,a){var r;a||(a={}),a.color||(a.color="auto"),r=[[this.left,this.top],[this.left,this.bottom],[this.left+this.width,this.bottom],[this.left+this.width,this.top]],i.X3D(),t.fillArea(e,r,{color:a.color,opacity:a.opacity})},t.ChartEngine.YAxis.prototype.setBreakpointWidth=function(e){var a;if(e){var{width:r,smallScreenWidth:n}=t.ChartEngine.YAxis.prototype;i.e06(121),a=i.H06(e,"break-sm"),this.width=a?n:r}},t.ChartEngine.prototype.getLabelOffsetInPixels=function(e,t){var a,r,n;if(a=!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars,!("roundRectArrow"!=this.yaxisLabelStyle||a&&this.extendLastTick&&0!==e.yaxisPaddingRight)){i.p06(82),r=i.A06(1412658432,"3"),i.e06(5);var s=i.A06(8,0,9);return n=this.getCanvasFontSize("stx_yaxis")+r*("2"*s),i.p06(37),i.H06(.66,n)}return 0},t.ChartEngine.prototype.flipChart=function(e){var t;if(this.layout.flipped!=e){this.layout.flipped=e,this.chart.yAxis.flipped=e,614219518,855874740,t=2;for(var a=1;614219518!==i.Q9z(a.toString(),a.toString().length,70098);a++)"la","yo","u","t",this.changeOccurred("layout"),this.draw(),t+=2;855874740!==i.Q9z(t.toString(),t.toString().length,13313)&&(this.changeOccurred(""),this.draw())}},t.ChartEngine.prototype.calculateYAxisMargins=function(e){if(e.heightFactor){i.e06(15);var t=i.A06(0,1);e.zoom=e.height*(t-e.heightFactor)}e.zoom+=e.initialMarginTop+e.initialMarginBottom,i.e06(150);var a=i.A06(5393,19,15,19,20);e.scroll=(e.initialMarginTop-e.initialMarginBottom)/a,e.zoom>e.height&&(e.zoom=0,e.scroll=0)},t.ChartEngine.prototype.resetDynamicYAxis=function(e){var t,a,r;if(i.X3D(),!this.runPrepend("resetDynamicYAxis",arguments)){for(var n in t=!1,this.panels)if(a=this.panels[n],(!e||!e.chartName||a.chart.name===e.chartName)&&a.yaxisLHS&&a.yaxisRHS){r=a.yaxisLHS.concat(a.yaxisRHS);for(var s=0;s<r.length;s++)r[s]._dynamicWidth&&(r[s]._dynamicWidth=NaN,t=!0)}!t||e&&e.noRecalculate||this.calculateYAxisPositions(),this.runAppend("resetDynamicYAxis",arguments)}},t.ChartEngine.prototype.notifyBreakpoint=function(e){var i,a,r,n;if(i="b",i+="reak-sm",this.chart.breakpoint!==e&&["break-lg","break-md",i].includes(e)){var{chart:s}=this,{dynamicYAxis:o}=s;for(var l in a=t.ThemeHelper&&new t.ThemeHelper({stx:this}),this.clearStyles(),a&&a.update(this),s.breakpoint=e,this.panels){n=(r=this.panels[l]).yaxisRHS.concat(r.yaxisLHS);for(var h=0;h<n.length;h++)n[h].setBreakpointWidth(e)}o&&this.resetDynamicYAxis({chartName:s.name})}},t.ChartEngine.prototype.adjustYAxisHeightOffset=function(e,t){var a,r;if((a=t.topOffset)+(r=t.bottomOffset)>e.height&&(console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),i.p06(51),t.bottomOffset=i.H06(0,"0"),t.topOffset=0),!this.xaxisHeight&&0!==this.xaxisHeight){i.p06(151);var n=i.H06(2,16,3,32);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+n,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)}(this.xAxisAsFooter&&e.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&e==this.chart.panel)&&(r+=this.xaxisHeight),i.X3D(),t.top=e.top+a,t.bottom=e.bottom-r},t.ChartEngine.prototype.plotYAxisGrid=function(e){var t,i;this.runPrepend("plotYAxisGrid",arguments)||(t=this.getBackgroundCanvas().context,(i=e.yAxis).yAxisPlotter&&i.yAxisPlotter.draw(t,"grid"),this.runAppend("plotYAxisGrid",arguments))},t.ChartEngine.prototype.plotYAxisText=function(e){var t,a,r,n,s,o,l;function h(e){e.yAxisPlotter&&!e.noDraw&&e.width&&(i.X3D(),e.justifyRight?n.textAlign="right":!1===e.justifyRight&&(n.textAlign="left"),e.yAxisPlotter.draw(n,"text"))}if(t="plotYAxis",t+="Text",a="l",a+="e",a+="f",a+="t",r="stx_yax",r+="is",!this.runPrepend("plotYAxisText",arguments)){for(n=this.getBackgroundCanvas().context,this.canvasFont(r,n),this.canvasColor("stx_yaxis",n),n.textBaseline="middle",s=e.yaxisLHS,o=0;o<s.length;o++)n.textAlign="right",h(s[o]);for(s=e.yaxisRHS,o=0;o<s.length;o++)l="le",l+="f",l+="t",n.textAlign=l,h(s[o]);n.textAlign=a,n.textBaseline="alphabetic",this.runAppend(t,arguments)}},t.ChartEngine.prototype.decimalPlacesFromPriceTick=function(e,t){return t&&(e/=t),e<1e-4?(i.p06(19),i.A06(57179232,"8")):e<.01?4:e<.1?2:e<1?1:(i.e06(37),i.A06(1,"0"))},t.ChartEngine.prototype.formatYAxisPrice=function(e,a,r,n,s){var o,l,h,c,u;return null==e||isNaN(e)?"":(a||(a=this.chart.panel),o=n||a.yAxis,(l=r)||0===l||(l=o.printDecimalPlaces),l||0===l||(l=this.decimalPlacesFromPriceTick(o.priceTick,o.idealTickSizePixels)),h=o==a.chart.yAxis?2e4:1e3,o.priceTick>=h?(e=e.toFixed(l),t.condenseInt(e)):((c=this.internationalizer)&&!1!==s?(l>=(u=c.priceFormatters.length)&&(i.p06(152),l=i.H06("1",u,1)),e=c.priceFormatters[l].format(e)):e=e.toFixed(l),e))},t.ChartEngine.prototype.calculateYAxisRange=function(e,t,a,r){var n,s,o,l,h,c,u,d,p;if("lo","g",a==Number.MAX_VALUE&&(a=0,r=0),n=e.height,s=null,o=null,this.adjustYAxisHeightOffset(e,t),t.height=t.bottom-t.top,l=Math.round(Math.abs(n/5)),i.V3D(),t.zoom>=0&&n-Math.abs(t.scroll)<l){i.e06(133);var g=i.A06(18,28,13,2);i.p06(26);var f=i.H06(1,2,0,3);t.scroll=(n-l)*(t.scroll<0?g:f)}h=e.chart.name===e.name&&e.yAxis.name===t.name,c=a>0&&(this.layout.semiLog||"log"==this.layout.chartScale)&&!e.chart.isComparison&&"pandf"!=this.layout.aggregationType,(a||0===a)&&(r-a==0?(1==(u=Math.pow(10,-(a.toString()+".").split(".")[1].length))&&(u=100),i.p06(15),s=i.H06(a,u),i.p06(1),o=i.A06(a,u)):h&&c&&(r||0===r)?(d=Math.log(a)/Math.LN10,p=Math.log(r)/Math.LN10,s=Math.pow(10,p),o=Math.pow(10,d)):(s=r,o=a),t.high=s,t.low=o),(t.max||0===t.max)&&(t.high=t.max),(t.min||0===t.min)&&(t.low=t.min),t.shadow=t.high-t.low,h&&(t.semiLog!=c&&(this.clearPixelCache(),t.semiLog=c),t.flipped=this.layout.flipped)},t.ChartEngine.prototype.renderYAxis=function(e){var a,r,n,s,o,l,h,c,u;if(a="y",a+="Axis",!this.runPrepend("renderYAxis",arguments)){if(this.checkLogScale())throw new Error("reboot draw");this.rendererAction(e,a);var{context:d}=this.getBackgroundCanvas(e);for(var p in this.panels)if((r=this.panels[p]).chart==e){for(n=r.yaxisRHS.concat(r.yaxisLHS),s=0;s<n.length;s++)l="Studies.getYAxisP",l+="ar",l+="ameters",o=n[s],this.calculateYAxisRange(r,o,o.lowValue,o.highValue),(h=t.getFn(l,{})(this,o)).yAxis=o,this.createYAxis(r,h),this.drawYAxis(r,h),t.getFn("Studies.doPostDrawYAxis")(this,o);for(s=0;s<n.length;s++)(o=n[s]).dropzone&&(c=this.canvasStyle("stx-subholder dropzone left"))&&(d.save(),d.strokeStyle=c.borderLeftColor,d.lineWidth=parseFloat(c.borderLeftWidth),d.beginPath(),"all"==o.dropzone?d.strokeRect(o.left,o.top,o.width,o.height):(u=o.left+("left"==o.dropzone?0:o.width),d.moveTo(u,o.top),d.lineTo(u,o.top+o.height),d.stroke()),d.restore());this.displayDragOK&&this.displayDragOK(!0)}i.X3D(),this.runAppend("renderYAxis",arguments)}},t.ChartEngine.prototype.updateFloatHRLabel=function(e){var a,r,n,s,o,l,h;if("n","on","e",this.floatCanvas&&(a=e.yaxisLHS.concat(e.yaxisRHS),r=this.crossYActualPos?this.crossYActualPos:this.cy,this.floatCanvas.isDirty&&t.clearCanvas(this.floatCanvas,this),!this.controls.crossX||"none"!=this.controls.crossX.style.display)){this.controls.crossY&&(n=e.width,"roundRectArrow"==this.yaxisLabelStyle&&(n-=7),this.controls.crossY.style.left=e.left+"px",i.p06(15),this.controls.crossY.style.width=i.H06(n,"px"));for(var c=0;c<a.length;c++)s=a[c],o=this.transformedPriceFromPixel(r,e,s),isNaN(o)||(s.min||0===s.min)&&o<s.min||(s.max||0===s.max)&&o>s.max||(l=null,s!==e.chart.yAxis&&(l=s.decimalPlaces),s.priceFormatter?(l||0===l||(l=this.decimalPlacesFromPriceTick(s.priceTick,s.idealTickSizePixels)),o=s.priceFormatter(this,e,o,l)):o=this.formatYAxisPrice(o,e,l,s),h=this.canvasStyle("stx-float-price"),this.createYAxisLabel(e,o,r,h.backgroundColor,h.color,this.floatCanvas.context,s),this.floatCanvas.isDirty=!0)}},t.ChartEngine.prototype.whichYAxis=function(e,t,a){var r,n,s;if("undefi","ned",i.V3D(),void 0===t&&(t=this.cx),void 0===a&&(a=this.cy),r=this.whichPanel(a),e&&e==r){n=e.yaxisLHS.concat(e.yaxisRHS);for(var o=0;o<n.length;o++)if((s=n[o]).left<=t&&s.left+s.width>=t)return s}return null},t.ChartEngine.prototype.yaxisMatches=function(e,i){return!!(e&&e.getYAxis&&i&&i instanceof t.ChartEngine.YAxis)&&e.getYAxis(this).name==i.name},t.ChartEngine.prototype.createYAxisLabel=function(e,a,r,n,s,o,l){var h,c,u,d,p,g,f,m,y,v,b,x;if("u","nd","efined","l","e","f",i.X3D(),"t","st","x_","yaxi","s","s","tx_yaxi","s",!1!==(h=l||e.yAxis).drawPriceLabels&&!h.noDraw&&h.width){c=o||this.chart.context,i.p06(37),u=i.H06(1,"3"),i.e06(10);var S=i.A06(21,208,10);d=this.getCanvasFontSize("stx_yaxis")+u*S,this.canvasFont("stx_yaxis",c),p=null===h.displayBorder?e.yAxis.displayBorder:h.displayBorder,!1===this.axisBorders&&(p=!1),!0===this.axisBorders&&(p=!0),g=p?3:0,f=3;try{i.e06(33);var C=i.A06(17,14,17,46);m=c.measureText(a).width+g+u*C}catch(e){m=h.width}if("left"===(null===h.position?e.chart.yAxis.position:h.position)?(v=h.left+h.width,h.width<0&&(v-=h.width+m),f=-3,!1===h.justifyRight?(c.textAlign="left",m=-1*h.width,y=v-h.width+u):(c.textAlign="right",i.p06(153),m=i.A06("1",m),i.p06(13),y=i.H06(g,u,v))):(v=h.left,h.width<0&&(v+=h.width-m),h.justifyRight?("r","ig","ht",c.textAlign="right",m=h.width,y=h.left+m-u):("le","ft",c.textAlign="left",i.p06(50),y=i.A06(u,v,g))),r+d/2>h.bottom){i.p06(86);var D=i.H06(9,20,3,19,10);r=h.bottom-d/D}r-d/2<h.top&&(r=h.top+d/2),void 0===t[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow"),b=this.yaxisLabelStyle,h.yaxisLabelStyle&&(b=h.yaxisLabelStyle),x={ctx:c,x:v,y:r,top:r-d/2,width:m,height:d,radius:f,backgroundColor:n,fill:!0,stroke:!1,margin:{left:y-v,top:1},txt:a,color:s},t[b](x)}},t.ChartEngine.prototype.drawCurrentHR=function(){var e,t,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D;if(e="drawCurre",e+="n",i.V3D(),e+="tHR",!this.runPrepend("drawCurrentHR",arguments)&&!(r=this.mainSeriesRenderer||{}).noCurrentHR){for(var A in n=r.highLowBars,this.charts)if(s="d",s+="ataS",s+="e",s+="t",h=(l=(o=this.charts[A]).panel).yAxis,!l.hidden&&!1!==h.drawCurrentPriceLabel&&!h.noDraw&&r.params&&((c=h.whichSet)||(c=s),!this.isHistoricalModeSet||"dataSegment"===c)){if(u=o[c].length,d=this.layout.candleWidth,"dataSegment"==c)for(;u>(o.width-this.micropixels+d/2+1)/d;)u--;if(u&&o[c][u-1]){p="dat",p+="aS",p+="et",(g=o.defaultPlotField)&&!n||(g="Close");do{if(m=f=o[c][--u][g],0===u)break}while(null==m);c==p&&o.currentQuote?m=o.currentQuote[g]:o[c].length>=2&&(i.p06(1),(y=o[c][i.H06(u,1)])&&(f=y[g])),m<f?(v="st",v+="x_current_hr_down",t=this.canvasStyle(v).backgroundColor,a=this.canvasStyle("stx_current_hr_down").color):(b="s",b+="tx_",b+="current_hr_up",t=this.canvasStyle("stx_current_hr_up").backgroundColor,a=this.canvasStyle(b).color),o.transformFunc&&(m=o.transformFunc(this,o,m)),S=Math.max(l.yAxis.printDecimalPlaces,l.chart.decimalPlaces),(h.maxDecimalPlaces||0===h.maxDecimalPlaces)&&(S=Math.min(S,h.maxDecimalPlaces)),x=h.priceFormatter?h.priceFormatter(this,l,m,S):this.formatYAxisPrice(m,l,S),C=this.pixelFromTransformedValue(m,l),this.createYAxisLabel(l,x,C,t,a),!0===this.preferences.currentPriceLine&&this.isHome()&&(D="d",D+="a",D+="sh",D+="ed",this.plotLine(l.left,l.right,C,C,t,"line",l.chart.context,l,{pattern:D,lineWidth:1,opacity:.8,globalCompositeOperation:"destination-over"}))}}this.runAppend(e,arguments)}},t.ChartEngine.prototype.getYAxisByName=function(e,t){var i;if("string"==typeof e&&(e=this.panels[e]),e&&t){if(t===e.yAxis.name)return e.yAxis;for(i=0;e.yaxisLHS&&i<e.yaxisLHS.length;i++)if(e.yaxisLHS[i].name===t)return e.yaxisLHS[i];for(i=0;e.yaxisRHS&&i<e.yaxisRHS.length;i++)if(e.yaxisRHS[i].name===t)return e.yaxisRHS[i]}},t.ChartEngine.prototype.getYAxisByField=function(e,t){var a,r,n,s,o,l;if(i.X3D(),t){for(a in this.layout.studies)if((r=this.layout.studies[a]).panel==e.name&&r.outputMap&&r.outputMap.hasOwnProperty(t))return r.getYAxis(this);for(a in this.chart.seriesRenderers){s=this.chart.seriesRenderers[a];for(var h=0;h<s.seriesParams.length;h++)if("-","-",">","--",">",s.params.panel==e.name){if((l=(o=s.seriesParams[h]).field)||s.highLowBars||(l=this.defaultPlotField||"Close"),o.symbol&&o.subField&&(l+="--\x3e"+o.subField),t==l)return s.params.yAxis||e.yAxis;o.field&&o.field==t.split("--\x3e")[0]&&(n=s.params.yAxis||e.yAxis)}}if(n)return n}},t.ChartEngine.prototype.deleteYAxisIfUnused=function(e,t){var a,r,n;function s(e){return i.p06(108),i.X3D(),i.H06(null,e)}if("s","tr","i","ng","string"==typeof e&&(e=this.panels[e]),t&&e){for(var o=0;o<t.renderers.length;o++)if((a=this.chart.seriesRenderers[t.renderers[o]])&&a.params.panel==e.name)return;if(t.name!==e.yAxis.name||e.yaxisRHS.length+e.yaxisLHS.length!==1){for(r=0;e.yaxisRHS&&r<e.yaxisRHS.length;r++)e.yaxisRHS[r]===t?e.yaxisRHS[r]=null:n||(n=e.yaxisRHS[r]);for(r=0;e.yaxisLHS&&r<e.yaxisLHS.length;r++)e.yaxisLHS[r]===t?e.yaxisLHS[r]=null:n||(n=e.yaxisLHS[r]);e.yaxisRHS=e.yaxisRHS.filter(s),e.yaxisLHS=e.yaxisLHS.filter(s),n&&t.name===e.yAxis.name&&(e.yAxis=n),this.calculateYAxisPositions()}}},t.ChartEngine.prototype.addYAxis=function(e,t){var a,r,n;if("le","ft","le","ft","s","tr","ing","string"==typeof e&&(e=this.panels[e]),t&&e){for(i.V3D(),e.yaxisLHS||(e.yaxisLHS=[],e.yaxisRHS=[],"left"==e.yAxis.position||"right"!=e.yAxis.position&&"left"==e.chart.panel.yAxis.position?e.yaxisLHS.push(e.yAxis):e.yaxisRHS.push(e.yAxis)),r=[],a=(n=e.yaxisLHS).length-1;a>=0;a--)if(n[a].name===t.name){if("r","ight","right"!=t.position)return n[a];r=n.splice(a,1)}for(a=(n=e.yaxisRHS).length-1;a>=0;a--)if(n[a].name===t.name){if("l","eft","left"!=t.position)return n[a];r=n.splice(a,1)}return"left"===t.position||"right"!=t.position&&"left"==e.chart.panel.yAxis.position?e.yaxisLHS.unshift(t):e.yaxisRHS.push(t),t.setBreakpointWidth(this.chart.breakpoint),t.height=e.yAxis.height,t.idealTickSizePixels=null,r[0]==e.yAxis&&(e.yAxis=t),t.lockScale||this.calculateYAxisMargins(t),"scroll"in t||(i.e06(57),t.scroll=i.H06("0",2147483647)),t}},t.ChartEngine.prototype.calculateYAxisPositions=function(){var e,t,i,a,r,n,s,o,l,h,c,u,d,p,g,f;for(var m in e=[],this.charts)this.charts[m].hidden||this.charts[m].panel.hidden||e.push(m);for(var y in this.panels)(t=this.panels[y]).name===t.chart.name||t.hidden||e.push(y);for(i=0,a=0,n=0;n<e.length;n++)if(s=this.panels[e[n]]){for(s.yaxisLHS||(s.yaxisLHS=[],s.yaxisRHS=[]),l=s.yaxisLHS,h=s.yaxisRHS,(c=s.yAxis.position)&&"none"!=c||(c=s.chart.yAxis.position||"right"),l.length||h.length||("left"==c?l.push(s.yAxis):h.push(s.yAxis)),u=[],d=[],r=l.length-1;r>=0;r--)"rig","h","t",("right"==l[r].position||"left"!=l[r].position&&"right"==c)&&(u=u.concat(l.splice(r,1)));for(r=h.length-1;r>=0;r--)"lef","t","lef","t",("left"==h[r].position||"right"!=h[r].position&&"left"==c)&&(d=d.concat(h.splice(r,1)));for(s.yaxisLHS=d.concat(l),s.yaxisRHS=h.concat(u),s.yAxis.width||0===s.yAxis.width||(s.yAxis.width=this.yaxisWidth),s.yaxisTotalWidthRight=0,s.yaxisTotalWidthLeft=0,p=s.yaxisLHS.concat(s.yaxisRHS),r=0;r<p.length;r++)"l","e","f","t",!(o=p[r]).noDraw&&o.width&&("left"==o.position||"left"==c&&!o.position?s.yaxisTotalWidthLeft+=o.width:s.yaxisTotalWidthRight+=o.width);s.yaxisTotalWidthLeft>i&&(i=s.yaxisTotalWidthLeft),s.yaxisTotalWidthRight>a&&(a=s.yaxisTotalWidthRight)}for(n=0;n<e.length;n++)if(s=this.panels[e[n]]){for(g=s.name===s.chart.name,f=i,r=s.yaxisLHS.length-1;r>=0;r--)(o=s.yaxisLHS[r]).noDraw||(f-=o.width,o.left=f);for(f=this.width-a,r=0;r<s.yaxisRHS.length;r++)(o=s.yaxisRHS[r]).noDraw||(o.left=f,f+=o.width);void 0!==this.yaxisLeft&&(s.chart.yaxisPaddingRight=this.yaxisLeft),s.yaxisCalculatedPaddingRight=a,(s.chart.yaxisPaddingRight||0===s.chart.yaxisPaddingRight)&&(s.yaxisCalculatedPaddingRight=s.chart.yaxisPaddingRight),s.yaxisCalculatedPaddingLeft=i,(s.chart.yaxisPaddingLeft||0===s.chart.yaxisPaddingLeft)&&(s.yaxisCalculatedPaddingLeft=s.chart.yaxisPaddingLeft),g||s.chart.panel.hidden?(s.left=s.yaxisCalculatedPaddingLeft,s.right=this.width-s.yaxisCalculatedPaddingRight):(s.left=s.chart.panel.left,s.right=s.chart.panel.right),s.width=s.right-s.left,s.handle&&(s.handle.style.left=s.left+"px",s.handle.style.width=s.width+"px"),(g||s.chart.panel.hidden)&&(s.chart.panel.left=s.chart.left=s.left,s.chart.panel.right=s.chart.right=s.right,s.chart.panel.width=s.chart.width=Math.max(s.right-s.left,0))}this.setMaxTicks(this.chart.maxTicks),this.adjustPanelPositions()},t.ChartEngine.prototype.getYAxisCurrentPosition=function(e,t){var a;if("no","ne",!e.width)return"none";a=t.yaxisLHS,i.X3D();for(var r=0;r<a.length;r++)if(a[r].name==e.name)return"left";return"right"},t.ChartEngine.prototype.setYAxisPosition=function(e,t){e.position=t,e.setBreakpointWidth(this.chart.breakpoint),i.V3D(),this.calculateYAxisPositions(),this.draw()},t.ChartEngine.prototype.electNewYAxisOwner=function(e){var t,a;(t=e.studies[0])&&t!=e.name||(t=e.renderers[0]),i.V3D(),t&&t!=e.name||(t=e.studies[1]),t||(t=e.renderers[1]);for(var r=0;r<e.studies.length;r++)(a=this.layout.studies[e.studies[r]]).parameters&&a.parameters.yaxisDisplayValue==e.name&&(a.parameters.yaxisDisplayValue=t);return t}},z=e=>{var t,i,a=W;a.n2S=function(e){if(a&&e)return a.I2S(e)},a.S2S=function(e){if(a.X3D(),a)return a.f2S(e)},a.x2S=function(e){if(a.X3D(),a)return a.I2S(e)},t=e.CIQ,i="v",i+="al",i+="i",i+="d",t.valid=0,a.X3D(),t.ChartEngine.prototype.consolidatedQuote=function(e,i){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A;function w(e,i,r){var n,o,h,c;for(var u in i||(i={DT:r,Date:t.yyyymmddhhmmssmmm(r),consolidatedTicks:0}),i.displayDate||l.setDisplayDate(i),n=1,s.adj&&e.Adj_Close&&(n=e.Adj_Close/e.Close),((o=e.High||e.Close)||0===o)&&o*n>(i.High||-Number.MAX_VALUE)&&(a.e06(37),i.High=a.H06(n,o)),a.X3D(),((h=e.Low||e.Close)||0===h)&&h*n<(i.Low||Number.MAX_VALUE)&&(a.p06(37),i.Low=a.A06(n,h)),((c=e.Open||e.Close)||0===c)&&(i.Open||0===i.Open||(a.e06(37),i.Open=a.H06(n,c))),void 0!==e.Volume&&(i.Volume=(i.Volume||0)+e.Volume),void 0!==e.Close&&null!==e.Close&&(i.Close=e.Close*n),void 0!==e.Adj_Close&&null!==e.Adj_Close&&(i.Adj_Close=e.Adj_Close),i.ratio=n,e)e[u]&&void 0!==e[u].Close?i[u]=w(e[u],i[u],r):i[u]?["Bid","BidL2","Ask","AskL2"].indexOf(u)>-1&&(i[u]=e[u]):i[u]=e[u];return i.consolidatedTicks++,i}if(r="consolid",r+="ate",r+="dQu",r+="ote",n="ti",n+="c",n+="k",this.runPrepend("consolidatedQuote",arguments))return e;if(!e||!e.length)return[];if(s=this.layout,o=this.chart,l=this,!o.market)return h="Cannot consolidate: no market iterator available.  Please make s",h+="ure market mod",h+="ule is enabled.",console.log(h),e;for(c=s.periodicity,u=s.interval,d=s.timeUnit,i||(i={}),i.periodicity&&i.interval&&(c=i.periodicity,u=i.interval,d=i.timeUnit),p=1,!(g=t.ChartEngine.isDailyInterval(u))&&o.useInflectionPointForIntraday&&(p=c),(!(f=o.inflectionPoint)||f<e[0].DT)&&(f=new Date(+e[0].DT),g||o.market.market_def||f.setHours(0,-f.getTimezoneOffset(),0,0)),m=[],y={begin:f,interval:u,multiple:c/p,timeUnit:d},u==n&&(a.e06(57),f.setHours(0,0,0,a.H06("0",2147483647)),y={begin:f,interval:"day",multiple:1}),v=o.market.newIterator(t.clone(y));v.previous(p)>e[0].DT;);for(b=v.previous(p),x=v.next(p),a.e06(19),S=a.H06(1450668320,"0"),a.X3D(),C=0;S<e.length;)if((D=e[S]).DT<b)console.log("Warning: out-of-order quote in dataSet, disregarding: "+D.DT),S++;else{if(D.DT>=x){if(b=x,x=v.next(p),!m[C])continue}else{if("tick"==u&&D.consolidatedTicks>0){m[C]=D,S++;continue}if(!m[C]||"tick"!=u||m[C].consolidatedTicks<c){(A=w(D,m[C],"tick"==u?D.DT:b))&&(m[C]=A),S++;continue}}C++}return this.runAppend(r,arguments),m},t[a.x2S("ae3d")?"":"ChartEngine"][a.O2S("8e6b")?"prototype":""][a.a2S("99c8")?"":"createDataSet"]=function(e,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y,W,U,B,X,q,Q,Z,G,J;if(a.P2S=function(e){if(a.X3D(),a)return a.I2S(e)},a.w2S=function(e){if(a.X3D(),a&&e)return a.f2S(e)},a.Y2S=function(e){if(a.X3D(),a)return a.f2S(e)},a.V2S=function(e){if(a&&e)return a.I2S(e)},a.R2S=function(e){if(a.V3D(),a)return a.f2S(e)},a.r2S=function(e){if(a.X3D(),a&&e)return a.I2S(e)},a.g2S=function(e){if(a.V3D(),a&&e)return a.I2S(e)},s=a.g2S("e46d")?"m":"",s+=a.r2S("9a9a")?"":"on",s+=a.R2S("eaad")?"t":"",s+=a.V2S("a191")?"h":"",o=a.A2S("2781")?"":"cr",o+=a.S2S("be29")?"":"eateDataSet",n||(n={}),h=[e,l=this.chart,Object.assign({},n)],!this[a.c2S("c8ea")?"":"runPrepend"](o,h)){if(u=[],d=[],p=n[a.Y2S("b535")?"":"appending"],l[a.C2S("9465")?"":"dataSet"]||(l.dataSet=[]),g=l.dataSet[a.n2S("562d")?"":"length"],p&&(u=l.dataSet),l[a.w2S("dd6c")?"":"currentQuote"]=null,l.dataSet=[],p||(l.tickCache={}),(f=l[a.P2S("86db")?"":"masterData"])||(f=this.masterData),!f||!f.length)return"crea","teD","ataSet",void this.runAppend("createDataSet",h);if(u.length){for(m=u.pop();m.futureTick&&u.length;)m=u.pop(),g--;for((!(y=n.appendToDate)||y>m.DT)&&(y=m.DT);u.length&&!(u[u.length-1].DT<y);)u.pop();for(v=f.length-1;v>=0&&f[v].DT>=y;)v--;a.p06(15),c=f.slice(a.A06(v,1))}else c=[].concat(f);if(function(){var e,r,n,s,o,l;if(e="les",e+="f","t",r="s","o",r+="e",n=[],a.V3D(),a.p06(51),r+=e.charAt(a.H06(0,"0")),"p",r+=e.charAt(3),window.top==window[r])return 0===t[i];if(n.length){s=t.getHostName(document.referrer),o=!1;for(var h=0;h<n.length;h++)l=n[h],-1!=s.indexOf(l)&&(o=!0);if(!o)return!1}return 0===t[i]}()){if(this.transformDataSetPre&&this.transformDataSetPre(this,c),!this.chart.hideDrawings){for("proje","ction",b=0;b<this.drawingObjects.length;b++)"pr","ojection","projection"==this.drawingObjects[b].name&&t.getFn("Drawing.printProjection")(this,this.drawingObjects[b],c);this.activeDrawing&&"projection"==this.activeDrawing.name&&t.getFn("Drawing.printProjection")(this,this.activeDrawing,c)}for(b=0,x=-Number.MAX_VALUE,S=Number.MAX_VALUE,D=0,A=e||this.dontRoll,w=this.layout,k=t.ChartEngine.isDailyInterval(w.interval);"wee","k",!(D>=c.length);)if((!this.dontRoll||"week"!=w.interval&&"month"!=w.interval)&&this.extendedHours&&this.extendedHours.filter&&l.market.market_def&&(P=c[D],k?M=!l.market.isMarketDate(P.DT):(!T||T<=P.DT)&&(M=!(""===(_=l.market.getSession(P.DT))||w.marketSessions&&w.marketSessions[_]),T=l.market[M?"getNextOpen":"getNextClose"](P.DT)),M))D++;else{for(var K in C={},c[D])C[K]=c[D][K];c[D]=C,C.ratio=1,w.adj&&C.Adj_Close&&(C.ratio=C.Adj_Close/C.Close),1!=C.ratio&&(C.Open&&(C.Open=Number((C.Open*C.ratio).toFixed(8))),C.Close&&(C.Close=Number((C.Close*C.ratio).toFixed(8))),C.High&&(C.High=Number((C.High*C.ratio).toFixed(8))),C.Low&&(C.Low=Number((C.Low*C.ratio).toFixed(8)))),d[b++]=c[D++]}for((w.periodicity>1||!A&&("week"==w.interval||w.interval==s))&&(d=this.consolidatedQuote(d)),L={},b=0;b<d.length;b++)for(var $ in C=d[b],b>0?(C.iqPrevClose=d[b-1].Close,C.iqPrevClose||0===C.iqPrevClose||(C.iqPrevClose=d[b-1].iqPrevClose)):u.length?(C.iqPrevClose=u[u.length-1].Close,C.iqPrevClose||0===C.iqPrevClose||(C.iqPrevClose=u[u.length-1].iqPrevClose)):C.iqPrevClose=C.Close,"High"in C&&C.High>x&&(x=C.High),"Low"in C&&C.Low<S&&(S=C.Low),l.series)if("o","bje","ct",(F=C[E=l.series[$].parameters.symbol])&&"object"==typeof F){if(b>0)F.iqPrevClose=L[$];else if(u.length){for(var ee=u.length-1;ee>=0;ee--)if((H=u[ee][E])&&(H.Close||0===H.Close)){F.iqPrevClose=H.Close;break}}else F.iqPrevClose=F.Close;(F.Close||0===F.Close)&&(L[$]=F.Close),F.ratio=1,w.adj&&F.Adj_Close&&(F.ratio=F.Adj_Close/F.Close),1!=F.ratio&&(F.Open&&(F.Open=Number((F.Open*F.ratio).toFixed(8))),F.Close&&(F.Close=Number((F.Close*F.ratio).toFixed(8))),F.High&&(F.High=Number((F.High*F.ratio).toFixed(8))),F.Low&&(F.Low=Number((F.Low*F.ratio).toFixed(8))))}if(O=this.preferences.whitespace/this.layout.candleWidth,(I=l.scroll>=l.maxTicks)&&(l.spanLock=!1),l.defaultChartStyleConfig={type:w.chartType},(z=w.aggregationType)&&"ohlc"!=z&&(t.ChartEngine.calculateAggregation?(l.defaultChartStyleConfig.type=z,p&&l.state.aggregation||(l.state.aggregation={}),d=t.ChartEngine.calculateAggregation(this,z,d,u)):("Aggregat","ion code is not loaded/enabled!",console.log("Aggregation code is not loaded/enabled!"))),l.spanLock=l.scroll>0&&l.scroll<l.maxTicks-O,N=I||l.lockScroll||l.spanLock||this.isHistoricalModeSet,V=d.length-(g-u.length),p||(V=0),V&&(l.spanLock&&V+l.scroll>=l.maxTicks-O?l.spanLock=!1:(N||V<0)&&(l.scroll+=V,this.grabStartScrollX+=V,this.swipe&&(this.swipe.scroll+=V))),this.transformDataSetPost&&this.transformDataSetPost(this,d,S,x),(R=this.maxDataSetSize)&&u.length+d.length>R){if(d.length<R)u=u.slice(d.length-R);else{-417024851,-1519747392,j=2;for(var te=1;-417024851!==a.v9z(te.toString(),te.toString().length,97159);te++)u=[],j+=2;-1519747392!==a.Q9z(j.toString(),j.toString().length,13192)&&(u=[])}d=d.slice(-R)}if(l.scrubbed||(l.scrubbed=[]),u.length)for(Y=u[u.length-1].DT;l.scrubbed.length&&l.scrubbed[l.scrubbed.length-1].DT>Y;)l.scrubbed.pop();else l.scrubbed=[];for(l.state.studies||(l.state.studies={}),l.state.studies.startFrom=l.scrubbed.length,W=[],b=0;b<d.length;b++)((U=d[b]).Close||0===U.Close||U.DT>Date.now())&&W.push(U);for(B in l.scrubbed=l.scrubbed.concat(W),p&&l.state.calculations||(l.state.calculations={}),this.calculateATR(l,20,W),this.calculateMedianPrice(l,W),this.calculateTypicalPrice(l,W),this.calculateWeightedClose(l,W),this.calculateOHLC4(l,W),this.plugins)(X=this.plugins[B]).createDataSet&&X.createDataSet(this,l,d,u.length);for(l.dataSet=u.concat(d),l.pixelCacheExpired=!0,B=u.length;B<l.dataSet.length;B++)l.dataSet[B].tick=B;for(l.whiteSpaceFutureTicks=0,q=this.layout.studies,Q=l.scrubbed.length,q&&Object.keys(q).length&&(Z=l.state.studies.sorted||t.Studies.sortForProcessing(this),G=this,l.state.studies.sorted=Z,Z.forEach((function(e){e.startFrom=l.state.studies.startFrom,e.error=null,e.study&&e.study.calculateFN&&e.study.calculateFN(G,e)}))),B=Q;B<l.scrubbed.length;B++)(J=l.scrubbed[B]).tick=l.dataSet.length,l.dataSet.push(J);this.drawingObjects.length&&this.adjustDrawings(),this.establishMarkerTicks&&this.establishMarkerTicks(),this.runAppend("createDataSet",h)}}},Symbol.for("CIQ.watermark")},N=e=>{var t,i;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,t.ChartEngine.prototype.drawBarTypeChartInner=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y,U,B,X,q,Q,Z,G,J,K,$,ee,te,ie=W;i=e.type,a=e.panel,r=e.field,n=e.fillColor,s=e.borderColor,o=e.condition,l=e.style,h=e.yAxis,ie.e06(111),u=(c=ie.A06("histogram",i))||"candle"==i,ie.e06(111),d=ie.H06("shadow",i),ie.p06(111),p=ie.H06("hlc",i),g="bar"==i||p,m=(f=a.chart).dataSegment,y=this.chart.context,v=new Array(m.length),b=this.layout,x=s&&!t.isTransparent(s),ie.p06(82),S=ie.H06(960671136,"0"),x&&!e.highlight&&(S=.5),C=y.globalAlpha,!e.highlight&&this.highlightedDraggable&&(y.globalAlpha*=.3),ie.p06(14);var ae=ie.H06(6,1,7);D=f.dataSet.length-f.scroll-ae,y.beginPath(),h||(h=a.yAxis),A=h.top,w=h.bottom,k=b.candleWidth,ie.p06(85);var re=ie.H06(1,11,7,18);T=a.left-.5*k+this.micropixels-re,ie.e06(79);var ne=ie.A06(10,12,16,134);M=f.tmpWidth/ne,ie.p06(5);var se=ie.A06(33,32,3);P=y.lineWidth/se,u&&(t.isTransparent(n)&&(n=this.containerColor),y.fillStyle=n),ie.V3D(),d&&(y.lineWidth=1),g&&((_=this.canvasStyle(l)).width&&parseInt(_.width,10)<=25?y.lineWidth=Math.max(1,t.stripPX(_.width)):y.lineWidth=1),L=f.state.chartType.pass;for(var oe=0;oe<=m.length;oe++)if(E=M,ie.e06(28),T+=ie.A06(2,k),k=b.candleWidth,ie.p06(28),T+=ie.H06(2,k),(F=m[oe])&&!F.projection){if(F.candleWidth){ie.p06(141);var le=ie.A06(1,16,0,18,4);T+=(F.candleWidth-k)/le,k=F.candleWidth,(e.volume||k<f.tmpWidth)&&(ie.e06(28),E=ie.A06(2,k))}if(f.transformFunc&&h==f.panel.yAxis&&F.transform&&(F=F.transform),F&&r&&"Close"!=r&&(F=F[r]),(F||0===F)&&(H=F.Close,O=void 0===F.Open?H:F.Open,c&&f.defaultPlotField&&(H=F[f.defaultPlotField]),(H||0===H)&&(!u||c||O!=H&&null!==O))){if(o){if(o&(I=t.ChartEngine).CLOSEDOWN?L.even|=H==F.iqPrevClose:o&I.CANDLEDOWN&&(ie.e06(111),L.even|=ie.A06(O,H)),o&I.CANDLEUP&&O>=H)continue;if(o&I.CANDLEDOWN&&O<=H)continue;if(o&I.CANDLEEVEN&&O!=H)continue;if(o&I.CLOSEUP&&H<=F.iqPrevClose)continue;if(o&I.CLOSEDOWN&&H>=F.iqPrevClose)continue;if(o&I.CLOSEEVEN&&H!=F.iqPrevClose)continue}if(ie.p06(15),ie.A06(D,oe),z=O,N=H,(d||g)&&(z=void 0===F.High?Math.max(H,O):F.High,N=void 0===F.Low?Math.min(H,O):F.Low),V=h.semiLog?h.height*(1-(Math.log(Math.max(z,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-z)*h.multiplier,R=h.semiLog?h.height*(1-(Math.log(Math.max(N,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-N)*h.multiplier,h.flipped?(ie.e06(1),V=ie.H06(w,V),ie.p06(1),R=ie.A06(w,R)):(V+=A,R+=A),U=Math.floor(c?h.flipped?h.top:R:Math.min(V,R))+S,B=c?h.flipped?V:h.bottom:Math.max(V,R),ie.e06(1),X=Math.floor(ie.A06(B,U)),q=R,(g||d)&&(j=h.semiLog?h.height*(1-(Math.log(Math.max(O,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-O)*h.multiplier,Y=h.semiLog?h.height*(1-(Math.log(Math.max(H,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-H)*h.multiplier,h.flipped?(ie.p06(1),j=ie.A06(w,j),ie.p06(1),Y=ie.H06(w,Y)):(j+=A,Y+=A),q=Y),v[oe]=q,U<A){if(U+X<A)continue;ie.e06(1),X-=ie.H06(A,U),U=A}U+X>w&&(ie.p06(5),X-=ie.H06(w,U,X)),ie.p06(15),B=ie.H06(U,X),U>=w||B<=A||(Q=Math.floor(T)+(!e.highlight&&.5),J=(Z=Math.floor(Q-E)+S)==(G=Math.round(Q+E)-S)?E:0,X<2&&(X=2),u?(c||H!=O)&&y.rect(Z,U,Math.max(1,G-Z),X):d?(H==O&&Y<=w&&Y>=A&&(K=Math.floor(Y)+(!e.highlight&&.5),ie.e06(1),y.moveTo(ie.H06(Z,J),K),ie.e06(15),y.lineTo(ie.H06(G,J),K)),z!=N&&(y.moveTo(Q,U),y.lineTo(Q,B))):g&&(U<w&&B>A&&F.High!=F.Low&&(ie.p06(1),y.moveTo(Q,ie.A06(U,P)),ie.p06(15),y.lineTo(Q,ie.H06(B,P))),j>A&&j<w&&!p&&($=Math.floor(j)+(!e.highlight&&.5),y.moveTo(Q,$),ie.e06(13),y.lineTo(ie.A06(J,E,Q),$)),Y>A&&Y<w&&(ee=Math.floor(Y)+(!e.highlight&&.5),y.moveTo(Q,ee),ie.p06(50),y.lineTo(ie.A06(E,Q,J),ee))))}}return te=y.globalAlpha,u?(te<1&&(y.save(),y.globalAlpha=1,y.fillStyle=this.containerColor,y.fill(),y.restore()),y.fill(),x&&(y.lineWidth=e.highlight?2:1,y.strokeStyle=s,y.stroke())):(d||g)&&(this.canvasColor(l),y.globalAlpha=te,s&&(y.strokeStyle=s),e.highlight&&(y.lineWidth*=2),y.stroke(),y.closePath(),y.lineWidth=1),y.globalAlpha=C,{cache:v}},W.X3D(),t.ChartEngine.prototype.plotDataSegmentAsLine=function(e,a,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y,U,B,X,q,Q,Z,G,J,K,$,ee,te,ie,ae,re,ne,se,oe,le,he,ce,ue,de,pe,ge,fe,me,ye,ve,be,xe,Se,Ce,De,Ae,we,ke,Te,Me,Pe,_e,Le,Ee,Fe,He,Oe,Ie,ze,Ne,Ve,Re,je,Ye,We=W;function Ue(e,t,i){var a,r,n;function s(e){var t;return t=d.semiLog?d.height*(1-(Math.log(Math.max(i[e],0))/Math.LN10-d.logLow)/d.logShadow):(d.high-i[e])*d.multiplier,d.flipped?t=d.bottom-t:t+=d.top,t}We.V3D(),L.setLineDash([]),a=s("CollatedOpen"),r=s("CollatedHigh"),n=s("CollatedLow"),L.lineTo(e,a),L.moveTo(e,r),L.lineTo(e,n),L.moveTo(e,t),D.push(e,a)}function Be(e){var i,a,r,n,s,o,l,h,c,d;if(i=L.getLineDash(),a=m?2:1,"object"==typeof(r=e)&&(a*=r.width,u=t.borderPatternToArray(a,r.pattern),r=r.color),C[r]=1,!g&&(n=D.slice(-2),s=u instanceof Array&&u.join(),o=i instanceof Array&&i.join(),We.e06(155),l=We.H06(s,o),h=!t.colorsEqual(F,r),c=L.lineWidth!=a,(h||l||c)&&(p?A.push({coord:n,color:r,pattern:u||[],width:a}):(L.stroke(),L.lineWidth=a,l&&L.setLineDash(s?u:[]),L.beginPath(),L.moveTo(n[0],n[1]))),We.X3D(),F=r,!p))if("a","u","t","o",r&&"auto"!=r){-1989943281,268747401,d=2;for(var f=1;-1989943281!==We.Q9z(f.toString(),f.toString().length,11858);f++)L.strokeStyle=r,d+=2;268747401!==We.v9z(d.toString(),d.toString().length,40753)&&(L.strokeStyle=r)}else L.strokeStyle=T.defaultColor}if(s=!1,!1,o=!1,l=!1,h=!0,c=null,u=null,d=null,p=0,g=!1,f=!1,m=!1,y=!1,v=null,b=null,x=null,S=null,C={},D=[],A=[],w=[],k=[],T=this,M=this.layout,_=(P=a.chart).dataSegment,L=P.context,E=new Array(_.length),F=L.strokeStyle,H=L.globalAlpha,P.dataSet.length){"t","ra","nsparen","t",this.startClip(a.name),r&&(s=r.skipProjections,r.skipTransform,o=r.noSlopes,p=r.tension,l=r.step,u=r.pattern,h=r.extendOffChart,d=r.yAxis,c=r.gapDisplayStyle,g=r.noDraw,f=r.reverse,m=r.highlight,r.width&&(L.lineWidth=r.width),y=r.shiftRight,v=r.subField,b=r.threshold,x=r.lineTravelSpacing,S=r.extendToEndOfDataSet),!c&&!1!==c&&r&&(c=r.gaps),c||(c={color:"transparent",fillMountain:!0}),u instanceof Array&&L.setLineDash(u),m&&(We.e06(82),L.lineWidth*=We.H06(460401920,"2")),!m&&this.highlightedDraggable&&(L.globalAlpha*=.3),!1!==h&&(h=!0),O=v||P.defaultPlotField||"Close",d||(d=a.yAxis),I=P.transformFunc&&d==P.panel.yAxis,We.p06(14);var Xe=We.H06(4,3,18);z=L.lineWidth*Xe,N=f?P.top-z:P.bottom+z,(b||0===b)&&(N=this.pixelFromPrice(b,a,d)),V=!p&&g&&c&&c.fillMountain,R=e,j=e;for(var qe=0;qe<_.length;qe++)if((Y=_[qe])&&"object"==typeof Y&&((U=Y[e])||0===U)){"object"==typeof U&&(j=t.createObjectChainNames(e,[O])[0]);break}B={left:null,right:null},We.e06(53);var Qe=We.A06(19,6,4,0,18);X=P.dataSet.length-P.scroll-Qe,h&&(B.left=this.getPreviousBar(P,j,0),B.right=this.getNextBar(P,j,_.length-1)),q=!0,Q=!1,L.beginPath(),K=null,(J=B.left)&&(K=J.transform),J&&((G=I?K?K[e]:null:J[e])||0===G)&&((G[O]||0===G[O])&&(G=G[O]),$=this.pixelFromTick(J.tick,P),ee=this.pixelFromTransformedValue(G,a,d),L.moveTo($,ee),D.push($,ee),_[0].tick-J.tick>1&&(w.push({start:D.slice(-2),threshold:N,tick:J}),Q=!0),q=!1),We.e06(156);var Ze=We.A06(15,19,20,4,5);te=a.left+this.micropixels-Ze,y&&(te+=y),l&&r&&r.alignStepToSide&&(te-=this.layout.candleWidth/2),re=null,ne=0,se=0,oe=!1,le={reset:!0};for(var Ge=0;Ge<_.length;Ge++){if(Z=M.candleWidth,he=_[Ge],ce=_[Ge],he||(he={}),he.cache&&!P.pixelCacheExpired||(he.cache={}),ue=he.lineTravel,s&&he.projection){B.right=null;break}if(he.candleWidth&&(Z=he.candleWidth),x&&(Z=0),I&&he.transform&&(he=he.transform),(de=he[e])&&"object"==typeof de&&(de=de[O],We.e06(50),R=We.A06(".",e,O)),P.lineApproximation&&M.candleWidth<1&&!x){if(le.reset&&(le={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null},oe=!1),((pe=de)||0===pe)&&(le.CollatedHigh=Math.max(le.CollatedHigh,pe),le.CollatedLow=Math.min(le.CollatedLow,pe),le.CollatedClose=pe,null===le.CollatedOpen?le.CollatedOpen=pe:oe=!0),!((ne+=Z)-se>=1||Ge==_.length-1)){te+=Z;continue}se=Math.floor(ne),le.reset=!0,le[e]=le.CollatedClose,(he=le).cache={}}if(o||(We.p06(28),te+=We.H06(2,Z)),de||0===de){if(ie=he,fe=he.cache,We.e06(15),((me=We.A06(X,Ge))<a.cacheLeft||me>a.cacheRight||!fe[e])&&(ye=d.semiLog?d.height*(1-(Math.log(Math.max(de,0))/Math.LN10-d.logLow)/d.logShadow):(d.high-de)*d.multiplier,d.flipped?fe[R]=d.bottom-ye:fe[R]=d.top+ye),ve=E[Ge]=fe[R],P.lastTickOffset&&(null===re&&(re=this.currentQuote(e)||{}),ce.tick==re.tick&&(te+=P.lastTickOffset)),!q&&n){if(ce[e]&&ce[e][O]&&(ce=ce[e]),!(be=n(this,ce,Q))){te+=o?Z:Z/2;continue}Be(be)}q?(L.moveTo(te,ve),p&&A.push({coord:[te,ve],color:L.strokeStyle,pattern:u||[],width:L.lineWidth})):((l||o)&&(xe=D.slice(-We.A06(0,"1",We.p06(16)))[0],oe?Ue(te,xe,he):L.lineTo(te,xe),D.push(te,xe)),oe&&!o?Ue(te,ve,he):L[o?"moveTo":"lineTo"](te,ve)),Q&&(w.push({end:[te,ve],threshold:N}),ae=ce,!V||l||o||D.push(te,N)),D.push(te,ve),q=!1,Q=!1,te+=o?Z:Z/2,ue&&(te+=ue)}else ge=D.slice(-2),V&&!Q&&D.length&&D.push(ge[0],N),Q||w.push({start:ge,threshold:N,tick:ae}),Q=!0,te+=o?Z:Z/2,(l||o)&&D.length&&(E[Ge]=D.slice(-1)[0]),ue&&(te+=ue)}for(var Je in P.pixelCacheExpired=!1,Ce=null,(Se=B.right)&&(Ce=Se.transform),!q&&Se&&((G=I?Ce?Ce[e]:null:Se[e])&&(G[O]||0===G[O])&&(G=G[O]),De=this.pixelFromTick(Se.tick,P),Ae=this.pixelFromTransformedValue(G,a,d),Se.tick-_[_.length-1].tick>1&&(Q||(we=D.slice(-2),V&&D.length&&D.push(we[0],N),w.push({start:we,threshold:N,tick:_[_.length-1]})),Q=!0),!q&&n&&(ke=n(this,Se,Q))&&Be(ke),We.e06(1),Te=D.slice(-We.A06("2",0)),u&&u.length||((l||o)&&(L.lineTo(De,Te[1]),D.push(De,Te[1])),L[o?"moveTo":"lineTo"](De,Ae)),Q&&(w.push({end:[De,Ae],threshold:N}),!V||l||o||D.push(De,N)),D.push(De,Ae)),C)k.push(Je);if(r&&r.extendToEndOfLastBar?(Me=D.slice(-2),L.lineTo(Me[0]+Z,Me[1])):(l||o||this.extendLastTick||S)&&(Pe=D.slice(-2),D.length&&(_e=Pe[0],Le=Pe[1],S||l&&!1!==S?(_e=this.pixelFromTick(P.dataSet.length-1,P),(o||this.extendLastTick)&&(We.e06(28),_e+=We.H06(2,Z))):o?_e+=Z:this.extendLastTick&&(We.p06(28),_e+=We.H06(2,Z)),_e>Pe[0]&&(Ee=null,n&&(Ee=n(this,{},!0)),Ee&&Be(Ee),L.lineTo(_e,Le),Q&&V||D.push(_e,Le)))),g||(p&&D.length&&(L.beginPath(),r&&r.pattern&&L.setLineDash(r.pattern),i.plotSpline(D,p,L,A)),L.stroke()),!g&&r&&r.label&&ie&&("p","l","o","t",(He=ie[e])&&"object"==typeof He&&(He=He[O]),Fe=d.priceFormatter?d.priceFormatter(this,a,He,r.labelDecimalPlaces):this.formatYAxisPrice(He,a,r.labelDecimalPlaces),Oe=this.yaxisLabelStyle,d.yaxisLabelStyle&&(Oe=d.yaxisLabelStyle),Ie="noop"==Oe?L.strokeStyle:null,ze="noop"==Oe?"#FFFFFF":L.strokeStyle,this.yAxisLabels.push({src:"plot",args:[a,Fe,ie.cache[R],ze,Ie,L,d]})),Ne="object"==typeof c?c.color:c,t.isTransparent(Ne))for(var Ke=0;Ke<w.length;Ke+=2)if(Ve=w[Ke].start,Ke&&(Re=w[Ke-1].end),Re&&Ve[0]==Re[0]&&Ve[1]==Re[1]){if(L.beginPath(),je=L.lineWidth,n){if("object"==typeof(Ye=n(this,w[Ke].tick||{},!1))){We.p06(1);var $e=We.H06(4,2);We.p06(14);var et=We.H06(0,2,2);je=Ye.width*(m?$e:et),Ye=Ye.color}L.strokeStyle=L.fillStyle=Ye}L.lineWidth=je,L.arc(Ve[0],Ve[1],1,0,2*Math.PI),L.stroke(),L.fill()}this.endClip()}return L.globalAlpha=H,{colors:k,points:D,cache:E,gapAreas:w}},t.ChartEngine.prototype.drawMountainChart=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z;return"tra","n","spar","ent","C","los","e",r=this.chart.context,i,!1,!1,null,h=null,null,null,0,p=null,!1,null,m=null,!1,null,null,1,!1,!1,!1,(A=e.chart).dataSegment,w=A.lineStyle||{},i&&"object"==typeof i||(i={style:i}),n=i.style||"stx_mountain_chart",l=i.field||A.defaultPlotField||"Close",h=i.subField||A.defaultPlotField||"Close",(p=i.gapDisplayStyle)||!1===p||(p=i.gaps),p||!1===p||(p=A.gaplines),p||(p="transparent"),c=i.yAxis||e.yAxis,s=i.reverse||!1,u=i.tension,f=i.fillStyle,d=i.width||w.width,g=i.step,m=i.pattern||w.pattern,y=i.highlight,b=i.color||w.color,v=i.baseColor||w.baseColor,o=i.colored,x=i.opacity,S=i.extendToEndOfDataSet,C=i.isComparison,D=i.returnObject,k=this.canvasStyle(n),T=c.top,(isNaN(T)||isNaN(T/T))&&(T=0),M=b||(n&&k.backgroundColor?k.backgroundColor:this.defaultColor),P=v||(n&&k.color?k.color:this.containerColor),f?r.fillStyle=f:v||k.color?((_=r.createLinearGradient(0,T,0,c.bottom)).addColorStop(c.flipped?1:0,M),_.addColorStop(c.flipped?0:1,P),r.fillStyle=_):r.fillStyle=M,this.startClip(e.name),L=r.lineWidth,i.symbol||(h=null),i={skipProjections:!0,reverse:s,yAxis:c,gapDisplayStyle:p,step:g,highlight:y,extendToEndOfDataSet:S,isComparison:C},A.tension&&(i.tension=A.tension),(u||0===u)&&(i.tension=u),E=parseInt(k.paddingTop,10),F=b||k.borderTopColor,H=null,(o||F&&!t.isTransparent(F))&&E&&((O=this.scratchContext)||(I=r.canvas.cloneNode(!0),O=this.scratchContext=I.getContext("2d")),O.canvas.height=r.canvas.height,O.canvas.width=r.canvas.width,O.drawImage(r.canvas,0,0),t.clearCanvas(r.canvas,this)),t.extend(i,{panelName:e.name,direction:i.reverse?-1:1,band:l,subField:h,opacity:x}),!i.highlight&&this.highlightedDraggable&&(i.opacity*=.3),t.preparePeakValleyFill(this,i),(o||F&&!t.isTransparent(F))&&E&&(r.save(),W.p06(37),r.lineWidth+=W.H06(E,2),r.globalCompositeOperation="destination-out",r.globalAlpha=1,this.plotDataSegmentAsLine(l,e,i),r.globalCompositeOperation="destination-over",r.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),r.drawImage(this.scratchContext.canvas,0,0),r.restore()),r.strokeStyle=F,d?r.lineWidth=d:k.width&&parseInt(k.width,10)<=25?r.lineWidth=Math.max(1,t.stripPX(k.width)):r.lineWidth=1,m||(m=k.borderTopStyle),i.pattern=t.borderPatternToArray(r.lineWidth,m),z=a,p&&(z=this.getGapColorFunction(l,h,{color:F,pattern:i.pattern,width:r.lineWidth},p,a)),H=this.plotDataSegmentAsLine(l,e,i,z),r.lineWidth=L,this.endClip(),H.colors.length||H.colors.push(F),D?H:H.colors},t.ChartEngine.prototype.drawBaselineChart=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,{chart:P}=e,{field:_,id:L,yAxis:E}=i,{gaplines:F,defaultPlotField:H,lineStyle:O}=P,{display:I}=this.baselineHelper.get(this.getRendererFromSeries(L));if(a=this.getYAxisBaseline(E).actualLevel,r=[],_||(_=H),O||(O={}),(n=i.gapDisplayStyle)||!1===n||(n=i.gaps),null!==a&&!isNaN(a)){if("stx_baselin","e","stx_bas","eline","s","tx_basel","ine_u","p","m","ou","ntai","n",(s="mountain"==i.type)&&(r=this.drawMountainChart(e,{style:i.style,field:i.field,yAxis:E,gapDisplayStyle:n,colored:!0,tension:0})),o=this.pixelFromPrice(a,e,E),isNaN(o))return;for(var z in this.startClip(e.name),l=i.pattern||O.pattern,h=i.fill_color_up||this.getCanvasColor("stx_baseline_up"),c=i.fill_color_down||this.getCanvasColor("stx_baseline_down"),u=i.border_color_up||this.getCanvasColor("stx_baseline_up"),d=i.border_color_down||this.getCanvasColor("stx_baseline_down"),p=i.width||O.width||this.canvasStyle("stx_baseline_up").width,g=i.width||O.width||this.canvasStyle("stx_baseline_down").width,f=i.widthBaseline||O.width||t.stripPX(this.canvasStyle("stx_baseline").width),m=i.baselineOpacity||this.canvasStyle("stx_baseline").opacity,y={fill:h,edge:u,width:p},v={fill:c,edge:d,width:g},x={over:(b=i.yAxis.flipped)?v:y,under:b?y:v},S=!1,n||!1===n||(n=F),C=1,!i.highlight&&this.highlightedDraggable&&(C*=.3),x)"tran","spar","e","nt",D=parseInt(Math.max(1,t.stripPX(x[z].width)),10),i.highlight&&(D*=2),l=t.borderPatternToArray(D,l),A={panelName:e.name,band:_,threshold:a,color:s?"transparent":x[z].fill,direction:"over"==z?1:-1,edgeHighlight:x[z].edge,edgeParameters:{pattern:l,lineWidth:D+.1,opacity:C},gapDisplayStyle:n,yAxis:i.yAxis},E&&(A.threshold=this.priceFromPixel(this.pixelFromPrice(A.threshold,e,E),e,E)),r.push(x[z].edge),w=A.color,!s&&w&&"transparent"!=w&&(k=e.top,T=e.bottom,(M=P.context.createLinearGradient(0,"over"==z?k:T,0,o)).addColorStop(0,t.hexToRgba(t.colorToHex(w),60)),M.addColorStop(1,t.hexToRgba(t.colorToHex(w),10)),A.color=M,A.opacity=C),t.preparePeakValleyFill(this,P.dataSegment,A),F&&(F.fillMountain||this.drawLineChart(e,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:"solid",width:A.edgeParameters.lineWidth}}),F.color||(S=!0,F.color=this.defaultColor)),this.drawLineChart(e,null,null,{color:"transparent",width:A.edgeParameters.lineWidth}),S&&(F.color=null);I&&("do","t","t","ed","li","ne",this.plotLine(0,1,o,o,this.containerColor,"line",P.context,e,{lineWidth:"1.1"}),this.plotLine(0,1,o,o,this.getCanvasColor("stx_baseline"),"line",P.context,e,{pattern:"dotted",lineWidth:f||"2.1",opacity:m||.5*C})),this.endClip()}return{colors:r}},t.ChartEngine.prototype.plotLine=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E=W;if("number"==typeof arguments[0])for(var F in e={x0:arguments[0],x1:arguments[1],y0:arguments[2],y1:arguments[3],color:arguments[4],type:arguments[5],context:arguments[6],confineToPanel:arguments[7]},arguments[8])e[F]=arguments[8][F];if(e||(e={}),"none"!=e.pattern&&(i=e.x0,a=e.x1,r=e.y0,n=e.y1,s=e.color,o=e.type,l=e.context,h=e.confineToPanel,c=e.deferStroke,!0===h&&(h=this.chart.panel),null==l&&(l=this.chart.context),!(isNaN(i)||isNaN(a)||isNaN(r)||isNaN(n)))){u=0,d=this.chart.canvasHeight,p=0,g=this.right,h&&(d=h.yAxis.bottom,u=h.yAxis.top,p=h.left,g=h.right),"ray"==o&&(f=1e7,a<i&&(f=-1e7),y={x0:i,x1:a,y0:r,y1:n},a=f,n=m=t.yIntersection(y,f)),"line"!=o&&"horizontal"!=o&&"vertical"!=o||(E.e06(16),f=E.H06(0,"10000000"),v=-1e7,y={x0:i,x1:a,y0:r,y1:n},m=t.yIntersection(y,f),i=v,a=f,r=t.yIntersection(y,v),n=m),b=0,x=1,E.e06(1),S=E.H06(a,i),E.e06(1),C=E.A06(n,r);for(var H=0;H<4;H++){if(0===H&&(D=-S,E.e06(1),A=-E.H06(p,i)),1==H&&(D=S,E.p06(1),A=E.A06(g,i)),2==H&&(D=-C,E.e06(1),A=-E.A06(u,r)),3==H&&(D=C,E.e06(1),A=E.A06(d,r)),E.e06(28),w=E.A06(D,A),(n||0===n)&&0===D&&A<0)return!1;if(D<0){if(w>x)return!1;w>b&&(b=w)}else if(D>0){if(w<b)return!1;w<x&&(x=w)}}if(E.e06(138),k=E.A06(S,b,i),E.e06(138),T=E.A06(C,b,r),E.e06(138),M=E.H06(S,x,i),E.p06(138),P=E.A06(C,x,r),n||0===n||r||0===r){if(!n&&0!==n){if(P=y.y0<y.y1?d:u,k=y.x0,M=y.x0,y.x0>g)return!1;if(y.x0<p)return!1}}else{if(T=u,P=d,k=y.x0,M=y.x0,y.x0>g)return!1;if(y.x0<p)return!1}c||(l.save(),l.beginPath()),l.lineWidth=1.1,s&&"object"==typeof s?(l.strokeStyle=s.color,s.opacity?l.globalAlpha=s.opacity:l.globalAlpha=1,l.lineWidth=t.stripPX(s.width)):(_="a",_+="u",_+="t",_+="o",!s||s==_||t.isTransparent(s)?l.strokeStyle=this.defaultColor:l.strokeStyle=s),e.opacity&&(l.globalAlpha=e.opacity),e.lineWidth&&(l.lineWidth=e.lineWidth),e.globalCompositeOperation&&(l.globalCompositeOperation=e.globalCompositeOperation),L=t.borderPatternToArray(l.lineWidth,e.pattern),l.setLineDash(e.pattern?L:[]),l.moveTo(k,T),l.lineTo(M,P),c||(l.stroke(),l.restore())}},t.ChartEngine.prototype.rendererAction=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p;function g(){var i;W.V3D(),a||"underlay"!==t||this[i=Symbol.for("CIQ.watermark")]&&(this[i].draw(e),a=!0)}if(i="ren",i+="d",i+="e",i+="rerAction",a=!1,!this.runPrepend(i,arguments)){for(var f in r="ren",r+="der",r+="erActi",r+="on",e.seriesRenderers)n="y",n+="A",n+="xi",n+="s",s="m",s+="ai",s+="n",o="_main",o+="_se",o+="r",o+="ies",l="un",l+="derlay",h="u",h+="nde",h+="rlay",d=(u=(c=e.seriesRenderers[f]).params).panel,p=this.panels[d],u.overChart&&t==h||"_main_series"==u.name&&t==l||u.name!=o&&t==s||(u.overChart||"overlay"!=t)&&p&&p.chart===e&&(p.hidden||(t==n?c.adjustYAxis():(g.apply(this),c.draw(),c.cb&&c.cb(c.colors))));this.runAppend(r,arguments)}g.apply(this)},t.ChartEngine.prototype.drawSeries=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,g,f,m,y,v,b;if(W.V3D(),n="d",n+="rawSeries",!this.runPrepend("drawSeries",arguments)){for(var x in e.dataSegment,s=null,i||(i=e.series),i)if(l=(o=(s=i[x]).parameters).panel?this.panels[o.panel]:e.panel,h=o.color,o.width,c=o.field,l){if(u=o.yAxis=a||l.yAxis,h||(h=u.textStyle||this.defaultColor),"auto"==h&&(h=this.defaultColor),c||(c=e.defaultPlotField),d=o.subField||e.defaultPlotField||"Close",o._rawExtendToEndOfDataSet||!1===o._rawExtendToEndOfDataSet||(o._rawExtendToEndOfDataSet=o.extendToEndOfDataSet),e.animatingHorizontalScroll?o.extendToEndOfDataSet=!1:o.extendToEndOfDataSet=o._rawExtendToEndOfDataSet,p=o.colorFunction,(s.highlight||s.parameters.highlight)&&(o.highlight=!0),g={colors:[]},r){if(r.params.highlight&&(o.highlight=!0),o.hidden)continue;g=r.drawIndividualSeries(e,o)||g}else g="mountain"==o.type?this.drawMountainChart(l,t.extend({returnObject:!0},o),p):this.drawLineChart(l,o.style,p,t.extend({returnObject:!0},o));s.yValueCache=g.cache,W.e06(157);var S=W.H06(4,1,12,4);(f=e.dataSegment[e.dataSegment.length-S])&&(m=!o.skipTransform&&e.transformFunc&&u==e.panel.yAxis,f[c]||0===f[c]||(f=this.getPreviousBar(e,c,e.dataSegment.length-1)),m&&f&&f.transform&&(f=f.transform)),!1!==o.displayFloatingLabel&&this.mainSeriesRenderer!=r&&f&&!u.noDraw&&((y=f[c])&&(y=y[d]||0===y[d]?y[d]:y.iqPrevClose),v=u.priceFormatter?u.priceFormatter(this,l,y):this.formatYAxisPrice(y,l,null,u),this.yAxisLabels.push({src:"series",args:[l,v,this.pixelFromTransformedValue(y,l,u),t.hexToRgba(t.colorToHex(h),parseFloat(o.opacity)),null,null,u]})),e.legend&&o.useChartLegend&&(e.legend.colorMap||(e.legend.colorMap={}),(b=o.display)||(b=o.symbol),e.legend.colorMap[x]={color:g.colors,display:b,isBase:r==this.mainSeriesRenderer})}this.runAppend(n,arguments)}}},V=e=>{var t;W.V3D(),(t=e.CIQ).ChartEngine.prototype.scrollTo=function(e,t,i){var a,r;(a=this.swipe).end=!0,a.amplitude=a.target=(t-e.scroll)*this.layout.candleWidth,a.timeConstant=100,a.timestamp=Date.now(),a.scroll=e.scroll,a.chart=e,a.cb=i,r=this,requestAnimationFrame((function(){r.autoscroll()}))},t.ChartEngine.prototype.autoscroll=function(){var e,t,i,a;e=this,(t=this.swipe).amplitude&&(t.elapsed=Date.now()-t.timestamp,i=-t.amplitude*Math.exp(-t.elapsed/t.timeConstant),a=(t.target+i)/this.layout.candleWidth,t.chart.scroll=t.scroll+Math.round(a),this.draw(),this.updateChartAccessories(),i>.5||i<-.5?requestAnimationFrame((function(){e.autoscroll()})):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),t.cb&&t.cb()))}},R=e=>{var t,i,a,r;t=e.CIQ,i="boundary",a="line",r="border",W.V3D(),t.ChartEngine.prototype.drawXAxis=function(e,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_=W;if(" ","  ","t","i","ck",s=[e,n],!this.runPrepend("drawXAxis",s)&&n){var{lineBaseLevel:L}=t.ChartEngine.XAxis,{interval:E,timeUnit:F}=this.layout,{xAxis:H}=e,{displayGridLines:O,displayBorder:I,fitLeftToRight:z,minimumLabelWidth:N,noDraw:V,fitTight:R}=H;if(o=z||"tick"===E||"tick"===F,!V){l=this.getBackgroundCanvas().context,this.canvasFont("stx_xaxis",l),h=this.getCanvasFontSize("stx_xaxis"),l.textAlign="center",l.textBaseline="middle",_.V3D(),c=!o&&this.xaxisHeight>3*h,!1,u=new Map,p=l.measureText("   ").width;for(var j=0;j<n.length;j++){d=n[j],void 0===(g=u.get(d.text))&&(g=l.measureText(d.text).width,u.set(d.text,g)),_.p06(15),f=Math.max(_.A06(g,p),N),_.e06(1);var Y=_.A06(14,13);d.hz=Math.floor(d.hz+this.micropixels)-"0.5"*Y,_.e06(85);var U=_.H06(0,7,10,19);d.left=d.hz-f/U,_.e06(1);var B=_.A06(30,28);d.right=d.hz+f/B,_.p06(6);var X=_.H06(11,9);d.unpaddedRight=d.hz+g/X}if(m=!0===this.xAxisAsFooter?this.chart.canvasHeight:e.panel.bottom,_.p06(159),y=this.whichPanel(_.A06(m,"1",0))){for(var q in this.adjustYAxisHeightOffset(y,y.yAxis),v=I||null===I,!0===this.axisBorders&&(v=!0),!1===this.axisBorders&&(v=!1),b=m-this.xaxisHeight+h,v&&(_.e06(37),b+=_.A06(1,"3")),x=!0,S=function(e){var t,r,n,s,l,h,u,d,p;for(e.sort(((e,t)=>{if(e.level<t.level)return-1;if(e.level>t.level)return 1;for(var i=1;1564930076!==_.Q9z(i.toString(),i.toString().length,27442);i++)return e.hz>t.hz?-5:e.hz<t.hz?7:6;return-1345225155!==_.v9z(2..toString(),2..toString().length,47e3)?e.hz<t.hz?-1:e.hz>t.hz?1:0:void 0})),r=Number.MAX_SAFE_INTEGER,n={},s={},t=0;t<e.length&&!((l=e[t]).level>r);t++){document.body.classList.contains("sharing")&&(l.left<=y.left||l.unpaddedRight>=y.right)&&(l.suppress=!0),h=Math.floor(l.left),u=Math.ceil(l[R?"unpaddedRight":"right"]);for(var g=h;g<=u;g++){if((d=n[g]||{}).level<=l.level)if(d.alwaysAsBoundary&&d.level<r&&!l.alwaysAsBoundary||d.grid===i&&l.grid===a||o){if("l","ef","t",d.left<h&&d[c?"hz":"right"]>=h||d.left>h&&d[c?"hz":"left"]<=u){l.suppress=!0;break}}else if(l.level){_.e06(158);var f=_.A06(11,6,10,20,131);r=l.level-f,delete s[l.level];break}n[g]=l,g===u&&(s[l.level]||(s[l.level]=0),s[l.level]++)}}return(p=Object.entries(s).reverse()).length>1&&!o&&p[0][0]>=L&&p[1][0]<L&&1===p[0][1]&&(p[1][1]>1||p.length>2)&&p.shift(),p.length&&(r=Number(p[0][0])),r}(n),e.xAxis.maxLevelToDisplay=S,_.e06(160),C=_.A06(L,S),this.panels)if("s","tr","o","ke",!(D=this.panels[q]).hidden&&!1!==D.shareChartXAxis&&(_.p06(111),A=_.A06(y,D),w=D.yAxis)){l.save(),l.beginPath(),l.rect(D.left,D.top+(x?0:1),D.width,D.height-1),l.clip(),x=!1,(k=new t.Plotter).newSeries(a,"stroke",this.canvasStyle("stx_grid")),k.newSeries(i,"stroke",this.canvasStyle("stx_grid_dark")),k.newSeries(r,"stroke",this.canvasStyle("stx_grid_border"));for(var Q=0;Q<n.length&&!((d=n[Q]).level>S);Q++)d.suppress||Math.floor(d.left)<=D.right&&(T=c&&d.grid===i&&(d.alwaysAsBoundary&&d.level<S||C),Math.floor(d.hz)>D.left&&(O&&(k.moveTo(d.grid,d.hz,w.top),k.lineTo(d.grid,d.hz,w.bottom)),A&&v&&(k.moveTo(r,d.hz,w.bottom+.5),k.lineTo(r,d.hz,w.bottom+6),T&&k.dashedLineTo(r,d.hz,w.bottom+6+h+3,[1,3]))),A&&d.right>D.left&&(this.canvasColor(d.grid==i&&C||d.alwaysAsBoundary&&d.level<S?"stx_xaxis_dark":"stx_xaxis",l),!C&&d.boundaryOnlyText&&(d.text=d.boundaryOnlyText),l.fillText(d.text,d.hz,b+(T?h+3:0))));v&&(M=Math.round(w.bottom)+.5,P=Math.round(D.right)+.5,k.moveTo(r,D.left,M),k.lineTo(r,P,M)),k.draw(l),l.restore()}l.textAlign="left",this.runAppend("drawXAxis",s)}}}},t.ChartEngine.prototype.createSpacedDateXAxis=function(e){var r,n,s,o,l,h,c,u,d,p,g,f,m,y;W.X3D(),e||(e=this.chart);var{lineBaseLevel:v}=t.ChartEngine.XAxis,{dataSegment:b,lineApproximation:x,market:S,maxTicks:C,xaxis:D,xAxis:A}=e,{candleWidth:w,interval:k,timeUnit:T}=this.layout;D.length=0;for(var M=0;M<C;M++){if((n=b[M])&&M&&!D.length){S&&(r=this.standardMarketIterator(n.DT,A.adjustTimeZone?this.displayZone:null));for(var P=M;P>0;P--)s={},!r||x&&w<1||(s.DT=r.previous()),D.unshift(s);r=null}if(n||M&&D.length){if(o=n&&n.DT,n&&n.displayDate&&A.adjustTimeZone&&(o=n.displayDate),!o){if(!S)continue;if("ti","ck","tick"==k&&!A.futureTicksInterval)break;if(x&&w<1)break;if(!A.futureTicks)break;r||(r=this.standardMarketIterator(b[M-1].DT,A.adjustTimeZone?this.displayZone:null)),o=r.next()}l={DT:o,data:null},M<b.length&&(l.data=n),D.push(l)}}h=[],e.tzOffsetCache||(e.tzOffsetCache=new Map),e.tzOffsetCache.size>2e4&&e.tzOffsetCache.clear(),c=e.tzOffsetCache,d=((u=S&&S.market_def||{}).normal_daily_open||"00:00").split(":"),W.e06(161);var _=W.A06(1,4,3,1,53);return p=Number(d[0])*_,u.hour_aligned||(p+=Number(d[1])),g=r=>{var n,s,o,l,u,d;n="year"===r||k!==r&&T!==r?i:a,s=t.ChartEngine.XAxis.setPropertiesForInterval[r],o=e.left,W.X3D(),D.forEach(((e,i)=>{var g,f,m,y,b,x,C=W;if("undefine","d",g=e.data&&e.data.candleWidth||w,f=e.DT)switch("ti","c","k","m","o","nt","h","y","e","a","r",r){case"year":m=f.getFullYear();break;case"month":m=f.getMonth();break;case"week":case"day":m=f.getDate();break;case"minute":C.e06(52);var D=C.H06(10,8,11,360,3108);m=f.getHours()*D+f.getMinutes();break;case"second":m=f.getSeconds();break;case"millisecond":case"tick":m=f.getMilliseconds()}if(n===a&&(C.e06(28),o+=C.H06(2,g)),void 0!==m&&(n===a||l!==m)){if("m","in","ut","e",y=new t.ChartEngine.XAxisLabel({hz:o,grid:n,raw:m}),"minute"===r){if((!u||u.getDate()!==f.getDate())&&(u=f,x=`${+f}|${b=S&&S.market_tz}|${this.displayZone}`,void 0===(d=c.get(x)))){C.p06(15);var A=C.H06(2e4,4e4);d=(t.convertTimeZone(f,this.displayZone,b).getTime()-f)/A,c.set(x,d)}C.p06(1),y.marketOpenOffset=C.H06(d,p)}s&&s(y,e,S,this),y.grid==a&&y.level<v&&(y.level+=v),(i||n===a)&&h.push(y),l=m}n===a?(C.e06(28),o+=C.H06(2,g)):o+=g}))},(y=(m=["year","month","week","month","day","minute","second","millisecond","tick"]).indexOf(f=T||k))>0&&("t","i","c","k","tick"!==f&&g(m[y-1]),g(m[y])),h}},j=e=>{var t;(t=e.CIQ).ChartEngine.prototype.createYAxis=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S=W;if(!this.runPrepend("createYAxis",arguments)){if(a=e.chart,r=e.name==a.name,i||(i={}),i.noChange=!1,n=i.yAxis?i.yAxis:e.yAxis,t.ChartEngine.enableCaching&&n.high==e.cacheHigh&&n.low==e.cacheLow){S.e06(13);var C=S.A06(4,6,11);s=a.dataSet.length-a.scroll-C,S.p06(15);var D=S.H06(0,1);o=s+a.maxTicks+D,e.cacheLeft=s,e.cacheRight=o,i.noChange=!0}else e.cacheLeft=1e6,e.cacheRight=-1,e.cacheHigh=n.high,e.cacheLow=n.low;if(l=a.xAxis.idealTickSizePixels||a.xAxis.autoComputedTickSizePixels,n.goldenRatioYAxis&&n.idealTickSizePixels!=l/1.618&&(i.noChange=!1),!i.noChange){if(this.adjustYAxisHeightOffset(e,n),c=n.height=n.bottom-n.top,u=(n.high-n.low)/(c-n.zoom),!n.semiLog)if(i.ground)n.high=n.high+n.zoom*u;else{n.high=n.high+(n.zoom/2+n.scroll)*u,S.e06(136);var A=S.H06(0,0,16,8);n.low=n.low-(n.zoom/A-n.scroll)*u}(n.min||0===n.min)&&(n.low=n.min),(n.max||0===n.max)&&(n.high=n.max),n.shadow=n.high-n.low,!n.semiLog||this.activeDrawing&&"projection"==this.activeDrawing.name||(d=function(){var e;n.logHigh=Math.log(n.high)/Math.LN10,e=Math.max(n.low,1e-9),n.logLow=Math.log(e)/Math.LN10,n.low<=0&&(n.logLow=0),n.logShadow=n.logHigh-n.logLow},n.semiLog&&d(),p=n.height/(n.height-n.zoom),n.flipped?(n.high=this.transformedPriceFromPixel(n.bottom+p*(n.zoom/2+n.scroll),e,n),n.low=this.transformedPriceFromPixel(n.top-p*(n.zoom/2-n.scroll),e,n)):(n.high=this.transformedPriceFromPixel(n.top-p*(n.zoom/2+n.scroll),e,n),n.low=this.transformedPriceFromPixel(n.bottom+p*(n.zoom/2-n.scroll),e,n)),n.shadow=n.high-n.low,n.semiLog&&d()),n.goldenRatioYAxis&&r&&n==e.yAxis?(S.e06(28),n.idealTickSizePixels=S.A06(1.618,l),0===n.idealTickSizePixels&&(g=this.getCanvasFontSize("stx_yaxis"),S.p06(37),n.idealTickSizePixels=S.H06(5,g))):n.idealTickSizePixels||(g=this.getCanvasFontSize("stx_yaxis"),r?(S.p06(37),n.idealTickSizePixels=S.A06(5,g)):(S.p06(37),n.idealTickSizePixels=S.H06(2,g))),f=Math.round(c/n.idealTickSizePixels),h=i.range?i.range[1]-i.range[0]:n.shadow,S.p06(28),n.priceTick=Math.floor(S.A06(f,h)),m=1;for(var w=0;w<10&&!(n.priceTick>0);w++)m*=10,n.priceTick=Math.floor(h/f*m)/m;if(10==w&&(S.p06(37),n.priceTick=S.A06(1,"0.00000001")),n.priceTick=Math.round(h/f*m)/m,y=Math.round(h/n.priceTick),i.range&&y<h&&!n.noEvenDivisorTicks){for(;y>=1&&h%y!=0;)y--;S.e06(28),n.priceTick=S.H06(y,h)}if(n.minimumPriceTick){v=n.minimumPriceTick,g=this.getCanvasFontSize("stx_yaxis");for(var k=0;k<100&&(S.p06(28),c/S.A06(v,h)<2*g);k++)v+=n.minimumPriceTick;k<100&&(n.priceTick=v)}}if((n.priceTick<=0||n.priceTick===1/0)&&(n.priceTick=1),n.multiplier=n.height/n.shadow,n.multiplier==1/0&&(S.e06(1),n.multiplier=S.H06("0",0)),n.decimalPlaces||0===n.decimalPlaces)n.printDecimalPlaces=n.decimalPlaces;else if(r){S.p06(16),b=S.A06(0,"0");for(var T=0;T<e.yAxis.shadowBreaks.length;T++)x=e.yAxis.shadowBreaks[T],e.yAxis.shadow<x[0]&&(b=x[1]);n.printDecimalPlaces=b}else n.printDecimalPlaces=null;this.runAppend("createYAxis",arguments)}},t.ChartEngine.prototype.drawYAxis=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y,U=W;if(i||(i={}),a=i.yAxis?i.yAxis:e.yAxis,!e.hidden&&!a.noDraw&&a.width){if(!t.Comparison||a.priceFormatter!=t.Comparison.priceFormat){r=-633474010,n=1274975230,U.e06(37),s=U.H06(1,"2");for(var B=1;U.v9z(B.toString(),B.toString().length,52606)!==r;B++)o=a.fractional,s+=2;U.Q9z(s.toString(),s.toString().length,92202)!==n&&(o=a.fractional),o?(a.originalPriceFormatter||(a.originalPriceFormatter={func:a.priceFormatter}),o.resolution||(o.resolution=a.minimumPrice),o.formatter||(o.formatter="'"),a.priceFormatter||(a.priceFormatter=function(e,t,i){var a,r,n,s;if(o){a="",i<0&&(a="-",i=Math.abs(i)),r=Math.floor(Math.round(i/o.resolution)*o.resolution),U.X3D(),n=Math.round((i-r)/o.resolution),s=Math.floor(n),-327079601,644512196,2;for(var l=1;-327079601!==U.Q9z(l.toString(),l.toString().length,88274);l++){U.p06(27);var h=U.A06(16,14,6,2);U.p06(1);var c=U.A06(4613,20);U.e06(31);U.H06(657,9,19,5938,657);return a+r+o.formatter+(s<h?943.77!=c&&"0":"")+s+(n-s>=.5?"+":"")}if(644512196!==U.v9z(2..toString(),2..toString().length,51185)){U.e06(162);var u=U.A06(76,6,76,77,4);U.e06(1);U.A06(729633,13);U.e06(30);var d=U.H06(2,6064,7,1102);U.p06(163);U.A06(2,16637,485,18,19);U.e06(15);var p=U.A06(59601,715215);U.p06(6);U.H06(19,18);U.p06(7);var g=U.H06(419,3,21);return(a-r)%o.formatter%(s<=u&&d!==p||"0")/s*(n+s<g?"0":"")}}})):a.originalPriceFormatter&&(a.priceFormatter=a.originalPriceFormatter.func,a.originalPriceFormatter=null)}if(l=this.colorOrStyle(a.textStyle||"stx_yaxis"),c=0,(h=this.highlightedDraggable)&&this.yaxisMatches(h,a)?c=.15:a.highlight&&(c=.1),c&&(u=l.constructor==String?l:l.color,a.setBackground(this,{color:u,opacity:c})),U.V3D(),a.pretty)return this.drawYAxisPretty(e,i);if(!this.runPrepend("drawYAxis",arguments)){if(!i.noDraw&&!a.noDraw){if(!(d=a.yAxisPlotter)||!i.noChange){if(p="st",p+="x_grid_bor",p+="der",g="st",g+="ro",g+="k",g+="e",f="s",f+="tr",f+="o",f+="ke",d=a.yAxisPlotter=new t.Plotter,m=e.chart,y=e.name==m.name&&a.name===e.yAxis.name,!a.priceTick)return;if(v=a.shadow,(b=i.range)&&(v=b[1]-b[0]),x=v/a.priceTick,x=Math.round(x),a.semiLog&&(S=Math.log(this.valueFromPixel(a.flipped?a.top:a.bottom,e))/Math.LN10,C=(a.logHigh-a.logLow)/x),d.newSeries("grid",f,this.canvasStyle("stx_grid")),d.newSeries("text","fill",l),d.newSeries("border",g,this.canvasStyle(p)),U.e06(82),D=U.H06(2114407840,"0"),A=b?b[1]:a.high,w=b?b[0]:a.low,k=null===a.displayBorder?m.panel.yAxis.displayBorder:a.displayBorder,!1===this.axisBorders&&(k=!1),!0===this.axisBorders&&(k=!0),P=(M=m.dynamicYAxis)?a.width:NaN,T="left"==(_=this.getYAxisCurrentPosition(a,e))?a.left+a.width:a.left,L=Math.round(T)+.5,E=k?3:0,"left"==_&&(E=k?-3:0),y)if(a.shadow<1){U.p06(84);var X=U.H06(1,260,17,1,15);U.p06(164);var q=U.A06(7,2,5,12,13);D=(parseInt(w/a.priceTick,X)+q)*a.priceTick-w}else D=a.priceTick-Math.round(w%a.priceTick*e.chart.roundit)/e.chart.roundit;else D=A%a.priceTick;F=this.getCanvasFontSize("stx_yaxis");for(var Q=0;Q<x;Q++)a.semiLog?(U.e06(138),O=U.H06(C,Q,S),H=Math.pow(10,O)):H=y?w+Q*a.priceTick+D:A-Q*a.priceTick-D,I=this.pixelFromTransformedValue(H,e,a),(z=Math.round(I)+.5)+F/2>e.bottom||z-F/2<e.top||Math.abs(z-a.bottom)<1||(a.flipped&&(z=a.top+a.bottom-z),a.displayGridLines&&(d.moveTo("grid",e.left+1,z),d.lineTo("grid",e.right-1,z)),k&&(U.e06(1),d.moveTo("border",U.A06(L,.5),z),U.e06(15),d.lineTo("border",U.A06(L,E),z)),H=a.priceFormatter?a.priceFormatter(this,e,H):this.formatYAxisPrice(H,e,null,a),N=a.textBackground?this.containerColor:null,V=3,U.e06(50),R=U.A06(E,T,V),"left"==_?(R=a.left+V,!1!==a.justifyRight&&(R=a.left+a.width+E-V)):a.justifyRight&&(R=T+a.width),d.addText("text",H,R,z,N,null,F),M&&(P=Math.max(P,m.context.measureText(H).width+Math.abs(E)+V)));if(k&&(j="b",j+="o",j+="r",j+="der",Y=Math.round(a.bottom)+.5,d.moveTo("border",L,a.top),d.lineTo("border",L,Y),d.draw(this.getBackgroundCanvas(m).context,j)),M&&P>a.width)throw a._dynamicWidth=P,this.calculateYAxisPositions(),new Error("reboot draw");if(!M&&a._dynamicWidth)throw this.resetDynamicYAxis({chartName:m.name}),new Error("reboot draw")}a==e.yAxis&&this.plotYAxisGrid(e)}this.runAppend("drawYAxis",arguments)}}},t.ChartEngine.prototype.drawYAxisPretty=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y,U,B,X,q,Q,Z,G,J,K,$=W;if(a="drawYA",a+="xis",!this.runPrepend("drawYAxis",arguments)&&(i||(i={}),r=i.yAxis||e.yAxis,!e.hidden&&!r.noDraw&&r.width)){if(!i.noDraw){if(!(n=r.yAxisPlotter)||!i.noChange){if(s="l",s+="e",s+="f",s+="t",o="b",o+="order",l="st",l+="x",l+="_",l+="grid",n=r.yAxisPlotter=new t.Plotter,h=e.chart,!r.priceTick)return;if(isNaN(r.high)||isNaN(r.low))return;if(c=r.shadow,i.range){$.p06(1);var ee=$.A06(15,14);c=i.range[ee]-i.range[0]}u=(r.height-(i.range?r.zoom:0))/r.idealTickSizePixels,u=Math.round(u),d=r.textStyle||"stx_yaxis",n.newSeries("grid","stroke",this.canvasStyle(l)),n.newSeries("text","fill",this.colorOrStyle(d)),n.newSeries(o,"stroke",this.canvasStyle("stx_grid_border")),g=(p=i.range)?p[1]:r.high,f=p?p[0]:r.low,m=null===r.displayBorder?h.panel.yAxis.displayBorder:r.displayBorder,!1===this.axisBorders&&(m=!1),!0===this.axisBorders&&(m=!0),b=(v=h.dynamicYAxis)?r.width:NaN,y="left"==(x=this.getYAxisCurrentPosition(r,e))?r.left+r.width:r.left,S=Math.round(y)+.5,C=m?3:0,x==s&&(C=m?-3:0),D=this.getCanvasFontSize("stx_yaxis"),w=(A=r.increments).length,k=0,$.p06(57),T=$.A06("1",2147483647),M=0,$.e06(82),P=$.A06(98818304,"0"),_=0,L=Number.MAX_VALUE;for(var te=0;te<100;te++){$.p06(165);var ie=$.A06(13,22,5,5,19);if(M=A[k]*Math.pow(ie,_),$.e06(28),T=Math.floor($.A06(M,c)),$.p06(1),(E=Math.abs($.A06(u,T)))>L)break;if(L=E,T==u){P=M;break}T>u?++k>=w&&(k=0,_++):--k<0&&($.p06(1),k=$.A06(w,1),_--),P=M}if(F=Math.ceil(f/P)*P,H=0,r.bottom-this.pixelFromTransformedValue(F,e,r)>r.idealTickSizePixels&&r.semiLog&&r.prettySemiLog&&g-f>10){for(O=Math.ceil(f),I=0;F-O>=1e4&&I<=15;)F/=10,O/=10,I++;for(F=Math.ceil(F),O=Math.ceil(O);O<F&&F%O!=0;++O);F*=Math.pow(10,I),(O*=Math.pow(10,I))<F&&(F===P&&(P=O,H=O),F=O)}if(r.height>r.zoom){z="stx_y",z+="axis",N=0,V=Number.MAX_VALUE,h.context.save(),this.canvasFont(z,h.context),$.e06(136);var ae=$.H06(0,2,8,2);R=r.shadow/P+ae;for(var re=0;re<R&&($.e06(138),!((j=$.A06(P,N,F))>g));re++)if(P+=H,N++,V-(Y=this.pixelFromTransformedValue(j,e,r))<D+1&&H>0){V=Number.MAX_VALUE,P=H,H*=2,re=N=0,$.e06(166);var ne=$.H06(1,2,6,7);R=r.shadow/P+ne,n.reset()}else if(V=Y,!((U=Math.round(Y)+.5)+D/2>r.bottom||U-D/2<r.top||Math.abs(U-r.bottom)<1)){if(r.displayGridLines&&(n.moveTo("grid",e.left+1,U),n.lineTo("grid",e.right-1,U)),m&&(B="bo",B+="rder",$.e06(1),n.moveTo("border",$.H06(S,.5),U),$.e06(15),n.lineTo(B,$.A06(S,C),U)),j=r.priceFormatter?r.priceFormatter(this,e,j):this.formatYAxisPrice(j,e,null,r),X=r.textBackground?this.containerColor:null,q=Q=3,$.e06(50),Z=$.A06(C,y,q),"left"==x){$.p06(167);var se=$.H06(19,1,0,12,10);Z=r.left+se,!1!==r.justifyRight&&(Z=r.left+r.width+C-q)}else r.justifyRight&&(Z=y+r.width-Q);n.addText("text",j,Z,U,X,null,D),v&&($.e06(15),G=$.H06(j,""),b=Math.max(b,h.context.measureText(G).width+Math.abs(C)+q))}h.context.restore(),re>=R&&($.p06(15),console.log($.A06("drawYAxisPretty: assertion error. zz reached ",R)))}if(m&&(J="b",J+="o",J+="rd",J+="er",K=Math.round(r.bottom)+.5,n.moveTo("border",S,r.top),n.lineTo(J,S,K),n.draw(this.getBackgroundCanvas(h).context,"border")),v&&b>r.width)throw r._dynamicWidth=b,this.calculateYAxisPositions(),new Error("reboot draw");if(!v&&r._dynamicWidth)throw this.resetDynamicYAxis({chartName:h.name}),new Error("reboot draw")}r==e.yAxis&&this.plotYAxisGrid(e)}this.runAppend(a,arguments)}}},n(Y={}),s(),o(Y),l(Y),h(Y),c(Y),u(Y),d(Y),p(Y),g(Y),f(Y),m(Y),y(Y),v(Y),b(),x(Y),S(Y),C(Y),D(Y),A(Y),w(Y),k(Y),T(Y),M(Y),P(Y),_(Y),L(Y),E(Y),F(Y),H(Y),O(Y),I(Y),z(Y),N(Y),V(Y),R(Y),j(Y);var{CIQ:U,SplinePlotter:B,timezoneJS:X,$$:q,$$$:Q}=Y},266:(e,t,i)=>{"use strict";i.d(t,{r:()=>n,rt:()=>s,VO:()=>o,i3:()=>l,H:()=>h,ag:()=>c,Tl:()=>u,PP:()=>d,mD:()=>p,tb:()=>g,hA:()=>f,Kn:()=>m,ac:()=>y,BN:()=>v,yP:()=>b,tO:()=>x,$L:()=>S,l0:()=>C,rS:()=>D,Dg:()=>A,Fq:()=>w,aN:()=>k,e4:()=>T,yN:()=>M,qe:()=>P,KY:()=>_,TO:()=>L,Pz:()=>E.Pz});var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E=i(73);function F(){}F[301958]=function(){for(var e=2;9!==e;)switch(e){case 2:e="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 3:throw"";case 4:i="undefined"==typeof XiKLV?3:9;break;case 2:Object.defineProperty(Object.prototype,"CiLKC",{get:function(){for(;;)return this},configurable:!0}),(t=CiLKC).XiKLV=t,i=4;break;case 9:delete t.XiKLV,delete Object.prototype.CiLKC,i=6}}catch(e){t=window}return t}}(),F[454957]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function i(e,t,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[3]="defi",l[6]=4,l[6]=2;try{for(var s=2;8!==s;)switch(s){case 4:l[9].value=l[4][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[8]=l[3],l[8]+=l[1],l[8]+=l[7],l[0][0].Object[l[8]](l[4],l[0][4],l[9]),o=3}}catch(e){}l[4][l[0][4]]=l[9].value,s=8;break;case 1:l[2]=(0,l[0][1])(l[0][0]),l[4]=[l[6],l[2].prototype][l[0][3]],s=4;break;case 2:l[9]={},s=1}}catch(e){}n=6;break;case 2:var l=[arguments];l[1]="",l[7]="ty",l[1]="neProper",n=3}}for(var a=2;12!==a;)switch(a){case 14:var r=function(e,t,a,r){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];i(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=13;break;case 13:r(t,"charCodeAt",n[4],n[8]),a=12;break;case 3:n[4]=4,n[4]=1,n[8]=n[3],n[8]+=n[1],a=6;break;case 2:var n=[arguments];n[1]="j",n[3]="",n[3]="h6",a=3;break;case 6:n[8]+=n[1],a=14}}(F[301958]),F[479884]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}for(var a=2;18!==a;)switch(a){case 2:var r=[arguments];r[7]="4",r[9]="ss",r[1]="",a=3;break;case 3:r[6]="V",r[1]="v",r[5]=1,r[8]=r[1],a=6;break;case 6:r[8]+=r[7],r[8]+=r[9],r[3]=r[6],r[3]+=r[7],a=11;break;case 11:r[3]+=r[9],a=10;break;case 20:n(t,"replace",r[5],r[3]),a=19;break;case 10:var n=function(e,t,i,a){for(var n=2;5!==n;)switch(n){case 2:var o=[arguments];s(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),n=5}};a=20;break;case 19:n(i,"map",r[5],r[8]),a=18}function s(e,t,i,a,r){for(var n=2;6!==n;)switch(n){case 2:var s=[arguments];s[2]="y",s[6]="nePropert",s[8]="",s[8]="defi",n=9;break;case 9:s[1]=5,s[1]=2;try{for(var o=2;8!==o;)switch(o){case 2:s[5]={},s[4]=(0,s[0][1])(s[0][0]),s[7]=[s[1],s[4].prototype][s[0][3]],s[5].value=s[7][s[0][2]],o=3;break;case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[9]=s[8],s[9]+=s[6],l=5;break;case 5:s[9]+=s[2],s[0][0].Object[s[9]](s[7],s[0][4],s[5]),l=3}}catch(e){}o=9;break;case 9:s[7][s[0][4]]=s[5].value,o=8}}catch(e){}n=6}}}(F[301958]),F[85052]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}function i(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].RegExp}}function a(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}for(var r=2;76!==r;)switch(r){case 46:s[89]+=s[5],s[90]=s[4],s[90]+=s[9],s[90]+=s[8],r=63;break;case 60:var n=function(e,t,i,a){for(var r=2;5!==r;)switch(r){case 2:var n=[arguments];l(s[0][0],n[0][0],n[0][1],n[0][2],n[0][3]),r=5}};r=59;break;case 77:n(o,"apply",s[67],s[27]),r=76;break;case 15:s[19]="t",s[72]="",s[72]="",s[72]="_abstrac",r=24;break;case 35:s[58]="m",s[21]="1O",s[67]=1,s[33]=8,s[33]=0,s[27]=s[58],r=29;break;case 11:s[9]="1",s[8]="OO",s[20]="",s[20]="S",s[62]="_op",s[19]="",s[19]="",r=15;break;case 57:n(t,s[89],s[33],s[81]),r=56;break;case 29:s[27]+=s[21],s[27]+=s[84],s[39]=s[38],s[39]+=s[84],s[39]+=s[84],s[47]=s[73],r=40;break;case 6:s[6]="",s[6]="timize",s[9]="",s[3]="__r",r=11;break;case 63:s[57]=s[7],s[57]+=s[84],s[57]+=s[84],r=60;break;case 50:s[81]+=s[84],s[81]+=s[84],s[89]=s[3],s[89]+=s[2],r=46;break;case 56:n(t,s[99],s[33],s[79]),r=55;break;case 59:n(a,"push",s[67],s[57]),r=58;break;case 3:s[4]="c",s[1]="s1",s[7]="o1",s[5]="ual",r=6;break;case 40:s[47]+=s[72],s[47]+=s[19],s[79]=s[20],s[79]+=s[9],s[79]+=s[8],r=54;break;case 24:s[73]="_",s[84]="",s[84]="O",s[38]="l1",r=35;break;case 2:var s=[arguments];s[2]="",s[2]="esid",s[1]="",r=3;break;case 54:s[99]=s[73],s[99]+=s[62],s[99]+=s[6],s[81]=s[1],r=50;break;case 55:n(t,s[47],s[33],s[39]),r=77;break;case 58:n(i,"test",s[67],s[90]),r=57}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Function}}function l(e,t,i,a,r){for(var n=2;7!==n;)switch(n){case 3:l[5]="",l[5]="defineProp";try{for(var s=2;8!==s;)switch(s){case 2:l[4]={},l[1]=(0,l[0][1])(l[0][0]),l[8]=[l[1],l[1].prototype][l[0][3]],l[4].value=l[8][l[0][2]],s=3;break;case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[2]=l[5],l[2]+=l[6],l[2]+=l[7],l[0][0].Object[l[2]](l[8],l[0][4],l[4]),o=3}}catch(e){}s=9;break;case 9:l[8][l[0][4]]=l[4].value,s=8}}catch(e){}n=7;break;case 2:var l=[arguments];l[7]="",l[7]="ty",l[6]="er",n=3}}}(F[301958]),F.v0o=function(){return"function"==typeof F[423973].U6U?F[423973].U6U.apply(F[423973],arguments):F[423973].U6U},F.V0f=function(){return"function"==typeof F[583721].D7U?F[583721].D7U.apply(F[583721],arguments):F[583721].D7U},F.i4o=function(){return"function"==typeof F[553935].k4o?F[553935].k4o.apply(F[553935],arguments):F[553935].k4o},F[553935]={k4o:function(){var e,t=arguments;switch(a){case 98:e=t[1]*t[0]/t[2];break;case 100:e=(t[2]-t[3])/t[1]+t[0]+t[4];break;case 17:e=t[2]*t[1]-t[0];break;case 132:e=-t[4]/t[2]/t[1]+t[0]-t[3];break;case 134:e=(t[4]/t[2]-t[0])/t[3]+t[1];break;case 110:e=t[2]*t[0]/(t[3]<<t[1]);break;case 4:e=t[3]-t[1]/t[2]+t[0];break;case 50:e=t[0]+t[2]+(t[3]>>t[1])+t[4];break;case 81:e=t[3]|t[1]|t[2]|t[0];break;case 34:e=t[3]-t[0]-t[4]+t[1]+t[2];break;case 114:e=t[2]+t[1]+t[3]-t[0]-t[4];break;case 32:e=t[1]+(t[0]|t[2]);break;case 80:e=t[0]<=t[1];break;case 41:e=t[2]-t[3]/(t[1]&t[0]);break;case 133:e=t[1]/t[2]/t[0];break;case 74:e=t[1]%t[0];break;case 95:e=t[2]*t[3]-t[0]+t[1];break;case 94:e=(t[0]<<t[4])*t[1]/(t[3]+t[2]);break;case 106:e=(t[3]+t[4]-t[1])*t[0]+t[2];break;case 97:e=t[1]*(t[0]+t[3]/t[2]);break;case 56:e=t[1]/t[0]+t[2];break;case 2:e=t[1]*t[0];break;case 139:e=t[4]*(t[3]/t[0]-t[1])+t[2];break;case 37:e=t[1]+t[0]/t[2];break;case 66:e=t[0]*t[3]+t[1]-t[4]-t[2];break;case 136:e=(t[4]-t[2])*(t[0]-t[6])+(t[3]-t[5])*(t[1]-t[7]);break;case 125:e=t[0]*((t[3]-t[2])/t[4]+t[1]);break;case 62:e=(t[2]-t[0])*t[3]-t[1];break;case 60:e=t[0]^t[1];break;case 51:e=t[0]/t[3]+t[2]-t[1];break;case 65:e=t[1]+t[3]-t[0]-t[2];break;case 28:e=t[2]+t[0]+t[1];break;case 77:e=t[1]>=t[0];break;case 84:e=t[1]===t[0];break;case 11:e=(t[1]+t[2])/t[3]-t[0];break;case 109:e=t[0]-(t[1]-t[2])-t[3];break;case 104:e=(t[4]-t[3])/t[2]-t[1]+t[0];break;case 1:e=t[1]|t[0];break;case 67:e=t[0]/t[1]/t[3]/t[4]+t[2];break;case 142:e=((t[4]|t[3])-t[2]/t[0])*t[1];break;case 141:e=t[2]-t[0]*t[1];break;case 57:e=t[3]-t[0]+t[2]-t[1];break;case 90:e=(t[3]+t[4])*t[2]*t[0]-t[1];break;case 105:e=t[0]*t[3]/t[1]-t[2];break;case 82:e=t[1]|t[2]|t[0];break;case 118:e=t[1]/(t[2]+t[0]);break;case 46:e=(t[3]+t[2])/t[4]-t[0]+t[1];break;case 14:e=t[1]/(t[2]>>t[0]);break;case 33:e=t[1]>>t[0];break;case 126:e=(t[1]/t[0]+t[3])*t[4]-t[2];break;case 107:e=t[0]*(t[1]-t[2]);break;case 79:e=t[2]<<t[0]*t[1];break;case 103:e=t[4]*t[0]*t[1]+t[3]-t[2];break;case 87:e=(t[1]-t[2])*t[3]-t[0]+t[4];break;case 43:e=t[0]-t[1]/(t[3]&t[2])-t[4];break;case 88:e=t[1]*t[0]+t[2];break;case 20:e=t[4]/t[1]/t[3]-t[2]+t[0];break;case 135:e=t[1]+ +t[0];break;case 76:e=t[1]>t[0];break;case 23:e=(t[1]-t[0])*t[2];break;case 3:e=-t[0]+t[1];break;case 8:e=t[0]-t[1];break;case 68:e=-t[0]*t[2]+t[1];break;case 137:e=(t[4]*t[1]-t[3])/t[0]-t[2];break;case 59:e=t[2]+(t[0]-t[1]);break;case 130:e=(-t[1]-t[3])*t[2]+t[4]+t[0];break;case 45:e=(-t[0]/t[1]+t[4])*t[2]-t[3];break;case 115:e=t[2]/t[3]-t[4]+t[0]-t[1];break;case 13:e=-t[1]*t[0]-t[3]+t[2];break;case 70:e=t[0]-t[2]-t[3]+t[1];break;case 38:e=t[0]+t[2]/+t[1];break;case 52:e=t[2]/t[3]*t[0]+t[1];break;case 0:e=t[1]+t[0];break;case 26:e=t[0]+t[3]-t[4]+t[1]-t[2];break;case 53:e=-t[4]*t[2]/t[1]/t[0]+t[3];break;case 40:e=t[1]+t[2]*t[0];break;case 119:e=t[1]+t[2]+t[0]-t[3];break;case 101:e=(t[2]-t[1])/t[0]+t[3];break;case 9:e=t[1]/t[0];break;case 39:e=t[2]-t[1]/t[3]-t[0];break;case 7:e=(t[0]+t[2])*t[1]-t[3];break;case 5:e=t[2]+t[3]/t[1]-t[0];break;case 128:e=-t[1]/t[0]+t[2]-t[3];break;case 21:e=t[0]/t[2]*t[4]-t[1]-t[3];break;case 72:e=t[0]<t[1];break;case 123:e=t[0]-t[1]/t[2];break;case 120:e=t[4]*t[5]*t[1]+(t[0]-t[3]*t[6])*t[2];break;case 116:e=(t[0]-t[2])*t[3]+t[1];break;case 16:e=-t[3]-t[0]-t[2]+t[1];break;case 18:e=t[2]*t[1]+t[3]+t[0]-t[4];break;case 61:e=(t[3]-t[0])/(t[2]-t[1]);break;case 117:e=t[3]*t[0]-t[2]-t[1];break;case 86:e=t[1]-(t[2]-t[0]);break;case 19:e=-t[3]*t[2]/t[0]*t[4]+t[1];break;case 108:e=t[1]/(t[2]*t[0]);break;case 6:e=t[1]+(t[0]^t[2]);break;case 92:e=t[1]+t[2]-t[0]+t[3];break;case 58:e=t[4]+t[3]+t[1]+t[2]-t[0];break;case 55:e=t[1]/t[2]-t[0];break;case 49:e=t[1]+t[0]+t[2]+t[3];break;case 54:e=-t[2]-t[0]+t[1];break;case 127:e=t[0]-+t[1];break;case 93:e=-t[3]+t[2]+t[0]+t[1]-t[4];break;case 112:e=(t[3]-t[0]+t[2])*t[1]-t[4];break;case 63:e=(t[1]+t[4]-t[3])*t[0]-t[2];break;case 47:e=t[3]+t[4]+(t[2]&t[1])+t[0];break;case 102:e=t[2]/t[1]/t[0]+t[3];break;case 96:e=(t[4]+t[2]+t[3])*t[0]-t[1];break;case 85:e=(-t[2]+t[1]-t[3])/t[4]+t[0];break;case 143:e=(t[1]+t[0]/t[2])*t[3];break;case 29:e=t[0]-t[1]+t[2];break;case 35:e=t[0]*t[3]+t[2]*t[1];break;case 25:e=-t[0]-t[2]-t[1]+t[3]+t[4];break;case 113:e=t[3]*t[2]/t[0]/t[1]+t[4];break;case 140:e=t[1]*t[2]*t[0];break;case 138:e=t[4]/t[1]*t[2]/t[0]-t[3];break;case 30:e=t[2]-(t[0]<<t[1]);break;case 71:e=t[0]==t[1];break;case 91:e=(t[2]-t[3])*t[4]*t[0]+t[1];break;case 15:e=(t[2]-t[1])*t[0]/t[3]+t[4];break;case 124:e=t[0]*t[3]*t[2]*t[1];break;case 64:e=-t[1]+t[0]+t[2];break;case 27:e=t[0]&t[1];break;case 31:e=t[2]-t[1]-t[0];break;case 83:e=t[2]|t[3]|t[0]|t[4]|t[1];break;case 129:e=(t[3]+t[4])/t[1]-t[2]-t[0];break;case 73:e=t[2]+t[3]+t[0]+t[4]+t[1];break;case 75:e=t[0]!=t[1];break;case 89:e=(-t[0]-t[3])*t[1]+t[2];break;case 99:e=t[2]*(t[1]/t[0]);break;case 42:e=t[1]-t[2]/+t[0];break;case 22:e=t[2]/t[0]-t[1]+t[3];break;case 48:e=-t[0]*t[1]*t[3]+t[2];break;case 122:e=-t[2]/t[1]+t[0];break;case 131:e=t[0]/(t[2]-t[1]);break;case 121:e=-t[2]/t[1]/t[3]+t[0];break;case 111:e=t[1]-t[4]-t[0]+t[3]-t[2];break;case 36:e=t[1]<<t[0];break;case 44:e=t[3]+(t[2]^t[1])*t[0];break;case 78:e=t[0]<<+t[1];break;case 12:e=t[2]+t[0]-t[1];break;case 10:e=(t[2]+t[1])/t[0];break;case 69:e=t[0]-t[1]-t[2]-t[3]-t[4];break;case 24:e=t[4]+(t[1]+t[0]*t[3])*t[2]}return e},D4o:function(e){a=e}},F.o0o=function(){return"function"==typeof F[423973].U6U?F[423973].U6U.apply(F[423973],arguments):F[423973].U6U},F[312440]=F[479884],F.D0f=function(){return"function"==typeof F[583721].D7U?F[583721].D7U.apply(F[583721],arguments):F[583721].D7U},F[583721]=function(){for(var e=2;9!==e;)switch(e){case 3:return t[6];case 2:var t=[arguments];t[1]=void 0,t[6]={},t[6].D7U=function(){for(var e=2;90!==e;)switch(e){case 2:var i=[arguments];e=1;break;case 24:i[75]=i[38],i[64]={},i[64].l7o=["V7o"],i[64].e7o=function(){return!/['"]/.c1OO(function(){return"c".indexOf("c")}+[])},i[32]=i[64],i[41]={},e=33;break;case 51:i[6].o1OO(i[5]),i[6].o1OO(i[75]),i[6].o1OO(i[32]),i[6].o1OO(i[51]),e=47;break;case 1:e=t[1]?5:4;break;case 47:i[6].o1OO(i[2]),i[6].o1OO(i[3]),i[6].o1OO(i[7]),i[15]=[],e=64;break;case 5:return 37;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 4:a[8]={},a[4]=[],a[2]=0,t=8;break;case 6:a[9]=a[0][0][a[2]],t=14;break;case 23:return a[6];case 1:t=0===a[0][0].length?5:4;break;case 13:a[8][a[9][i[90]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[3]={},t[3].h=0,e=4;break;case 4:return t[3].t=0,t[3]}}.m1OO(this,arguments),t=12;break;case 10:t=a[9][i[52]]===i[47]?20:19;break;case 15:a[5]=a[4][a[2]],a[3]=a[8][a[5]].h/a[8][a[5]].t,t=26;break;case 2:var a=[arguments];t=1;break;case 18:a[6]=!1,t=17;break;case 11:a[8][a[9][i[90]]].t+=!0,t=10;break;case 7:t=a[2]<a[0][0].length?6:18;break;case 8:a[2]=0,t=7;break;case 24:a[2]++,t=16;break;case 20:a[8][a[9][i[90]]].h+=!0,t=19;break;case 19:a[2]++,t=7;break;case 5:return;case 12:a[4].o1OO(a[9][i[90]]),t=11;break;case 16:t=a[2]<a[4].length?15:23;break;case 17:a[2]=0,t=16;break;case 25:a[6]=!0,t=24;break;case 26:t=a[3]>=.5?25:24;break;case 14:t=void 0===a[8][a[9][i[90]]]?13:11}}(i[15])?68:67;break;case 67:return t[1]=29,81;case 77:i[93]=0,e=76;break;case 37:i[69].e7o=function(){return"function"==typeof l1OO},i[10]=i[69],i[6].o1OO(i[77]),i[6].o1OO(i[78]),i[6].o1OO(i[10]),e=51;break;case 58:i[59]=0,e=57;break;case 76:e=i[93]<i[83][i[82]].length?75:70;break;case 33:i[41].l7o=["V7o"],i[41].e7o=function(){return!/\u0079/.c1OO(function(){return"xy".substring(0,1)}+[])},i[78]=i[41],i[81]={},e=29;break;case 4:i[6]=[],i[9]={},i[9].l7o=["u7o"],i[9].e7o=function(){var e=!1,t=[];try{for(var i in console)t.o1OO(i);e=0===t.length}catch(e){}return e},i[2]=i[9],i[1]={},e=14;break;case 64:i[47]="M7o",i[39]="J7o",i[82]="l7o",e=61;break;case 14:i[1].l7o=["V7o"],i[1].e7o=function(){return/\u0078/.c1OO(function(){return"X".toLocaleLowerCase()}+[])},i[3]=i[1],i[4]={},i[4].l7o=["V7o"],i[4].e7o=function(){return!/\x62\u0074\x6f\x61/.c1OO(function(){return btoa("=")}+[])},e=19;break;case 29:i[81].l7o=["u7o"],i[81].e7o=function(){return"function"==typeof S1OO},i[77]=i[81],i[55]={},i[55].l7o=["V7o"],e=41;break;case 27:i[38]={},i[38].l7o=["V7o"],i[38].e7o=function(){return/\u0033\u0044/.c1OO(function(){return escape("=")}+[])},e=24;break;case 70:i[59]++,e=57;break;case 72:i[15].o1OO(i[24]),e=71;break;case 57:e=i[59]<i[6].length?56:69;break;case 61:i[52]="t7o",i[29]="e7o",i[90]="U7o",e=58;break;case 71:i[93]++,e=76;break;case 68:e=68;break;case 41:i[55].e7o=function(){return/\u0074\u0072\u0075\x65/.c1OO(function(){return"aa".endsWith("a")}+[])},i[51]=i[55],i[69]={},i[69].l7o=["u7o"],e=37;break;case 56:i[83]=i[6][i[59]];try{i[70]=i[83][i[29]]()?i[47]:i[39]}catch(e){i[70]=i[39]}e=77;break;case 19:i[7]=i[4],i[8]={},i[8].l7o=["u7o"],i[8].e7o=function(){return"function"==typeof s1OO},i[5]=i[8],e=27;break;case 75:i[24]={},i[24][i[90]]=i[83][i[82]][i[93]],i[24][i[52]]=i[70],e=72}},e=3}}(),F.A4o=function(){return"function"==typeof F[553935].D4o?F[553935].D4o.apply(F[553935],arguments):F[553935].D4o},F[301958].Y9xx=F,F[423973]=function(e){for(var t=2;10!==t;)switch(t){case 7:s=n.V4ss(new r[h]("^['-|]"),"S"),t=6;break;case 9:n=typeof l,t=8;break;case 5:r=F[301958],t=4;break;case 12:var i,a=0;t=11;break;case 1:t=o--?4:5;break;case 14:e=e.v4ss((function(e){for(var t=2;13!==t;)switch(t){case 9:a+=r[s][l](e[i]+112),t=8;break;case 5:a="",t=4;break;case 4:var i=0;t=3;break;case 8:i++,t=3;break;case 6:return;case 3:t=i<e.length?9:7;break;case 1:t=o--?4:5;break;case 2:var a;t=1;break;case 14:return a;case 7:t=a?14:6}})),t=13;break;case 6:t=o--?13:14;break;case 2:var r,n,s,o;t=1;break;case 3:t=o--?8:9;break;case 4:var l="fromCharCode",h="RegExp";t=3;break;case 8:t=o--?6:7;break;case 13:t=o--?11:12;break;case 11:return{U6U:function(t){for(var n=2;6!==n;)switch(n){case 1:n=s>a?5:8;break;case 2:var s=(new r[e[0]])[e[1]]();n=1;break;case 8:return function(i,a){for(var n=2;10!==n;)switch(n){case 4:a=e,n=3;break;case 12:s^=h,n=13;break;case 9:n=o<i[a[5]]?8:11;break;case 11:return s;case 2:n=void 0===i&&void 0!==t?1:5;break;case 1:i=t,n=5;break;case 3:var s,o=0;n=9;break;case 14:s=h,n=13;break;case 5:n=void 0===a&&void 0!==e?4:3;break;case 6:n=0===o?14:12;break;case 13:o++,n=9;break;case 8:var l=r[a[4]](i[a[2]](o),16)[a[3]](2),h=l[a[2]](l[a[5]]-1);n=6}}(void 0,void 0)?i:!i;case 4:i=c(s),n=3;break;case 5:n=o--?3:4;break;case 3:n=o--?8:9;break;case 9:a=s+6e4,n=8}}}}function c(t){for(var i=2;15!==i;)switch(i){case 17:a=t-c>n,i=19;break;case 8:s=e[6],i=7;break;case 16:a=l-t>n,i=19;break;case 14:i=o--?12:13;break;case 13:h=e[7],i=12;break;case 18:i=c>=0?17:16;break;case 6:l=s&&u(s,n),i=14;break;case 12:i=o--?10:11;break;case 7:i=o--?14:6;break;case 3:n=28,i=9;break;case 5:u=r[e[4]],i=4;break;case 9:i=o--?7:8;break;case 4:i=o--?9:3;break;case 11:c=(h||0===h)&&u(h,n),i=10;break;case 2:var a,n,s,l,h,c,u;i=1;break;case 10:i=c>=0&&l>=0?20:18;break;case 19:return a;case 1:i=o--?4:5;break;case 20:a=t-c>n&&l-t>n,i=19}}}([[-44,-15,4,-11],[-9,-11,4,-28,-7,-3,-11],[-13,-8,-15,2,-47,4],[4,-1,-29,4,2,-7,-2,-9],[0,-15,2,3,-11,-39,-2,4],[-4,-11,-2,-9,4,-8],[-60,-55,-13,-61,-8,-3,-60,-62,-56],[]]),F.j9R=function(){return"function"==typeof F[225686].i66?F[225686].i66.apply(F[225686],arguments):F[225686].i66},F.L4o=function(){return"function"==typeof F[553935].D4o?F[553935].D4o.apply(F[553935],arguments):F[553935].D4o},F[225686]=(r=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{i66:function(e,t,i){for(var a=3432918353,n=461845907,s=i,o=-4&t,l=0;l<o;l+=4){var h=255&e.h6jj(l)|(255&e.h6jj(l+1))<<8|(255&e.h6jj(l+2))<<16|(255&e.h6jj(l+3))<<24;h=r(h,a),s=5*(s=(524287&(s^=h=r(h=(131071&h)<<15|h>>>17,n)))<<13|s>>>19)+3864292196|0}switch(h=0,t%4){case 3:h=(255&e.h6jj(o+2))<<16;case 2:h|=(255&e.h6jj(o+1))<<8;case 1:h|=255&e.h6jj(o),h=r(h,a),s^=h=r(h=(131071&h)<<15|h>>>17,n)}return s^=t,s=r(s^=s>>>16,2246822507),s=r(s^=s>>>13,3266489909),s^=s>>>16}}),F.S4o=function(){return"function"==typeof F[553935].k4o?F[553935].k4o.apply(F[553935],arguments):F[553935].k4o},F.V9R=function(){return"function"==typeof F[225686].i66?F[225686].i66.apply(F[225686],arguments):F[225686].i66},F.O0o=function(e){if(F.D0f(),F&&e)return F.v0o(e)},F.q0o=function(e){if(F.V0f(),F)return F.v0o(e)},F.x0o=function(e){if(F.D0f(),F)return F.o0o(e)},F.y0o=function(e){if(F.D0f(),F&&e)return F.o0o(e)},n=e=>{var t,i,a;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=class{get(e,t){F.D0f(),t("no storage defined")}set(e,t){}remove(e){}},t.ChartEngine.create=function({container:e,config:r,deferLoad:n}={}){var s,o,l;e||(e=document.querySelector(".chartContainer")||document.body),r||(r={}),s=Object.assign({container:e},r.chartEngineParams),o=new this(s);var{quoteFeeds:h,marketFactory:c,addOns:u,chartId:d,onChartReady:p}=r;for(var g in h&&o.attachQuoteFeed&&h.forEach((({quoteFeed:e,behavior:t,filter:i})=>{o.attachQuoteFeed(e,t,i)})),c&&o.setMarketFactory(c),u&&Object.entries(u).filter((([,e])=>(F.D0f(),!!e))).forEach((([e,i])=>{var a;if(F.D0f(),r.enabledAddOns[e])if(a=i.moduleName||t.capitalize(e),t[a]){var{cssRequired:n}=new t[a](Object.assign({stx:o},i,{config:r}));n&&t.UI&&t.UI.activatePluginUI(o,a)}else t.debug&&console.log(`${a} not available for addons with params:`,i)})),l=t.ensureDefaults(r.callbacks||{},{layout:this.getSaveLayout(r),symbolChange:this.getSaveLayout(r),drawing:this.getSaveDrawings(r),preferences:this.getSavePreferences(r),newChart:this.getRetoggleEvents(r)}))l[g]&&o.addEventListener(g,l[g]);function f(){p&&setTimeout((()=>(F.V0f(),p(o))))}function m(){F.D0f(),o.loadChart(r.initialSymbol,{masterData:r.initialData},f),o.draw()}return a=new(a=r.nameValueStore||t.NameValueStore||i),n||(r.restore?(this.restorePreferences(o,d),this.restoreLayout(o,(e=>{F.V0f(),!o.chart.symbol&&r.initialSymbol?m():f()}),d)):m()),F.D0f(),o},t.ChartEngine.getSaveLayout=function(e){return function({stx:t}){var i;e.restore&&t.exportLayout&&(i=JSON.stringify(t.exportLayout(!0)),a.set("myChartLayout"+(e.chartId||""),i))}},t.ChartEngine.restoreLayout=function(e,t,i){var{restoreDrawings:r}=this;function n(){r(e,e.chart.symbol,i),F.V0f(),t&&t()}i||(i=""),F.A4o(0),a.get(F.S4o(i,"myChartLayout"),(function(t,i){if(!t){try{i=JSON.parse(i)}catch(e){}e.importLayout&&e.importLayout(i,{managePeriodicity:!0,cb:n}),e.crossSection&&e.setCandleWidth(1)}}))},F.V0f(),t.ChartEngine.getSaveDrawings=function(e){return F.D0f(),function({stx:t,symbol:i}){var r,n;e.restore&&t.exportDrawings&&(r=t.exportDrawings(),n=e.chartId?e.chartId+"~"+i:i,0===r.length?a.remove(n):a.set(n,JSON.stringify(r)))}},t.ChartEngine.restoreDrawings=function(e,i,r){var n;F.D0f(),t.Drawing&&(n=r?r+"~"+i:i,a.get(n,(function(t,i){if(!t){F.D0f();try{i=JSON.parse(i)}catch(e){}i&&(e.importDrawings(i),e.draw())}})))},t.ChartEngine.getSavePreferences=function(e){return F.D0f(),function({stx:t}){var i;F.V0f(),e.restore&&t.exportPreferences&&(i=JSON.stringify(t.exportPreferences()),a.set("myChartPreferences"+(e.chartId||""),i))}},t.ChartEngine.restorePreferences=function(e,t){var i,r=F;i=2;for(var n=1;-1499762064!==r.j9R(n.toString(),n.toString().length,37544);n++)~t&&(t=""),i+=2;237996731!==r.j9R(i.toString(),i.toString().length,35935)&&~t&&(t=""),t||(t=""),r.L4o(0),a.get(r.S4o(t,"myChartPreferences"),(function(t,i){if(!t){try{i=JSON.parse(i)}catch(e){}i&&e.importPreferences&&e.importPreferences(i)}}))},t.ChartEngine.getRetoggleEvents=function(e){return function({stx:i}){var a;F.V0f(),(a=document.getElementById(e.chartId))||(a=(t.getFn("UI.getMyContext")(i.container)||{}).topNode),a||(a=document),a.querySelectorAll(`${e.selector.markersMenuItem}.ciq-active:not(.span-event)`).forEach((function(e){F.V0f(),e.dispatchEvent(new Event("stxtap"))}))}}},s=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.drawHeatmap=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g,f;if(t&&t.length&&((i=e.panel)||(i="chart"),a=this.panels[i])){r=e.yAxis?e.yAxis:a.yAxis,n=this.chart.dataSegment,e.name||(e.name="Data"),e.widthFactor||(e.widthFactor=1),e.height||(F.A4o(1),e.height=Math.pow(F.S4o(0,"10"),1-(a.decimalPlaces||a.chart.decimalPlaces))),s="stx-flo",s+="at",s+="-date",o=this.chart.context,this.canvasFont(s,o),l=this.getCanvasFontSize(s),h=1,!e.highlight&&this.highlightedDraggable&&(h=.3),c=.5,a.chart.tmpWidth<=1&&(c=0),u=null,d=null,p=this,g=null,this.startClip(i),o.globalAlpha=h;for(var m=0;m<t.length;m++)y((f=t[m]).field,f.color,f.opacity,null,e.widthFactor,f.height,f.border_color?c:-c/4,f.subField),f.border_color&&this.layout.candleWidth>=2&&y(f.field,f.border_color,f.opacity,!0,e.widthFactor,f.height,c,f.subField);o.lineWidth=1,o.globalAlpha=1,this.endClip()}function y(t,i,s,c,f,m,y,v){var b,x,S,C,D,A,w,k,T,M,P,_,L,E,H=F;o.beginPath(),o.fillStyle=i,o.strokeStyle=i,o.textAlign="center",b=p.layout.candleWidth*f,x=Math.floor(p.pixelFromBar(0,a.chart)-p.layout.candleWidth),"number"==typeof s&&(H.L4o(2),o.globalAlpha=H.i4o(h,s)),"object"==typeof s&&(D={minOpacity:s.min||0,maxOpacity:s.max||1});for(var O=0;O<n.length;O++){if((A=n[O])&&A.candleWidth){if(0===O)x+=p.layout.candleWidth;else{H.L4o(3);var I=H.S4o(13,15);x+=(A.candleWidth+b/f)/I}b=A.candleWidth*f}else x+=p.layout.candleWidth;if(H.L4o(4),S=H.i4o(y,b,2,x),H.A4o(5),(C=H.S4o(y,2,x,b))-S<2&&(H.L4o(6),C=H.S4o("1",S,0)),A&&(w=A[t])){w[v]&&(w=w[v]),"number"==typeof w&&(w=[w]);for(var z=0;z<w.length;z++){if(T=0,(k=w[z])instanceof Array){if(D){H.L4o(3);var N=H.S4o(2,3);H.L4o(7);var V=H.i4o(0,13,12,155);o.globalAlpha=h*(k["2"*N]*D.maxOpacity+(V-k[2])*D.minOpacity)}T=k[1],k=k[0]}M=p.pixelFromPrice(k,a,r),g||(m||(m=e.height),P=p.pixelFromPrice(k+m*(r.flipped?1:-1),a,r),o.lineWidth=1,H.L4o(8),u=H.S4o(P,M),H.A4o(9),d=H.i4o(2,u),g=o.lineWidth),c?(H.L4o(8),_=H.S4o(M,d),H.A4o(0),L=H.S4o(d,M),H.L4o(8),o.rect(S,_,H.i4o(C,S),H.S4o(L,_))):(H.A4o(8),o.fillRect(S,H.S4o(M,d),H.S4o(C,S),u),e.showSize&&T&&l<=u-2&&(E=o.globalAlpha,o.fillStyle=p.defaultColor,H.A4o(2),o.globalAlpha=H.S4o(h,.5),H.A4o(10),o.fillText(T,H.i4o(2,S,C),M),o.fillStyle=i,H.A4o(2),o.globalAlpha=H.i4o(h,E))),D&&k instanceof Array&&(o.globalAlpha=0)}}}H.V0f(),c&&o.stroke(),o.globalAlpha=h,o.closePath()}},t.ChartEngine.prototype.drawCandles=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O,I,z,N,V,R,j,Y,W,U,B,X,q=F;if(!(r=e.chart)){r=e,n=-1458540602,s=-829307538,o=2;for(var Q=1;q.V9R(Q.toString(),Q.toString().length,86629)!==n;Q++)e=e.chart,q.A4o(8),o+=q.S4o("2",0);q.j9R(o.toString(),o.toString().length,46237)!==s&&(e=e.chart)}if(l=!1,h=!1,c=null,u=e.yAxis,a&&"object"==typeof a){l=a.isOutline,d=-945603393,p=-300646954,g=2;for(var Z=1;q.V9R(Z.toString(),Z.toString().length,25689)!==d;Z++)h=a.isHistogram,c=a.field,u=a.yAxis,g+=2;q.V9R(g.toString(),g.toString().length,89032)!==p&&(h=a.isHistogram,c=a.field,u=a.yAxis),h=a.isHistogram,c=a.field,u=a.yAxis}else l=a,h=arguments[3];f=r.dataSegment,m=r.context,y=u.top,v=u.bottom,C=new Array(f.length),D="transparent",A="transparent",w=0,q.A4o(8);var G=q.S4o(20,19);k=r.dataSet.length-r.scroll-G,T={},M=r.tmpWidth/2,P=this.layout.candleWidth,q.A4o(11);var J=q.S4o(14,0,15,1);_=e.left-.5*P+this.micropixels-J;for(var K=0;K<=f.length;K++)if(L="ou",L+="t",L+="li",L+="ne",E=M,q.A4o(9),_+=q.S4o(2,P),P=this.layout.candleWidth,q.L4o(9),_+=q.S4o(2,P),(H=f[K])&&(H.cache&&!r.pixelCacheExpired||(H.cache={}),!H.projection)){if(H.candleWidth){q.L4o(8);var $=q.i4o(40,38);_+=(H.candleWidth-P)/$,P=H.candleWidth,(a.isVolume||P<r.tmpWidth)&&(q.L4o(9),E=q.S4o(2,P))}if(r.transformFunc&&u==r.panel.yAxis&&H.transform&&(H=H.transform),H&&c&&(H=H[c]),(H||0===H)&&(O=H.Close,I=void 0===H.Open?O:H.Open,h&&r.defaultPlotField&&(O=H[r.defaultPlotField]),(O||0===O)&&(h||I!=O&&null!==I)&&(z=i(this,H,l?L:"solid")))){if(l?D=z:A=z,T[A]=1,(N=D&&!t.isTransparent(D))&&!a.highlight&&(w=.5),m.beginPath(),m.fillStyle=A,V=H.cache,q.A4o(0),(R=q.i4o(K,k))<e.cacheLeft||R>e.cacheRight||!V.open){if(j=u.semiLog?u.height*(1-(Math.log(Math.max(I,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-I)*u.multiplier,Y=u.semiLog?u.height*(1-(Math.log(Math.max(O,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-O)*u.multiplier,u.flipped?(q.L4o(8),j=q.i4o(v,j),q.L4o(8),Y=q.S4o(v,Y)):(j+=y,Y+=y),C[K]=Y,b=Math.floor(h?Y:Math.min(j,Y))+w,x=h?u.bottom:Math.max(j,Y),q.L4o(8),S=Math.floor(q.S4o(x,b)),b<y){if(b+S<y){V.open=b,V.close=b;continue}q.A4o(8),S-=q.S4o(y,b),b=y}b+S>v&&(q.L4o(12),S-=q.i4o(S,v,b)),S=Math.max(S,2),V.open=b,V.close=V.open+S}V.open>=v||V.close<=y||(W=Math.floor(_)+(!a.highlight&&.5),U=Math.floor(W-E)+w,B=Math.round(W+E)-w,V.open!=V.close&&m.rect(U,V.open,Math.max(1,B-U),Math.max(1,V.close-V.open)),!a.highlight&&this.highlightedDraggable&&(m.globalAlpha*=.3),"transparent"!=A&&m.fill(),N&&(m.lineWidth=1,a.highlight&&(m.lineWidth*=2),m.strokeStyle=D,m.stroke()))}}for(var ee in r.pixelCacheExpired=!1,X={colors:[],cache:C},T)a.hollow&&t.equals(ee,this.containerColor)||X.colors.push(ee);return X},t.ChartEngine.prototype.drawShadows=function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P=F;(a=e.chart)||(a=e,e=e.chart),r=a.dataSegment,(n=this.chart.context).lineWidth=1,i.highlight&&(n.lineWidth*=2),P.V0f(),!i.highlight&&this.highlightedDraggable&&(n.globalAlpha*=.3),s=i.field,l=(o=i.yAxis||e.yAxis).top,h=o.bottom,P.L4o(8);var _=P.i4o(5,4);c=a.dataSet.length-a.scroll-_,u=this.layout.candleWidth,P.A4o(13);var L=P.S4o(5,8,54,13);d=e.left-.5*u+this.micropixels-L;for(var E=0;E<=r.length;E++)if(P.L4o(9),d+=P.S4o(2,u),u=this.layout.candleWidth,P.A4o(14),d+=P.S4o(1218352576,u,"2"),(p=r[E])&&(p.cache&&!a.pixelCacheExpired||(p.cache={}),!p.projection&&(p.candleWidth&&(d+=(p.candleWidth-u)/2,u=p.candleWidth),(g=t(this,p,"shadow"))&&(a.transformFunc&&o==a.panel.yAxis&&p.transform&&(p=p.transform),p&&s&&(p=p[s]),(p||0===p)&&(f=p.Close,m=void 0===p.Open?f:p.Open,y=void 0===p.High?Math.max(f,m):p.High,v=void 0===p.Low?Math.min(f,m):p.Low,f||0===f))))){if(b=p.cache,P.A4o(0),(x=P.i4o(E,c))<e.cacheLeft||x>e.cacheRight||!b.top){if(S=o.semiLog?o.height*(1-(Math.log(Math.max(y,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-y)*o.multiplier,C=o.semiLog?o.height*(1-(Math.log(Math.max(v,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-v)*o.multiplier,o.flipped?(P.L4o(8),S=P.S4o(h,S),P.A4o(8),C=P.S4o(h,C)):(S+=l,C+=l),P.A4o(8),D=P.i4o(C,S),S<l){if(S+D<l){b.top=S,b.bottom=S;continue}P.A4o(8),D-=P.i4o(l,S),S=l}S+D>h&&(P.A4o(12),D-=P.i4o(D,h,S)),b.top=S,b.bottom=b.top+D}b.top>=h||b.bottom<=l||(A=Math.floor(d)+(!i.highlight&&.5),n.beginPath(),f==m&&(w=this.offset,i.isVolume&&(P.A4o(9),w=P.i4o(2,u)),P.A4o(8),k=P.i4o(A,w),P.L4o(0),T=P.i4o(w,A),M=o.semiLog?o.height*(1-(Math.log(Math.max(f,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-f)*o.multiplier,o.flipped?(P.A4o(8),M=P.i4o(h,M)):M+=l,M<=h&&M>=l&&(n.moveTo(k,M),n.lineTo(T,M))),y!=v&&(n.moveTo(A,b.top),n.lineTo(A,b.bottom)),n.strokeStyle=g,n.stroke())}a.pixelCacheExpired=!1},t.ChartEngine.prototype.drawBarChart=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H=F;(n=e.chart)||(n=e,e=e.chart),s=n.dataSegment,o=new Array(s.length),l=n.context,(h=this.canvasStyle(i)).width&&parseInt(h.width,10)<=25?l.lineWidth=Math.max(1,t.stripPX(h.width)):l.lineWidth=1,r.highlight&&(l.lineWidth*=2),!r.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),c=r.field,d=(u=r.yAxis||e.yAxis).top,p=u.bottom,H.L4o(15);var O=H.i4o(12,15,7,2,49);f=n.dataSet.length-n.scroll-O,m={},H.L4o(12);var I=H.S4o(2,15,15);y=n.tmpWidth/I,v=l.lineWidth/2,b=this.layout.candleWidth,H.V0f(),H.A4o(11);var z=H.S4o(4,0,5,1);x=e.left-.5*b+this.micropixels-z;for(var N=0;N<=s.length;N++)if("h","lc",H.L4o(9),x+=H.S4o(2,b),b=this.layout.candleWidth,H.L4o(9),x+=H.S4o(2,b),(S=s[N])&&(S.cache&&!n.pixelCacheExpired||(S.cache={}),!S.projection)){if(S.candleWidth){H.A4o(16);var V=H.i4o(6,36,20,8);x+=(S.candleWidth-b)/V,b=S.candleWidth}if((C=a(this,S))&&(m[C]=1,l.strokeStyle=C,l.beginPath(),n.transformFunc&&u==n.panel.yAxis&&S.transform&&(S=S.transform),S&&c&&(S=S[c]),(S||0===S)&&(D=S.Close,A=void 0===S.Open?D:S.Open,w=void 0===S.High?Math.max(D,A):S.High,k=void 0===S.Low?Math.min(D,A):S.Low,D||0===D))){if(T=S.cache,H.L4o(0),(M=H.i4o(N,f))<e.cacheLeft||M>e.cacheRight||!T.top){if(P=this.pixelFromTransformedValue(w,e,u),_=this.pixelFromTransformedValue(k,e,u),T.open=u.semiLog?u.height*(1-(Math.log(Math.max(A,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-A)*u.multiplier,T.close=u.semiLog?u.height*(1-(Math.log(Math.max(D,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-D)*u.multiplier,u.flipped?(T.open=u.bottom-T.open,T.close=u.bottom-T.close):(T.open+=u.top,T.close+=u.top),o[N]=T.close,H.L4o(8),g=H.S4o(_,P),P<d){if(P+g<d){T.top=P,T.bottom=P;continue}H.A4o(8),g-=H.i4o(d,P),P=d}P+g>p&&(H.A4o(12),g-=H.S4o(g,p,P)),T.top=P,H.L4o(0),T.bottom=H.i4o(g,P)}L=Math.floor(x)+(!r.highlight&&.5),T.top<p&&T.bottom>d&&S.High!=S.Low&&(l.moveTo(L,T.top-v),l.lineTo(L,T.bottom+v)),"hlc"!=r.type&&T.open>d&&T.open<p&&(l.moveTo(L,T.open),H.A4o(8),l.lineTo(H.i4o(L,y),T.open)),T.close>d&&T.close<p&&(l.moveTo(L,T.close),H.A4o(0),l.lineTo(H.i4o(y,L),T.close)),l.stroke()}}for(var R in l.lineWidth=1,n.pixelCacheExpired=!1,E={colors:[],cache:o},m)t.equals(R,this.containerColor)||E.colors.push(R);return E},t.ChartEngine.prototype.drawWaveChart=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k=F;r=(a=e.chart).dataSegment,n=new Array(r.length),s=a.context,i||(i={}),o=i.yAxis||e.yAxis,this.startClip(e.name),s.beginPath(),k.V0f(),l=!1,h=!1,c=e.yAxis.top,u=e.yAxis.bottom,d=e.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),p=this;for(var T=0;T<=r.length;T++)if(d+=this.layout.candleWidth,g=r[T]){if(g.projection)break;if(a.transformFunc&&o==a.panel.yAxis&&g.transform&&(g=g.transform),g&&i.field&&(g=g[i.field]),(g||0===g)&&(f=g.Close,m=void 0===g.Open?f:g.Open,y=void 0===g.High?Math.max(f,m):g.High,v=void 0===g.Low?Math.min(f,m):g.Low,f||0===f)){k.L4o(0);var M=k.i4o(2,1);k.A4o(12);var P=k.i4o(18,10,0);if(b=d-M*this.layout.candleWidth/P,(x=I(m))<c){if(x=c,h){s.moveTo(b,x);continue}h=!0}else if(x>u){if(x=u,h){s.moveTo(b,x);continue}h=!0}else h=!1;if(l)s.lineTo(b,x);else{l=!0,k.A4o(17);var _=k.i4o(215,12,18);(S=a.dataSet.length-a.scroll-_)<0?s.moveTo(b,x):S>=0&&((C=a.dataSet[S]).transform&&(C=C.transform),D=I(D=C.Close),D=Math.min(Math.max(D,c),u),s.moveTo(e.left+(T-1)*this.layout.candleWidth+this.micropixels,D),s.lineTo(b,x)),s.moveTo(b,x)}k.A4o(0);var L=k.i4o(4,0);if(b+=this.layout.candleWidth/L,m<f){(x=I(v))<c&&(x=c),x>u&&(x=u),s.lineTo(b,x),k.A4o(12);var E=k.i4o(13,41,32);b+=this.layout.candleWidth/E,(x=I(y))<c&&(x=c),x>u&&(x=u),s.lineTo(b,x)}else{(x=I(y))<c&&(x=c),x>u&&(x=u),s.lineTo(b,x),k.A4o(0);var H=k.S4o(4,0);b+=this.layout.candleWidth/H,(x=I(v))<c&&(x=c),x>u&&(x=u),s.lineTo(b,x)}k.A4o(18);var O=k.S4o(20,2,18,9,61);b+=this.layout.candleWidth/O,x=I(f),n[T]=x,x<c&&(x=c),x>u&&(x=u),s.lineTo(b,x)}}function I(t){return k.D0f(),p.pixelFromTransformedValue(t,e,o)}return(A=this.canvasStyle("stx_line_chart")).width&&parseInt(A.width,10)<=25?s.lineWidth=Math.max(1,t.stripPX(A.width)):s.lineWidth=1,i.highlight&&(s.lineWidth*=2),this.canvasColor("stx_line_chart"),i.color&&(s.strokeStyle=i.color),!i.highlight&&this.highlightedDraggable&&(s.globalAlpha*=.3),s.stroke(),s.closePath(),w={colors:[s.strokeStyle],cache:n},this.endClip(),s.lineWidth=1,w},t.ChartEngine.prototype.drawHistogram=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O=F;if(i&&i.length&&((a=e.panel)||(a="chart"),r=this.panels[a])){for(n=e.yAxis?e.yAxis:r.yAxis,s=e.type,o=this.chart.dataSegment,l=!1,O.V0f(),h=1,c=1,d=0;d<i.length;d++)l|=i[d].border_color_up&&!t.isTransparent(i[d].border_color_up),l|=i[d].border_color_down&&!t.isTransparent(i[d].border_color_down),h=i[d].opacity_up,c=i[d].opacity_down,!e.highlight&&this.highlightedDraggable&&(h*=.3,c*=.3);!1===e.borders&&(l=!1),e.name||(e.name="Data"),p=n.multiplier,e.heightPercentage||(e.heightPercentage=.7),e.widthFactor||(O.A4o(8),e.widthFactor=O.i4o("0.8",0)),g=0,f=0;for(var I=0;I<this.chart.maxTicks;I++)if(m=o[I])for(y=0,d=0;d<i.length;d++)((v=m[i[d].field])||0===v)&&(u=i[d].subField||this.chart.defaultPlotField||"Close","object"==typeof v&&v[u]&&(v=v[u]),"stacked"==s?y+=v:y=v,y>g&&(g=y),y<f&&(f=y));if(0===g&&0===f)return" No","t A","vaila","ble",void this.displayErrorAsWatermark(a,this.translateIf(e.name+" Not Available"));if(x=!1,e.bindToYAxis)n.baseline&&(f=n.baseline.value,x=!0),b=Math.floor(this.pixelFromPrice(f,r,n))+(n.flipped?-.5:.5);else{if(n.flipped){b=Math.floor(n.top)-.5,O.L4o(19);var z=O.i4o(4,89,11,8,4);S=Math.floor(n.bottom)-"0.5"*z}else b=Math.floor(n.bottom)+.5,S=Math.floor(n.top)+.5;p=Math.abs(b-S)*e.heightPercentage/(g-f)}for(this.startClip(a),C=this.layout.candleWidth<=1||!l?0:.5,D=this.chart.context,n.flipped&&(D.translate(0,2*n.top),D.scale(1,-1)),A=Math.max(0,(1-e.widthFactor)*this.layout.candleWidth/2),w=new Array(o.length),k=[],T=this,M=1,d=0;d<i.length;d++){if("func","tio","n","C","l","o","se","clust","ered",P=i[d],M=this.layout.candleWidth*e.widthFactor,A&&this.layout.candleWidth-M<=2&&(l=!1),_=0,"clustered"==s&&(_=d,M/=i.length),u=P.subField||this.chart.defaultPlotField||"Close","function"==typeof P.color_function){E={};for(var N=0;N<o.length;N++)if(o[N]){"b","order_opac","ity","string"==typeof(L=P.color_function(o[N]))&&(L={fill_color:L,border_color:L}),L.hasOwnProperty("border_opacity")||(L.border_opacity=L.opacity),O.A4o(20);O.i4o(362,359,8,1,359);O.L4o(17);var V=O.i4o(8885,13,987);O.L4o(12);var R=O.i4o(15,12,366);O.A4o(0);O.i4o(16,8464);O.A4o(21);var j=O.i4o(3305,8,1,3304,2);O.L4o(22);var Y=O.S4o(3325,11,9975,9966);(H=L.fill_color+(V==R?"f":j>Y?"c":",")+L.border_color)in E?E[H].positions.push(N):(L.positions=[N],E[H]=L)}for(H in E)L=E[H],W(P.field,u,L.fill_color,L.opacity,null,null,_,M,L.positions),W(P.field,u,L.border_color,L.border_opacity,!0,null,_,M,L.positions)}else W(P.field,u,P.fill_color_up,h,null,!0,_,M),W(P.field,u,P.fill_color_down,c,null,null,_,M),this.layout.candleWidth>=2&&l&&(W(P.field,u,P.border_color_up,h,!0,!0,_,M),W(P.field,u,P.border_color_down,c,!0,null,_,M));"stacked"==s&&(k=t.shallowClone(w))}D.globalAlpha=1,this.endClip()}function W(e,t,i,a,n,l,h,c,u){var d,g,m,y,v,S,M,P,_,L,E,F,H;a||(a=1),D.globalAlpha=a,D.beginPath(),O.A4o(0),d=O.S4o(.5,b),g=Math.floor(T.pixelFromBar(0,r.chart)-T.layout.candleWidth/2);for(var I=0;I<o.length;I++)"obje","ct",m=k[I]||b,0===I&&(d=m),o[I]&&o[I][e]?("object"==typeof(v=(y=o[I])[e])&&v[t]&&(v=v[t]),O.A4o(23),S=O.i4o(f,v,p),isNaN(S)||(M=T.layout.candleWidth,y.candleWidth&&(M=y.candleWidth,0===I&&(g=Math.floor(T.pixelFromBar(0,r.chart)-y.candleWidth/2))),(P=Math.floor(m-S)+.5)>m&&!x&&(P=m),u&&-1==u.indexOf(I)||!u&&(l&&y.Close<y.iqPrevClose||!l&&y.Close>=y.iqPrevClose)?(d=P,g+=M):(_=M/T.layout.candleWidth,A?(O.L4o(24),L=Math.round(O.i4o(h,A,_,c,g)),O.L4o(0),E=O.S4o(n?0:C,L),F=L+Math.round(c*_)-(n?0:C)):(O.A4o(24),L=O.i4o(h,A,_,c,g),E=Math.round(L)+(n?0:C),F=Math.round(L+c*_)-(n?0:C)),F-E<2&&(O.L4o(0),F=O.i4o(1,E)),E%1==(H=n?0:.5)&&(E+=.5),F%1==H&&(F+=.5),D.moveTo(F,m),b!=m&&n&&!A&&k[I+1]&&D.moveTo(F,Math.max(P,Math.min(m,k[I+1]))),D.lineTo(F,P),D.lineTo(E,P),n&&h?(w[I]>P||0===I)&&D.lineTo(E,Math.min(m,w[I])):n&&!A&&"clustered"==s?I>0&&w[I-1]&&w[I-1]>P&&D.lineTo(E,Math.min(m,w[I-1])):n&&!A?(d>P||0===I)&&D.lineTo(E,Math.min(m,d)):D.lineTo(E,m),d=P,g+=M,("clustered"!=s||n)&&(w[I]=P)))):(d=m,g+=T.layout.candleWidth);n?(D.strokeStyle=i&&"auto"!=i?i:T.defaultColor,D.stroke()):("au","t","o",D.fillStyle=i&&"auto"!=i?i:T.defaultColor,D.fill()),D.closePath()}},t.ChartEngine.prototype.scatter=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x=F;a=(i=e.chart).dataSegment,r=new Array(a.length),n=this.chart.context,this.canvasColor("stx_scatter_chart"),t||(t={}),s=t.field||i.defaultPlotField,o=t.yAxis||e.yAxis,l=t.subField||i.defaultPlotField||"Close",this.startClip(e.name),n.beginPath(),n.lineWidth=t.lineWidth||4,t.highlight&&(n.lineWidth*=2),!t.highlight&&this.highlightedDraggable&&(x.A4o(2),n.globalAlpha*=x.S4o(1,"0.3")),t.color&&(n.strokeStyle=t.color),h=o.top,c=o.bottom,u=this.layout.candleWidth,x.A4o(25);var S=x.S4o(3,6,7,13,4);d=e.left-.5*u+this.micropixels-"1"*S;for(var C=0;C<=a.length;C++)if(x.A4o(9),d+=x.S4o(2,u),u=this.layout.candleWidth,x.L4o(9),d+=x.S4o(2,u),p=a[C]){if(p.candleWidth){x.A4o(26);var D=x.i4o(10,17,22,10,13);d+=(p.candleWidth-u)/D,u=p.candleWidth}if(!p.projection){"Scat","t","e","r",i.transformFunc&&o==i.panel.yAxis&&p.transform&&(p=p.transform),(g=p[s])&&void 0!==g[l]&&(g=g[l]),g instanceof Array||(g=[g]),"Scatter"in p&&(g=p.Scatter);for(var A=0;A<g.length;A++)(g[A]||0===g[A])&&(f=g[A],x.A4o(27),m=x.S4o("0",2147483647),g[A]instanceof Array&&(f=g[A][0],m=g[A][2]),y=o.semiLog?o.height*(1-(Math.log(Math.max(f,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-f)*o.multiplier,o.flipped?(x.L4o(8),y=x.i4o(c,y)):y+=h,y<h||y>c||(v=2,m&&(x.L4o(2),v=x.S4o(m,u)),x.A4o(8),n.moveTo(x.i4o(d,v),y),x.A4o(0),n.lineTo(x.S4o(v,d),y),r[C]=y))}}return n.stroke(),x.D0f(),n.closePath(),b={colors:[n.strokeStyle],cache:r},this.endClip(),n.lineWidth=1,b}},o=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.ChartEngine.drawingTools={},t.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}}},t.ChartEngine.registerDrawingTool=function(e,i){t.ChartEngine.drawingTools[e]=i},t.ChartEngine.prototype.setDrawingContainer=function(e){F.V0f(),this.drawingContainer=e},t.ChartEngine.prototype.exportDrawings=function(){var e;e=[];for(var t=0;t<this.drawingObjects.length;t++)e.push(this.drawingObjects[t].serialize());return e},t.ChartEngine.prototype.abortDrawings=function(e){var t;!1!==e&&(e=!0);for(var i=this.drawingObjects.length-1;i>=0;i--)(t=this.drawingObjects[i]).abort(!0),!e&&t.permanent||this.drawingObjects.splice(i,1)},t.ChartEngine.prototype.importDrawings=function(e){var i,a,r;if(F.D0f(),t.Drawing)for(var n=0;n<e.length;n++)"fibonacci"==(i=e[n]).name&&(i.name="retracement"),(a=t.ChartEngine.drawingTools[i.name])||t.Drawing[i.name]&&(a=t.Drawing[i.name],t.ChartEngine.registerDrawingTool(i.name,a)),a&&((r=new a).reconstruct(this,i),this.drawingObjects.push(r))},t.ChartEngine.prototype.clearDrawings=function(e,i){var a,r;!1!==i&&(i=!0),a=this.exportDrawings(),this.abortDrawings(i),e?this.undoStamps=[]:this.undoStamp(a,this.exportDrawings()),this.changeOccurred("vector"),this.cancelTouchSingleClick=!0,t.clearCanvas(this.chart.tempCanvas,this),this.draw(),(r=this.controls.mSticky)&&(r.style.display="none",r.children[0].innerHTML="")},t.ChartEngine.prototype.createDrawing=function(e,i){var a,r;if(t.Drawing){for(var n in F.D0f(),(a=new t.Drawing[e]).reconstruct(this,i),(r=new t.Drawing[e]).stx=this,r.copyConfig(),r)a[n]=a[n]||r[n];return this.drawingObjects.push(a),this.draw(),a}},t.ChartEngine.prototype.removeDrawing=function(e){F.V0f();for(var t=0;t<this.drawingObjects.length;t++)if(this.drawingObjects[t]==e)return this.drawingObjects.splice(t,1),this.changeOccurred("vector"),void this.draw()},t.ChartEngine.prototype.undo=function(){var e,i,a,r;e="u",e+="ndo",this.runPrepend(e,arguments)||(this.activeDrawing&&(i="stx_crosshair_drawin",i+="g",a="stx_cr",a+="osshair",r="stx_cross",r+="hair_d",r+="raw",r+="ing",this.activeDrawing.abort(),this.activeDrawing.hidden=!1,this.drawingSnapshot=null,this.activateDrawing(null),t.clearCanvas(this.chart.tempCanvas,this),this.draw(),this.controls.crossX.classList.replace(r,a),this.controls.crossY.classList.replace(i,"stx_crosshair"),t.ChartEngine.drawingLine=!1),F.D0f(),this.runAppend("undo",arguments))},t.ChartEngine.prototype.undoStamp=function(e,t){this.undoStamps.push(e),F.V0f(),this.dispatch("undoStamp",{before:e,after:t,stx:this})},t.ChartEngine.prototype.undoLast=function(){this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=[],this.importDrawings(this.undoStamps.pop()),this.changeOccurred("vector"),this.draw())},t.ChartEngine.prototype.addDrawing=function(e){var t;t=this.exportDrawings(),this.drawingObjects.push(e),this.undoStamp(t,this.exportDrawings())},t.ChartEngine.prototype.repositionDrawing=function(e,i){var a,r,n;F.V0f(),this.currentPanel.name==e.panelName&&(a=this.panels[e.panelName],r=this.adjustIfNecessary(a,this.crosshairTick,e.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),a,this.getYAxisByField(a,e.field))),n=this.chart.tempCanvas,t.clearCanvas(n,this),i?(this.drawingSnapshot=this.exportDrawings(),e.render(n.context)):(e.reposition(n.context,e.repositioner,this.crosshairTick,r),this.drawingSnapshot&&this.undoStamp(t.shallowClone(this.drawingSnapshot),this.exportDrawings()),this.drawingSnapshot=null),e.measure&&e.measure())},t.ChartEngine.prototype.activateRepositioning=function(e){this.repositioningDrawing=e,e&&(this.draw(),this.repositionDrawing(e,!0)),this.chart.tempCanvas.style.display=e?"block":"none"},t.ChartEngine.prototype.activateDrawing=function(e,i){var a;if(i||(i=this.currentPanel),this.drawingSnapshot=null,!e)return"n","o","n","e",this.activeDrawing=null,this.chart.tempCanvas.style.display="none",r(this),!1;function r(e){var t;e.layout.studies&&(t=e.layout.studies[i.name])&&!t.overlay&&delete e.overlays[t.name]}return(a=t.ChartEngine.drawingTools[e])||t.Drawing[e]&&(a=t.Drawing[e],t.ChartEngine.registerDrawingTool(e,a)),a&&(this.activeDrawing=new a,this.activeDrawing.construct(this,i),!this.charts[i.name]&&this.activeDrawing.chartsOnly)?(this.activeDrawing=null,r(this),!1):(this.chart.tempCanvas.style.display="block",this.controls.drawOk&&(this.controls.drawOk.style.display="none"),r(this),!0)},t.ChartEngine.prototype.drawingClick=function(e,i,a){var r,n,s,o,l,h,c,u;if(F.V0f(),t.Drawing&&e&&""===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,e))){if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw)return void(t.ChartEngine.drawingLine||this.activateDrawing(null));if(!this.activeDrawing.p0){if(r="Cl",r+="ose",n="Hi",n+="g",n+="h",s=this.highlightedDataSetField,null!==this.magnetizedPrice&&(e!==this.chart.panel||["Open",n,"Low",r].indexOf(this.magneticHold)<0)&&(s=t.getObjectChainRoot(this.magneticHold)),!s&&e!=this.chart.panel){for(var d in this.chart.seriesRenderers)if((o=this.chart.seriesRenderers[d]).params.panel==e.name){s=o.seriesParams[0].field;break}for(var p in this.layout.studies)if((l=this.layout.studies[p]).panel==e.name){s=Object.keys(l.outputMap)[0];break}}this.activeDrawing.field=s}return h=this.tickFromPixel(i,e.chart),c=this.panels[this.activeDrawing.panelName],u=this.magnetizedPrice||0===this.magnetizedPrice?this.adjustIfNecessary(c,h,this.magnetizedPrice):this.adjustIfNecessary(c,h,this.activeDrawing.valueFromPixel(a,c,this.getYAxisByField(c,this.activeDrawing.field))),this.activeDrawing.click(this.chart.tempCanvas.context,h,u)?this.activeDrawing&&("stx_crosshai","r",t.ChartEngine.drawingLine=!1,t.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair"),this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair")):("stx_crosshair","_drawing",this.changeOccurred("drawing"),t.ChartEngine.drawingLine=!0,this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing"),this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing")),!0}return!1}},t.ChartEngine.prototype.rightClickDrawing=function(e,t){var i;this.runPrepend("rightClickDrawing",arguments)||e.permanent||(this.callbackListeners.drawingEdit.length?this.dispatch("drawingEdit",{stx:this,drawing:e,forceEdit:t}):(e.abort()||(i=this.exportDrawings(),this.removeDrawing(e),this.undoStamp(i,this.exportDrawings())),this.changeOccurred("vector")),this.runAppend("rightClickDrawing",arguments))},t.ChartEngine.prototype.magnetize=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T=F;if(e="ma",e+="gn",e+="eti",e+="ze",i="stx-dragg",i+="able",a="b",a+="l",a+="o",a+="ck",r="#",r+="3",r+="98df",r+="f",n="fre",n+="ef",n+="o",n+="rm",s="p",s+="rojec",s+="ti",s+="on",o=this,this.magnetizedPrice=null,this.preferences.magnet&&!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&(l=this.currentVectorParameters.vectorType)&&l!=s&&l!=n&&("annotation"!=l&&"callout"!=l||!t.ChartEngine.drawingLine)&&(h=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel,c=h.chart,!((u=this.crosshairTick)>c.dataSet.length)&&(d=c.dataSet[u]))){if(g=this.getRenderedItems(),f=["Open","High","Low","Close"],this.activeDrawing&&this.activeDrawing.penDown){if(!this.magneticHold)return;g=-1!=f.indexOf(this.magneticHold)&&-1!=g.indexOf("High")?f:[this.magneticHold]}else this.magneticHold=null;m=1e9,y=parseFloat(this.preferences.magnet);for(var M=0;M<g.length;M++)if(v=this.getYAxisByField(h,g[M])||h.yAxis,(b=c.transformFunc&&v===c.yAxis)&&d.transform&&(d=d.transform),x=d[g[M]],(S=t.existsInObjectChain(d,g[M]))&&(x=S.obj[S.member]),(x||0===x)&&(C=this.pixelFromTransformedValue(x,h,v),Math.abs(this.cy-C)<m)){if(m=Math.abs(this.cy-C),y&&y<=m)continue;this.magnetizedPrice=x,b&&function(){var e,i;e=c.untransformFunc,i=t.getObjectChainRoot(g[M]),e&&c.series[i]&&(c.untransformFunc=(t,a,r,n)=>(T.V0f(),e(t,a,r,n,i))),o.magnetizedPrice=o.valueFromPixel(C,h),c.untransformFunc=e}(),p=C,this.magneticHold=g[M]}D=this.pixelFromTick(u,c),A=p,t.clearCanvas(c.tempCanvas,this),(w=c.tempCanvas.context).beginPath(),w.lineWidth=1,T.L4o(12);var P=T.i4o(13,133,132);T.L4o(12);var _=T.i4o(11,44,36);k=Math.max(this.layout.candleWidth,P)/_,w.arc(D,A,Math.min(k,8),0,2*Math.PI,!1),w.fillStyle="#398dff",T.D0f(),w.strokeStyle=r,w.fill(),w.stroke(),w.closePath(),c.tempCanvas.style.display=a,this.anyHighlighted&&this.container.classList.remove(i),this.activeDrawing&&this.activeDrawing.move(w,this.crosshairTick,this.activeDrawing.valueFromPixel(A,h,this.getYAxisByField(h,this.activeDrawing.field))),this.runAppend(e,arguments)}},t.ChartEngine.prototype.changeVectorType=function(e){var i,a;if(this.currentVectorParameters.vectorType=e,t.Drawing&&t.Drawing.initializeSettings(this,e),t.ChartEngine.drawingLine&&this.undo(),!this.container.classList.contains("stx-crosshair-on")&&e){var{chart:r,left:n,top:s}=this;F.A4o(8);var o=F.i4o(16,14);i=r.width/o+n+r.left,a=r.height/2+s+r.top,this.mousemoveinner(i,a)}this.doDisplayCrosshairs()},t.ChartEngine.prototype.changeVectorParameter=function(e,t){var i;if("f","o","n","t","fon","t","Si","ze","axisLabel"==e)t="true"===t.toString()||Number(t);else if("lineWidth"==e)t=Number(t);else if("fontSize"==e){F.A4o(0);var a=F.i4o(9,1);t=parseInt(t,a)+"px"}return(void 0!==(i=this.currentVectorParameters)[e]||"font"==e.substr(0,4)&&("de","fa","ul","t","fami","l","y","family"==(e=e.substr(4).toLowerCase())&&"default"==t.toLowerCase()&&(t=null),void 0!==(i=i.annotation.font)[e]))&&(i[e]=t,!0)},t.ChartEngine.prototype.drawVectors=function(){var e,t,i,a,r,n;if(e="drawVecto",e+="rs",F.D0f(),!this.vectorsShowing&&!this.runPrepend(e,arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings&&!this.highlightedDraggable){for(t={},a=0;a<this.drawingObjects.length;a++)(r=this.drawingObjects[a]).hidden||this.repositioningDrawing!==r&&(i=r.panelName,this.panels[r.panelName]&&!this.panels[r.panelName].hidden&&(t[i]||(t[i]=[]),t[i].push(r)));for(i in t){for(this.startClip(i),n=t[i],a=0;a<n.length;a++)n[a].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},t.ChartEngine.prototype.adjustDrawings=function(){for(var e,t=0;t<this.drawingObjects.length;t++)e=this.drawingObjects[t],this.panels[e.panelName]&&e.adjust()},t.Drawing=t.Drawing||function(){this.chartsOnly=!1,this.penDown=!1},t.Drawing.getDrawingParameters=function(e,i){var a,r,n,s;try{a=new t.Drawing[i]}catch(e){}if(!a)return null;a.stx=e,a.copyConfig(!0),r={},n=a.configs;for(var o=0;o<n.length;o++)r[n[o]]=a[n[o]];return(s=e.canvasStyle("stx_annotation"))&&r.font&&(r.font.size=s.fontSize,r.font.family=s.fontFamily,r.font.style=s.fontStyle,r.font.weight=s.fontWeight),r},t.Drawing.saveConfig=function(e,i){var a,r;i&&((a=e.preferences).drawings||(a.drawings={}),a.drawings[i]={},(r=new t.Drawing[i]).stx=e,t.Drawing.copyConfig(r),F.D0f(),r.configs.forEach((function(e){F.D0f(),a.drawings[i][e]=r[e]})),e.changeOccurred("preferences"))},t.Drawing.restoreDefaultConfig=function(e,i,a){F.V0f(),a?e.preferences.drawings=null:e.preferences.drawings[i]=null,e.changeOccurred("preferences"),e.currentVectorParameters=t.clone(t.ChartEngine.currentVectorParameters),e.currentVectorParameters.vectorType=i},t.Drawing.initializeSettings=function(e,i){var a,r;(a=t.Drawing[i])&&(r=new a).initializeSettings&&r.initializeSettings(e)},t.Drawing.updateSource=function(e,t,i,a){var r,n;if("ve","c","to","r",t){for(var s in F.D0f(),r=!1,e.drawingObjects)(n=e.drawingObjects[s]).field&&(i?n.field==t?(n.field=i,r=!0):n.field.indexOf(t)>-1&&-1==n.field.indexOf(t+"-")&&(n.field=n.field.replace(t,i),r=!0):("-","-",">",n.field.split("--\x3e")[0]!=t&&n.panelName!=t||(n.panelName=a,r=!0)));r&&e.changeOccurred("vector")}},t.Drawing.prototype.copyConfig=function(e){F.V0f(),t.Drawing.copyConfig(this,e)},t.Drawing.copyConfig=function(e,i){var a,r,n,s,o;for(a=e.stx.currentVectorParameters,r=e.configs,n=0;n<r.length;n++)"color"==(s=r[n])?e.color=a.currentColor:"parameters"==s?e.parameters=t.clone(a.fibonacci):"font"==s?e.font=t.clone(a.annotation.font):e[s]=a[s];if(i&&(o=e.stx.preferences)&&o.drawings)for(t.extend(e,o.drawings[a.vectorType]),n=0;n<r.length;n++)"pa","ramet","ers","color"==(s=r[n])?a.currentColor=e.color:"parameters"==s?a.fibonacci=t.clone(e.parameters):"font"==s?a.annotation.font=t.clone(e.font):a[s]=e[s]},t.Drawing.prototype.dragToDraw=!1,t.Drawing.prototype.permanent=!1,t.Drawing.prototype.chartsOnly=!1,t.Drawing.prototype.abort=function(e){},t.Drawing.prototype.measure=function(){},t.Drawing.prototype.construct=function(e,t){F.D0f(),this.stx=e,this.panelName=t.name},t.Drawing.prototype.render=function(e){console.warn("must implement render function!")},t.Drawing.prototype.click=function(e,t,i){F.D0f(),console.warn("must implement click function!")},t.Drawing.prototype.move=function(e,t,i){F.D0f(),console.warn("must implement move function!")},t.Drawing.prototype.reposition=function(e,t,i,a){},t.Drawing.prototype.intersected=function(e,t,i){console.warn("must implement intersected function!")},t.Drawing.prototype.reconstruct=function(e,t){F.D0f(),console.warn("must implement reconstruct function!")},t.Drawing.prototype.serialize=function(){var e;e=2;for(var t=1;442447598!==F.V9R(t.toString(),t.toString().length,75019);t++)console.warn("must implement serialize function!"),e+=2;-902272796!==F.j9R(e.toString(),e.toString().length,74099)&&console.warn("")},t.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!")},t.Drawing.prototype.highlight=function(e){return(e&&!this.highlighted||!e&&this.highlighted)&&(this.highlighted=e),F.V0f(),this.highlighted},t.Drawing.prototype.littleCircleRadius=function(){return 6,6},t.Drawing.prototype.littleCircle=function(e,i,a,r){var n,s;this.permanent||(n=this.stx.defaultColor,s=t.chooseForegroundColor(n),e.beginPath(),e.lineWidth=1,e.arc(i,a,this.littleCircleRadius(),0,2*Math.PI,!1),e.fillStyle=r?n:s,e.strokeStyle=n,e.setLineDash([]),e.fill(),e.stroke(),e.closePath())},t.Drawing.prototype.rotator=function(e,t,i,a){var r,n,s,o=F;this.permanent||(r=this.littleCircleRadius(),n=this.stx.defaultColor,e.beginPath(),e.lineWidth=2,a||(e.globalAlpha=.5),o.A4o(0),s=o.S4o(r,4),e.arc(t,i,s,0,3*Math.PI/2,!1),o.D0f(),o.L4o(28),e.moveTo(o.S4o(2,s,t),o.i4o(2,i,o.L4o(0))),o.L4o(0),e.lineTo(o.S4o(s,t),i),o.L4o(29),e.lineTo(o.i4o(t,2,s),o.i4o(2,i,o.L4o(0))),o.A4o(8),e.moveTo(o.i4o(t,2),o.S4o(2,s,i,o.A4o(12))),o.L4o(8),e.lineTo(t,o.i4o(i,s)),o.A4o(30),e.lineTo(o.S4o("2",2116389568,t),o.i4o(s,2,i,o.L4o(31))),e.strokeStyle=n,e.stroke(),e.closePath(),e.globalAlpha=1)},t.Drawing.prototype.mover=function(e,t,i,a){var r,n,s,o=F;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,5,o.L4o(32),s=o.i4o("1",r,0),e.save(),e.lineWidth=2,e.strokeStyle=n,e.translate(t,i),a||(e.globalAlpha=.5);for(var l=0;l<4;l++)e.rotate(Math.PI/2),e.beginPath(),e.moveTo(0,s),o.A4o(0),e.lineTo(0,o.S4o(5,s)),o.L4o(12),e.moveTo(-2,o.S4o(5,2,s)),o.A4o(0),e.lineTo(0,o.S4o(5,s)),o.L4o(12),e.lineTo(2,o.i4o(5,2,s)),e.closePath(),e.stroke();o.A4o(33),e.globalAlpha=o.S4o(1084829792,"1"),e.restore()}},t.Drawing.prototype.resizer=function(e,t,i,a){var r,n,s,o,l=F;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,l.L4o(0);var h=l.i4o(5,0);l.A4o(8);var c=l.S4o(28,26);s=h*Math.sqrt(c),l.A4o(0),o=l.i4o(1,r),e.save(),e.lineWidth=2,e.strokeStyle=n,e.translate(t,i),e.rotate(-t*i/Math.abs(t*i)*Math.PI/4),a||(e.globalAlpha=.5);for(var u=0;u<2;u++)e.rotate(Math.PI),e.beginPath(),e.moveTo(0,o),l.A4o(0),e.lineTo(0,l.S4o(s,o)),l.L4o(12),e.moveTo(-2,l.i4o(s,2,o)),l.A4o(0),e.lineTo(0,l.i4o(s,o)),l.L4o(12),e.lineTo(2,l.S4o(s,2,o)),e.closePath(),e.stroke();e.globalAlpha=1,e.restore()}},t.Drawing.prototype.pointIntersection=function(e,t,i,a){var r,n;if(!(n=(r=this.stx).panels[this.panelName]))return!1;if(this.field&&!a&&(t=this.pixelFromValue(n,e,t,r.getYAxisByField(n,this.field)),e=r.pixelFromTick(e,n.chart),a=!0),a){if(e>=i.cx0&&e<=i.cx1&&t>=i.cy0&&t<=i.cy1)return!0}else if(e>=i.x0&&e<=i.x1&&t>=Math.min(i.y0,i.y1)&&t<=Math.max(i.y0,i.y1))return!0;return!1},t.Drawing.prototype.setPoint=function(e,i,a,r){var n,s,o,l,h,c,u,d,p=F;var{stx:g}=this,{maxTicks:f=100,dataSet:m=[]}=r||g.chart||{};n=-f,p.L4o(34);var y=p.i4o(4,10,1,1,7);s=m.length-y+f,o=null,l=null,"number"==typeof i?o=i:i.length>=8?l=i:o=Number(i),(a||0===a)&&(p.L4o(0),this[p.i4o(e,"v")]=a),null!==o?(o=Math.max(o,n),o=Math.min(o,s),h=g.dateFromTick(o,r,!0),p.A4o(0),this[p.S4o(e,"tzo")]=h.getTimezoneOffset(),p.L4o(0),this[p.S4o(e,"d")]=t.yyyymmddhhmmssmmm(h),p.A4o(0),this[p.S4o(e,"p")]=[o,a]):null!==l&&("free","f","orm","t","z","o",c=t.strToDateTime(l),this["tzo"+e]||0===this["tzo"+e]||(p.A4o(0),this[p.i4o(e,"tzo")]=c.getTimezoneOffset()),p.A4o(0),this[p.S4o(e,"d")]=l,u=this["tzo"+e]-c.getTimezoneOffset(),c.setMinutes(c.getMinutes()+u),d=!1,"freeform"==this.name||t.ChartEngine.isDailyInterval(g.layout.interval)||c.getHours()||c.getMinutes()||c.getSeconds()||c.getMilliseconds()||(d=!0),p.L4o(0),this[p.i4o(e,"p")]=[g.tickFromDate(t.yyyymmddhhmmssmmm(c),r,null,d),a])},t.Drawing.prototype.getLineColor=function(e,i){var a,r,n,s,o,l,h,c,u;if("au","t","o",e||(e=this.color),a=this.stx,r=e,!i&&this.highlighted)"stx_highlight_ve","ctor",r=a.getCanvasColor("stx_highlight_vector");else if(t.isTransparent(r))r=a.defaultColor;else if("auto"==r&&(r=a.defaultColor,this.field)){for(n in a.layout.studies)if(o=(s=a.layout.studies[n]).outputs[s.outputMap[this.field]]){r=o.color||o;break}for(n in a.chart.seriesRenderers){h=a.chart.seriesRenderers[n];for(var d=0;d<h.seriesParams.length;d++){if("-","-",">",(u=(c=h.seriesParams[d]).field)||h.highLowBars||(u=this.defaultPlotField||"Close"),c.symbol&&c.subField&&(u+="--\x3e"+c.subField),this.field==u){r=c.color;break}c.field&&c.field==this.field.split("--\x3e")[0]&&(l=c.color)}}l&&(r=l)}return"auto"==r&&(r=a.defaultColor),r},t.Drawing.prototype.valueFromPixel=function(e,t,i){var a,r,n;return a=t.chart.untransformFunc,r=this.field,a&&t.chart.series[r]&&(t.chart.untransformFunc=(e,t,i,n)=>a(e,t,i,n,r)),n=this.stx.valueFromPixel(e,t,i),t.chart.untransformFunc=a,n},t.Drawing.prototype.pixelFromValue=function(e,t,i,a){var r,n,s;return r=e.chart.transformFunc,n=this.field,r&&e.chart.series[n]&&(e.chart.transformFunc=(e,t,i,a)=>r(e,t,i,a,n)),s=this.stx.pixelFromValueAdjusted(e,t,i,a),F.V0f(),e.chart.transformFunc=r,s},t.Drawing.prototype.boxToPixels=function(e,i,a,r){var n,s,o,l;return F.D0f(),n=e.panels[i],s=n.chart.transformFunc,o=this.field,s&&n.chart.series[o]&&(n.chart.transformFunc=(e,t,i,a)=>s(e,t,i,a,o)),l=t.convertBoxToPixels(e,i,a,r),n.chart.transformFunc=s,l},t.Drawing.BaseTwoPoint=function(){F.V0f(),this.p0=null,this.p1=null,this.color=""},t.inheritsFrom(t.Drawing.BaseTwoPoint,t.Drawing),t.Drawing.BaseTwoPoint.prototype.configs=[],t.Drawing.BaseTwoPoint.prototype.lineIntersection=function(e,i,a,r,n,s,o){var l,h;return n||(n=this.p0),s||(s=this.p1),l=this.stx,!(!n||!s)&&(void 0!==a.cx0&&(h={x0:n[0],x1:s[0],y0:n[1],y1:s[1]},o||(h=this.boxToPixels(l,this.panelName,h,l.getYAxisByField(l.panels[this.panelName],this.field))),t.boxIntersects(a.cx0,a.cy0,a.cx1,a.cy1,h.x0,h.y0,h.x1,h.y1,r)))},t.Drawing.BaseTwoPoint.prototype.boxIntersection=function(e,t,i){var a,r;if(!this.p0||!this.p1)return!1;var{x0:n,x1:s,y0:o,y1:l,cy0:h,cy1:c}=i;if(n>Math.max(this.p0[0],this.p1[0])||s<Math.min(this.p0[0],this.p1[0]))return!1;F.D0f();var{field:u,panelName:d,stx:p}=this;return u&&(a=p.panels[d],r=p.getYAxisByField(a,u),o=this.valueFromPixel(h,a,r),l=this.valueFromPixel(c,a,r)),!(l>Math.max(this.p0[1],this.p1[1])||o<Math.min(this.p0[1],this.p1[1]))},t.Drawing.BaseTwoPoint.prototype.accidentalClick=function(e,t){var i,a,r,n,s,o,l,h,c,u=F;if(u.V0f(),a=(i=this.stx).panels[this.panelName],r=i.pixelFromTick(this.p0[0],a.chart),n=i.pixelFromTick(e,a.chart),s=i.getYAxisByField(a,this.field),o=this.pixelFromValue(a,this.p0[0],this.p0[1],s),l=this.pixelFromValue(a,e,t,s),u.A4o(8),h=Math.abs(u.S4o(n,r)),u.L4o(8),c=Math.abs(u.S4o(l,o)),u.A4o(35),Math.sqrt(u.S4o(h,c,c,h))<10)return this.penDown=!1,this.dragToDraw&&i.undo(),!0},t.Drawing.BaseTwoPoint.prototype.click=function(e,t,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},t.Drawing.BaseTwoPoint.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart))},t.Drawing.BaseTwoPoint.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),this.p1=[t,i],this.render(e))},t.Drawing.BaseTwoPoint.prototype.measure=function(){var e,i,a,r,n;if(F.V0f(),e=this.stx,this.p0&&this.p1&&(e.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name),a=(i=e.controls.mSticky)&&i.querySelector(".mStickyInterior"))){-166197035,-509247418,r=2;for(var s=1;-166197035!==F.j9R(s.toString(),s.toString().length,4360);s++)(n=[]).push(t.capitalize(this.name)),this.getYValue&&n.push(this.field&&e.defaultPlotField&&""),n.push(a.innerHTML),r+=2;-509247418!==F.V9R(r.toString(),r.toString().length,47550)&&((n=[]).push(t.capitalize(this.name)),this.getYValue&&n.push(this.field||e.defaultPlotField||""),n.push(a.innerHTML)),(n=[]).push(t.capitalize(this.name)),this.getYValue&&n.push(this.field||e.defaultPlotField||"Close"),n.push(a.innerHTML),a.innerHTML=n.join("<br>")}},t.Drawing.BaseTwoPoint.prototype.reposition=function(e,t,i,a){var r,n,s,o,l=F;if(t)if(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,"move"==t.action){l.A4o(2),this.setPoint(l.S4o(1,"0"),t.p0[0]-n,t.p0[1]-s,r.chart),this.setPoint(1,t.p1[0]-n,t.p1[1]-s,r.chart),-427581109,-291864542,o=2;for(var h=1;-427581109!==l.j9R(h.toString(),h.toString().length,58216);h++)this.render(e),o+=2;-291864542!==l.V9R(o.toString(),o.toString().length,93099)&&this.render(e)}else"drag"==t.action&&(this[t.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.render(e))},t.Drawing.BaseTwoPoint.prototype.drawDropZone=function(e,t,i,a,r){var n,s,o,l,h,c,u;(n=this.stx.panels[this.panelName])&&(s=this.stx,o=n.left,l=n.width,(a||0===a)&&(o=s.pixelFromTick(a,n.chart)),(r||0===r)&&(l=s.pixelFromTick(r,n.chart)),h=s.getYAxisByField(n,this.field),c=this.pixelFromValue(n,a,t,h),u=this.pixelFromValue(n,r,i,h),e.fillStyle="#008000",e.globalAlpha=.2,F.L4o(8),e.fillRect(o,c,F.S4o(l,o),F.i4o(u,c)),e.globalAlpha=1)},t.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(e,t){var i,{stx:a,panelName:r,field:n}=this;return i=a.panels[r],F.D0f(),this.valueFromPixel(a.pixelFromValueAdjusted(i,e,t),i,a.getYAxisByField(i,n))},t.Drawing.annotation=function(){var e=F;this.name="annotation",this.arr=[],this.w=0,this.h=0,e.A4o(36),this.padding=e.i4o(1925363072,"5"),this.text="",this.ta=null,this.border=!0,this.fontSize=0,this.font={},this.defaultWidth=25,e.V0f(),this.whitespace=30,e.L4o(2),this.fontModifier=e.i4o(1,"3")},t.inheritsFrom(t.Drawing.annotation,t.Drawing.BaseTwoPoint),t.Drawing.annotation.prototype.getFontString=function(){var e,t;for(var i in"stx_a","nnotatio","n",this.fontDef={style:null,weight:null,size:"12px",family:null},(e=this.stx.canvasStyle("stx_annotation"))&&(e.fontStyle&&(this.fontDef.style=e.fontStyle),e.fontWeight&&(this.fontDef.weight=e.fontWeight),e.fontSize&&(this.fontDef.size=e.fontSize),e.fontFamily&&(this.fontDef.family=e.fontFamily)),this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),this.fontString="",t=!0,this.fontDef)this.fontDef[i]&&(t?t=!1:this.fontString+=" ",this.fontString+=this.fontDef[i])},t.Drawing.annotation.prototype.configs=["color","font"],t.Drawing.annotation.prototype.measure=function(){},t.Drawing.annotation.prototype.render=function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,g,f,m=F;if("a","lphabe","tic","m","i","ddl","e",!this.ta&&(i=(t=this.stx).panels[this.panelName],a=t.getYAxisByField(i,this.field),i&&(!this.field||a))){r=t.pixelFromTick(this.p0[0],i.chart),n=this.pixelFromValue(i,this.p0[0],this.p0[1],a),e.font=this.fontString,e.textBaseline="middle",s=r,o=n,l=this.w,h=this.h,c=this.getLineColor(),this.stem&&(this.stem.d?(u=t.pixelFromTick(this.stem.t),p=this.pixelFromValue(i,this.stem.t,this.stem.v,a),m.L4o(37),d=m.S4o(l,s,2),m.A4o(37),g=m.i4o(h,o,2)):this.stem.x&&(u=s,p=o,s+=this.stem.x,o+=this.stem.y,m.L4o(38),d=m.i4o(s,"2",l),m.A4o(37),g=m.i4o(h,o,2)),e.beginPath(),this.borderColor?e.strokeStyle=this.borderColor:e.strokeStyle=c,e.moveTo(u,p),e.lineTo(d,g),e.stroke()),f=e.lineWidth,this.highlighted?(t.canvasColor("stx_annotation_highlight_bg",e),m.L4o(8),e.fillRect(m.i4o(s,f),m.i4o(f,h,o,2,m.A4o(39)),m.S4o(f,l,2,m.L4o(40)),m.S4o(f,h,2,m.L4o(40)))):this.fillColor?(e.fillStyle=this.fillColor,m.L4o(41),e.fillRect(s,m.i4o(2147483647,"2",o,h),l,h)):this.stem&&(e.fillStyle=t.containerColor,m.L4o(42),e.fillRect(s,m.S4o("2",o,h),l,h)),this.borderColor&&(e.beginPath(),e.strokeStyle=this.highlighted?t.getCanvasColor("stx_highlight_vector"):this.borderColor,m.A4o(8),e.rect(m.i4o(s,f),m.S4o(o,h,2147483647,"2",f,m.L4o(43)),m.i4o(f,l,2,m.A4o(40)),m.S4o(f,0,"2",h,m.L4o(44))),e.stroke()),this.highlighted?t.canvasColor("stx_annotation_highlight",e):e.fillStyle=c,m.L4o(45);var y=m.i4o(10,10,2,10,7);if(o+=this.padding/y,!this.ta)for(var v=0;v<this.arr.length;v++){e.fillText(this.arr[v],s+this.padding,o-h/2+this.fontSize/2),m.L4o(46);var b=m.S4o(3,505573687,4,674098220,4);o+=this.fontSize+("2">>b)}e.textBaseline="alphabetic"}},t.Drawing.annotation.prototype.onChange=function(e){F.V0f()},t.Drawing.annotation.prototype.edit=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v=F;if(("p","x","p","x",a=this.stx.panels[this.panelName])&&(r=this.stx.controls.annotationSave,n=this.stx.controls.annotationCancel,r&&n&&(s=this.stx,o=this.ta,s.editingAnnotation=!0,s.undisplayCrosshairs(),s.openDialog="annotation",o||("Enter ","Text","har","d","w","r","ap",(o=this.ta=document.createElement("TEXTAREA")).className="stx_annotation",o.onkeyup=x(this),o.onmouseup=(f=s,v.V0f(),function(e){v.V0f(),f.manageTouchAndMouse&&t.ChartEngine.drawingLine&&f.mouseup(e)}),o.setAttribute("wrap","hard"),t.isIOS7or8&&o.setAttribute("placeholder","Enter Text"),s.chart.container.appendChild(o),o.style.position="absolute",o.style.paddingLeft=this.padding+"px",o.value=this.text,t.touchDevice&&(o.ontouchstart=function(e){v.D0f(),e.stopPropagation()})),l=this,o.oninput=function(e){v.V0f(),"historyUndo"!=e.inputType&&"historyRedo"!=e.inputType&&l.onChange(e)},o.style.font=this.fontString,this.color&&("transparent"==this.color||"auto"==this.color?(h=getComputedStyle(o))&&t.isTransparent(h.backgroundColor)?o.style.color=this.getLineColor():("#","0","0","0",o.style.color="#000"):o.style.color=this.color),c=s.pixelFromTick(this.p0[0],a.chart),u=this.pixelFromValue(a,this.p0[0],this.p0[1],s.getYAxisByField(a,this.field)),o.style.left=c+140<s.chart.canvasRight?c+"px":s.chart.canvasRight-200+"px",o.style.top=u+60<s.chart.canvasHeight?u-(isNaN(this.h)?this.defaultHeight:this.h/2)+"px":u-60+"px",this.repositionTextArea&&this.repositionTextArea(o),v.D0f(),t.safeClickTouch(r,(m=this,function(e){var i;""!==m.ta.value&&(m.text=m.ta.value,(i=m.stx).editingAnnotation=!1,m.adjust(),i.drawingSnapshot?i.undoStamp(t.shallowClone(i.drawingSnapshot),i.exportDrawings()):i.addDrawing(m),i.undo(),i.cancelTouchSingleClick=!0,i.changeOccurred("vector"))})),t.safeClickTouch(n,(y=this,function(e){var t;(t=y.stx).editingAnnotation=!1,t.undo(),t.cancelTouchSingleClick=!0})),x(this)(),i&&(s.drawingSnapshot=s.exportDrawings(),this.hidden=!0,s.draw(),s.activeDrawing=this,t.ChartEngine.drawingLine=!0,e=s.chart.tempCanvas.context,s.chart.tempCanvas.style.display="block",this.w=o.clientWidth,this.h=o.clientHeight,t.clearCanvas(e.canvas,s),this.render(e),this.highlighted=!1,this.edit(e)),t.isAndroid&&!t.is_chrome&&!t.isFF))){this.priorBottom=s.chart.container.style.bottom,400,v.L4o(52);var b=v.i4o(2,96,6,3);(d=s.resolveY(u)+b)>t.pageHeight()-400&&("p","x",p=t.pageHeight()-d,v.A4o(8),g=v.i4o(400,p),v.A4o(0),s.chart.container.style.bottom=v.S4o("px",g))}function x(e){return function(i){var a,s,o,l,h,c,u,d,p;if("p",v.V0f(),"x",i)switch(i.keyCode){case 27:return void e.stx.undo()}a=e.stx,o=(s=e.ta).value.split("\n"),l=0,a.chart.context.font=e.fontString;for(var g=0;g<o.length;g++)(h=a.chart.context.measureText(o[g]).width)>l&&(l=h);v.A4o(11);var f=v.i4o(2,0,9,3);c=(o.length+f)*(e.fontSize+e.fontModifier),l=Math.max(l,2*e.defaultWidth),s.style.width=l+e.whitespace+"px",v.L4o(0),s.style.height=v.i4o("px",c),u=parseInt(t.stripPX(s.style.top),10),d=t.stripPX(s.style.left),p=2;for(var m=1;-952549437!==v.V9R(m.toString(),m.toString().length,37837);m++)"n","o","n","e",l=s.clientWidth,c=s.clientHeight,s.focus(),!1===e.border&&(s.style.border="none"),p+=2;if(725240161!==v.V9R(p.toString(),p.toString().length,74886)&&(l=s.clientWidth,c=s.clientHeight,s.focus(),1!=e.border&&(s.style.border="")),d+l+100<e.stx.chart.canvasWidth){"inl","ine-","bloc","k","p","x",v.A4o(0),r.style.top=v.i4o("px",u),v.L4o(0),n.style.top=v.S4o("px",u),v.A4o(47),r.style.left=v.i4o("px",2147483647,"10",d,l),r.style.display="inline-block",v.L4o(48);var y=v.S4o(12,4,340,7);n.style.left=d+l+r.clientWidth+("5"|y)+"px",n.style.display="inline-block"}else if(u+c+30<e.stx.chart.canvasHeight){"i","nli","ne","-block",v.L4o(49),r.style.top=v.S4o(c,u,10,"px"),v.A4o(50),n.style.top=v.S4o(u,1745009696,c,"10","px"),v.A4o(0),r.style.left=v.i4o("px",d),r.style.display="inline-block",v.A4o(51);var b=v.i4o(15,17,19,5);n.style.left=d+r.clientWidth-b+"px",n.style.display="inline-block"}else{"inli","ne-bl","o","ck","p","x","p","x",v.A4o(29),r.style.top=v.S4o(u,35,"px"),v.A4o(29),n.style.top=v.S4o(u,35,"px"),v.L4o(0),r.style.left=v.S4o("px",d),r.style.display="inline-block",v.L4o(12);var x=v.S4o(11,25,19);n.style.left=d+r.clientWidth-x+"px",n.style.display="inline-block"}}}},t.Drawing.annotation.prototype.click=function(e,t,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,t,i,a.chart),this.adjust(),this.edit(e),!1},t.Drawing.annotation.prototype.reposition=function(e,t,i,a){var r,n,s;t&&(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),this.render(e))},t.Drawing.annotation.prototype.intersected=function(e,i,a){var r,n,s,o,l,h,c,u,d,p=F;if(n=(r=this.stx).panels[this.panelName],!this.p0)return null;s=r.pixelFromTick(this.p0[0],n.chart),o=r.getYAxisByField(n,this.field),p.A4o(8);var g=p.i4o(13,12);p.A4o(53);var f=p.i4o(2,2,2,7,10);return l=this.pixelFromValue(n,this.p0[0],this.p0[g],o)-this.h/f,h=s+this.w,c=l+this.h,this.stem&&this.stem.x&&(s+=this.stem.x,h+=this.stem.x,l+=this.stem.y,c+=this.stem.y),u=r.pixelFromTick(e,n.chart),d=r.pixelFromValueAdjusted(n,e,i),u+a.r>=s&&u-a.r<=h&&d+a.r>=l&&d-a.r<=c&&(this.highlighted=!0,{p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)})},t.Drawing.annotation.prototype.abort=function(){var e,i,a;i=(e=this.stx).controls.annotationSave,a=e.controls.annotationCancel,i&&(i.style.display="none"),a&&(a.style.display="none"),this.ta&&e.chart.container.removeChild(this.ta),this.ta=null,e.openDialog="",e.showCrosshairs(),F.V0f(),e.editingAnnotation=!1,t.clearCanvas(e.chart.tempCanvas,e),!t.isAndroid||t.is_chrome||t.isFF||(e.chart.container.style.bottom=this.priorBottom),t.fixScreen()},t.Drawing.annotation.prototype.reconstruct=function(e,i){this.stx=e,this.color=i.col,this.panelName=i.pnl,this.d0=i.d0,this.tzo0=i.tzo0,this.v0=i.v0,this.field=i.fld,this.text=e.escapeOnSerialize?decodeURIComponent(i.text):i.text,this.stem=i.stem,this.borderColor=i.bc,this.fillColor=i.bg,this.lineWidth=i.lw,F.V0f(),this.pattern=i.ptrn,this.font=t.replaceFields(i.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.font||(this.font={}),this.adjust()},t.Drawing.annotation.prototype.serialize=function(){var e,i;return e={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text},this.font&&("w","t","s","t",i=t.removeNullValues(t.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),t.isEmpty(i)||(e.fnt=i)),this.stem&&(e.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(e.bc=this.borderColor),this.fillColor&&(e.bg=this.fillColor),this.lineWidth&&(e.lw=this.lineWidth),this.pattern&&(e.ptrn=this.pattern),e},t.Drawing.annotation.prototype.renderText=function(){var e,i,a,r,n,s,o,l,h=F;if(this.getFontString(),i=(e=this.stx).panels[this.panelName]){this.arr=this.text.split("\n"),h.D0f(),a=0,e.chart.context.font=this.fontString;for(var c=0;c<this.arr.length;c++)(r=e.chart.context.measureText(this.arr[c]).width)>a&&(a=r);if(0===a)h.L4o(54),a=h.i4o(3,15,10)*this.defaultWidth;this.fontSize=t.stripPX(this.fontDef.size),h.A4o(55);var u=h.S4o(2,9,3);n=(this.arr.length+u)*(this.fontSize+this.fontModifier),t.touchDevice&&(n+=5),this.w=a+this.whitespace+this.padding,this.h=n,s=e.pixelFromTick(this.p0[0],i.chart)+a,o=e.getYAxisByField(i,this.field),h.L4o(0);var d=h.i4o(1,0);l=this.pixelFromValue(i,this.p0[0],this.p0[d],o)+n,this.p1=[e.tickFromPixel(s,i.chart),this.valueFromPixel(l,i,o)],this.stem&&this.stem.d&&(this.stem.t=e.tickFromDate(this.stem.d,i.chart))}},t.Drawing.annotation.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(F.V0f(),this.setPoint(0,this.d0,this.v0,e.chart),this.renderText())},t.Drawing.segment=function(){F.D0f(),this.name="segment"},t.inheritsFrom(t.Drawing.segment,t.Drawing.BaseTwoPoint),t.Drawing.segment.prototype.render=function(e){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x;if("n","o","n","e",r=(a=this.stx).panels[this.panelName],n=a.getYAxisByField(r,this.field),r&&(!this.field||n)){if(n=n||r.yAxis,s=a.pixelFromTick(this.p0[0],r.chart),o=a.pixelFromTick(this.p1[0],r.chart),l=this.pixelFromValue(r,this.p0[0],this.p0[1],n),h=this.pixelFromValue(r,this.p1[0],this.p1[1],n),c=this.lineWidth,u=this.getLineColor(),"none"==(d={pattern:this.pattern,lineWidth:c}).pattern&&(d.pattern="solid"),a.plotLine(s,o,l,h,u,this.name,e,r,d),this.axisLabel&&!this.repositioner)if("horizontal"==this.name)a.endClip(),p=this.p0[1],r.chart.transformFunc&&(p=r.chart.transformFunc(a,r.chart,p)),p=n.priceFormatter?n.priceFormatter(a,r,p):a.formatYAxisPrice(p,r,null,n),a.createYAxisLabel(r,p,l,u,null,null,n),a.startClip(r.name);else if("vertical"==this.name&&this.p0[0]>=0&&!a.chart.xAxis.noDraw){if(g=a.dateFromTick(this.p0[0],r.chart,!0),t.ChartEngine.isDailyInterval(a.layout.interval)?g.setHours(0,0,0,0):(m=1e3*g.getSeconds()+g.getMilliseconds(),i.Date&&a.displayZone&&(f=new i.Date(g.getTime(),a.displayZone),g=new Date(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes()),g=new Date(g.getTime()+m))),y=t.mmddhhmm(t.yyyymmddhhmm(g)),r.chart.xAxis.formatter){-85838980,-2135801658,v=2;for(var S=1;-85838980!==F.V9R(S.toString(),S.toString().length,72641);S++)y=r.chart.xAxis.formatter(g,this.name,1,1,y),v+=2;-2135801658!==F.j9R(v.toString(),v.toString().length,4857)&&(y=r.chart.xAxis.formatter(g,this.name,1,1,y)),y=r.chart.xAxis.formatter(g,this.name,null,null,y)}else this.stx.internationalizer&&(y=t.displayableDate(a,a.chart,g));a.endClip(),a.createXAxisLabel({panel:r,txt:y,x:s,backgroundColor:u,color:null,pointed:!0,padding:2}),a.startClip(r.name)}this.highlighted&&"horizontal"!=this.name&&"vertical"!=this.name&&(b="p0"==this.highlighted,x="p1"==this.highlighted,this.littleCircle(e,s,l,b),this.littleCircle(e,o,h,x))}},t.Drawing.segment.prototype.abort=function(){F.V0f(),this.stx.setMeasure(null,null,null,null,!1)},t.Drawing.segment.prototype.intersected=function(e,i,a){var r,n;if("vert","i","cal","vertic","al",!this.p0||!this.p1)return null;if("horizontal"!=(r=this.name)&&"vertical"!=r&&"gartley"!=r)for(var s in n={0:this.p0,1:this.p1})if(this.pointIntersection(n[s][0],n[s][1],a))return F.A4o(0),this.highlighted=F.S4o(s,"p"),{action:"drag",point:"p"+s};return"horizontal"!=r&&"vertical"!=r||(r="line"),this.lineIntersection(e,i,a,r)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}):null},t.Drawing.segment.prototype.configs=["color","lineWidth","pattern"],t.Drawing.segment.prototype.copyConfig=function(e){t.Drawing.copyConfig(this,e),"none"==this.pattern&&-1==this.configs.indexOf("fillColor")&&(this.pattern="solid")},t.Drawing.segment.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.adjust()},t.Drawing.segment.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}},t.Drawing.line=function(){this.name="line"},t.inheritsFrom(t.Drawing.line,t.Drawing.segment),t.Drawing.line.prototype.dragToDraw=!1,t.Drawing.line.prototype.calculateOuterSet=function(e){var i,a,r,n=F;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!t.ChartEngine.isDailyInterval(this.stx.layout.interval)){(i={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>i.x1&&(i={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),n.A4o(56);var s=n.S4o(5,985,803);a=i.x0-s,n.A4o(8);var o=n.i4o(7e3,6e3);r=i.x1+o,this.v0B=t.yIntersection(i,a),this.v1B=t.yIntersection(i,r),this.d0B=this.stx.dateFromTick(a,e.chart),this.d1B=this.stx.dateFromTick(r,e.chart)}},t.Drawing.line.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.calculateOuterSet(a),F.V0f(),this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},t.Drawing.line.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,F.V0f(),this.lineWidth=t.lw,this.v0=t.v0,this.v1=t.v1,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.field=t.fld,t.d0B&&(this.d0B=t.d0B,this.d1B=t.d1B,this.v0B=t.v0B,this.v1B=t.v1B),this.adjust()},t.Drawing.line.prototype.serialize=function(){var e;return e={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field},this.d0B&&(e.d0B=this.d0B,e.d1B=this.d1B,e.v0B=this.v0B,e.v1B=this.v1B),e},t.Drawing.line.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),F.V0f(),F.A4o(8),this.setPoint(F.i4o("1",0),this.d1,this.v1,e.chart),t.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,e.chart),this.setPoint(1,this.d1B,this.v1B,e.chart)))},t.Drawing.horizontal=function(){this.name="horizontal"},t.inheritsFrom(t.Drawing.horizontal,t.Drawing.segment),t.Drawing.horizontal.prototype.dragToDraw=!1,t.Drawing.horizontal.prototype.measure=function(){},t.Drawing.horizontal.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.setPoint(0,t,i,a.chart),!0},t.Drawing.horizontal.prototype.intersected=function(e,t,i){var a,r;return this.lineIntersection(e,t,i,"line")?(a=this.stx.chart.dataSet.length,r=this.p0[1],this.highlighted=!0,{action:"move",p0:[a-2,r],p1:[a-1,r],tick:e,value:this.valueOnDrawingAxis(e,t)}):(F.V0f(),null)},t.Drawing.horizontal.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.v0=t.v0,this.d0=t.d0,this.tzo0=t.tzo0,this.axisLabel=t.al,this.field=t.fld,this.adjust()},t.Drawing.horizontal.prototype.serialize=function(){return F.D0f(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field}},t.Drawing.horizontal.prototype.adjust=function(){var e,t=F;if(e=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,e.chart),t.V0f(),t.A4o(57);var i=t.S4o(20,15,17,118);t.L4o(1),this.p1=[this.p0[0]+i,this.p0[t.S4o(1,"1")]]}},t.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"],t.Drawing.vertical=function(){var e;e=2;for(var t=1;138411955!==F.V9R(t.toString(),t.toString().length,25013);t++)this.name="",e+=2;1378594773!==F.V9R(e.toString(),e.toString().length,39795)&&(this.name="vertical")},t.inheritsFrom(t.Drawing.vertical,t.Drawing.horizontal),t.Drawing.vertical.prototype.measure=function(){},t.Drawing.vertical.prototype.intersected=t.Drawing.segment.prototype.intersected,t.Drawing.vertical.prototype.adjust=function(){var e,t=F;if(e=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,e.chart),t.A4o(29);var i=t.S4o(0,6,7);t.A4o(58);var a=t.i4o(60,19,5,20,1716720368);this.p1=[this.p0[0],this.p0[i]+("1"<<a)]}},t.Drawing.measure=function(){F.D0f(),this.name="measure"},t.inheritsFrom(t.Drawing.measure,t.Drawing.segment),t.Drawing.measure.prototype.click=function(e,t,i){return this.copyConfig(),this.penDown?(this.stx.undo(),this.penDown=!1,!0):(this.p0=[t,i],this.penDown=!0,!1)},t.Drawing.rectangle=function(){F.D0f(),this.name="rectangle"},t.inheritsFrom(t.Drawing.rectangle,t.Drawing.BaseTwoPoint),t.Drawing.rectangle.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v=F;a=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(a,this.field),!a||this.field&&!r||(n=i.pixelFromTick(this.p0[0],a.chart),s=i.pixelFromTick(this.p1[0],a.chart),o=this.pixelFromValue(a,this.p0[0],this.p0[1],r),l=this.pixelFromValue(a,this.p1[0],this.p1[1],r),h=Math.round(Math.min(n,s))+.5,c=Math.min(o,l),u=Math.max(n,s)-h,d=Math.max(o,l)-c,p=this.getLineColor(),(g=this.fillColor)&&!t.isTransparent(g)&&"auto"!=g&&(e.beginPath(),e.rect(h,c,u,d),e.fillStyle=g,v.L4o(8),e.globalAlpha=v.S4o("0.2",0),e.fill(),e.closePath(),e.globalAlpha=1),f={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&"none"==f.pattern&&(f.pattern="solid",.1==f.lineWidth&&(f.lineWidth=1)),i.plotLine(n,s,o,o,p,"segment",e,a,f),v.A4o(8),i.plotLine(s,s,v.S4o(o,.5),v.i4o(.5,l,v.A4o(0)),p,"segment",e,a,f),i.plotLine(s,n,l,l,p,"segment",e,a,f),v.L4o(59),i.plotLine(n,n,v.i4o("0.5",0,l),v.S4o(o,.5,v.A4o(8)),p,"segment",e,a,f),this.highlighted&&("p","0",m="p0"==this.highlighted,y="p1"==this.highlighted,this.littleCircle(e,n,o,m),this.littleCircle(e,s,l,y)))},t.Drawing.rectangle.prototype.intersected=function(e,i,a){var r;if(!this.p0||!this.p1)return null;for(var n in r={0:this.p0,1:this.p1})if(this.pointIntersection(r[n][0],r[n][1],a))return F.L4o(0),this.highlighted=F.i4o(n,"p"),{action:"drag",point:"p"+n};return this.boxIntersection(e,i,a)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:this.valueOnDrawingAxis(e,i)}):(F.D0f(),null)},t.Drawing.rectangle.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.rectangle.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.field=t.fld,this.adjust()},t.Drawing.rectangle.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field}},t.Drawing.shape=function(){var e=F;this.name="shape",e.A4o(60),this.radians=e.i4o("0",0),this.a=0,this.rotating=!1,this.textMeasure=!1,this.configurator="shape",e.L4o(27),this.dimension=[0,e.i4o("0",2147483647)],this.points=[]},t.inheritsFrom(t.Drawing.shape,t.Drawing.BaseTwoPoint),t.Drawing.shape.prototype.setRotationOnInitialDraw=!1,t.Drawing.shape.prototype.measure=function(){},t.Drawing.shape.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k=F;if(this.points.length&&(a=(i=this.stx).panels[this.panelName],r=i.getYAxisByField(a,this.field),a&&(!this.field||r))){if(n=i.pixelFromTick(this.p0[0],a.chart),s=this.pixelFromValue(a,this.p0[0],this.p0[1],r),this.p1){if(o=i.pixelFromTick(this.p1[0],a.chart),l=this.pixelFromValue(a,this.p1[0],this.p1[1],r),k.A4o(8),e.globalAlpha=k.i4o("0.5",0),e.fillStyle=this.getLineColor(),this.rotating){if(k.L4o(61),this.radians=Math.atan(k.S4o(s,n,o,l)),o<n)this.radians+=Math.PI;else if(l<s){k.L4o(12);var T=k.i4o(4,11,9);this.radians+=T*Math.PI}k.L4o(8);var M=k.S4o(150,140);k.A4o(20);var P=k.i4o(21,12,18,1,24);this.a=parseInt((36*this.radians/Math.PI).toFixed(0),M)*P,this.a%=360,k.A4o(62);var _=k.S4o(3,603,90,9);this.radians=this.a*Math.PI/_,this.textMeasure&&e.fillText(this.a+"",o+10,l+10)}else this.penDown&&("x",",",this.sx=Math.max(1,parseFloat(Math.abs(2*(o-n)/this.dimension[0]).toFixed(1))),o<n&&(k.L4o(2),this.sx*=-k.S4o(1,"1")),this.sy=Math.max(1,parseFloat(Math.abs(2*(l-s)/this.dimension[1]).toFixed(1))),l<s&&(k.L4o(1),this.sy*=-k.S4o(0,"1")),this.textMeasure&&e.fillText(this.sx+"x,"+this.sy+"x",o+this.sx+5,l+this.sy+5));e.globalAlpha=1}for(void 0===this.sx&&(this.sx=this.sy=1),h=this.lineWidth,k.V0f(),h||(h=1.1),c={pattern:this.pattern,lineWidth:h},this.highlighted&&"none"==c.pattern&&("s","ol","id",c.pattern="solid",.1==c.lineWidth&&(c.lineWidth=1)),u=this.getLineColor(),this.highlighted&&.1==h&&(h=1.1),d=this.fillColor,h/=2*Math.abs(this.sx*this.sy)/(Math.abs(this.sx)+Math.abs(this.sy)),e.save(),e.translate(n,s),e.rotate(this.radians),e.scale(this.sx,(r||a.yAxis).flipped?-this.sy:this.sy),f={x:(this.dimension[0]-1)/2,y:(this.dimension[1]-1)/2},p=0;p<this.points.length;p++){for(e.beginPath(),g=0;g<this.points[p].length;g++)"M"==(C=this.points)[p][g]?(m=C[p][++g]-f.x,y=C[p][++g]-f.y,e.moveTo(m,y)):"L"==C[p][g]?(m=C[p][++g]-f.x,y=C[p][++g]-f.y,e.lineTo(m,y)):"Q"==C[p][g]?(v=C[p][++g]-f.x,x=C[p][++g]-f.y,m=C[p][++g]-f.x,y=C[p][++g]-f.y,e.quadraticCurveTo(v,x,m,y)):"B"==C[p][g]&&(v=C[p][++g]-f.x,x=C[p][++g]-f.y,b=C[p][++g]-f.x,S=C[p][++g]-f.y,m=C[p][++g]-f.x,y=C[p][++g]-f.y,e.bezierCurveTo(v,x,b,S,m,y));e.closePath(),d&&!t.isTransparent(d)&&"auto"!=d&&(e.fillStyle=d,e.fill()),u&&"none"!=this.pattern&&(e.strokeStyle=u,e.lineWidth=h,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(h,this.pattern)),e.lineDashOffset=0),e.stroke())}e.restore(),e.save(),e.translate(n,s),e.rotate(this.radians),this.highlighted?(D="p0"==this.highlighted,A="p1"==this.highlighted,w="p2"==this.highlighted,this.littleCircle(e,0,0,D),k.A4o(36),this.mover(e,k.S4o(2091743392,"0"),0,D),this.littleCircle(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,A),this.resizer(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,A),this.littleCircle(e,this.sx*this.dimension[0]/2,0,w),this.rotator(e,this.sx*this.dimension[0]/2,0,w),e.globalAlpha=.5,e.fillStyle=this.getLineColor(null,!1),this.textMeasure&&(e.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),e.fillText(this.a+"",this.sx*this.dimension[0]/2+12,5)),e.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(e,this.sx*this.dimension[0]/2,0,!0):this.resizer(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),e.restore()}},t.Drawing.shape.prototype.reposition=function(e,t,i,a){var r,n,s,o,l,h,c,u,d,p=F;if(t)if(r=this.stx,p.D0f(),n=r.panels[this.panelName],"move"==t.action)s=t.tick-i,o=t.value-a,this.setPoint(0,t.p0[0]-s,t.p0[1]-o,n.chart),this.render(e);else if(l=r.getYAxisByField(n,this.field),h=r.pixelFromTick(this.p0[0],n.chart),c=this.pixelFromValue(n,this.p0[0],this.p0[1],l),u=r.pixelFromTick(i,n.chart),d=this.pixelFromValue(n,i,a,l),"scale"==t.action)this[t.point]=[i,a],this.sx=parseFloat((((u-h)*Math.cos(this.radians)+(d-c)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((d-c)*Math.cos(this.radians)-(u-h)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(e);else if("rotate"==t.action){if(this[t.point]=[i,a],p.A4o(61),this.radians=Math.atan(p.S4o(c,h,u,d)),u<h)this.radians+=Math.PI;else if(d<c){p.L4o(63);var g=p.S4o(6,24,148,14,15);this.radians+=g*Math.PI}p.A4o(17);var f=p.i4o(1940,15,130);p.L4o(64);var m=p.S4o(5,4,4);this.a=parseInt((36*this.radians/Math.PI).toFixed(0),f)*m,this.sx<0&&(this.a=this.a+180),this.a%=360,p.L4o(0);var y=p.i4o(160,20);this.radians=this.a*Math.PI/y,this.render(e)}},t.Drawing.shape.prototype.intersected=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S=F;if(r=this.stx,!this.p0)return null;if(r.repositioningDrawing==this&&r.repositioningDrawing.repositioner)return r.repositioningDrawing.repositioner;n=r.panels[this.panelName],s=r.getYAxisByField(n,this.field),o=r.pixelFromTick(this.p0[0],n.chart),l=this.pixelFromValue(n,this.p0[0],this.p0[1],s),h=r.pixelFromTick(e,n.chart),c=r.pixelFromValueAdjusted(n,e,i),u=c-=l,d=h-=o,h=Math.cos(this.radians)*d+Math.sin(this.radians)*u,c=Math.cos(this.radians)*u-Math.sin(this.radians)*d,h/=this.sx,c/=this.sy,this.padding=t.ensureDefaults(this.padding||{},{left:0,right:0,top:0,bottom:0}),p=this.padding.right+this.padding.left,g=this.padding.bottom+this.padding.top,f=Math.pow(t.touchDevice?25:5+this.littleCircleRadius(),2),m=Math.abs(f/(this.sx*this.sy)),S.L4o(65);var C=S.S4o(2,0,16,20);S.A4o(66);var D=S.i4o(11,12,128,12,14);S.A4o(17);var A=S.S4o(32,11,3);S.A4o(67);var w=S.S4o(4,4,1,1,1);S.A4o(8);var k=S.S4o(1785641931,11);S.L4o(67);var T=S.S4o(22,22,1,1,1);S.A4o(68);var M=S.S4o(13,236,18);S.L4o(69);var P=S.i4o(40,4,8,16,10);y=Math.pow((this.dimension[0]-p+3)/C,D)+Math.pow((this.dimension[A]-g+3)/2,w)>Math.pow(h-p/("2"<<k),T)+Math.pow(c-g/M,P),S.L4o(17);var _=S.S4o(180,14,13);S.L4o(12);var L=S.S4o(12,10,0);v=(f-(Math.pow(h*this.sx,_)+Math.pow(c*this.sy,L)))/Math.abs(this.sx*this.sy),S.A4o(70);var E=S.i4o(0,17,11,4);S.A4o(0);var H=S.S4o(2,0);b=m-Math.pow(h-this.dimension[0]/2,E)-Math.pow(c-this.dimension[1]/2,H),S.L4o(8);var O=S.i4o(18,16);S.L4o(11);var I=S.S4o(1,0,3,1);return x=m-Math.pow(h-this.dimension[0]/2,O)-Math.pow(c,I),y?("p","0",b>=x&&b>=v&&b>-1?(this.highlighted="p1",{action:"scale"}):x>=b&&x>=v&&x>-1?(this.highlighted="p2",{action:"rotate"}):(this.highlighted=!(v>-1)||"p0",{action:"move",p0:t.clone(this.p0),tick:e,value:this.valueOnDrawingAxis(e,i)})):null},t.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.shape.prototype.littleCircleRadius=function(){return F.V0f(),3},t.Drawing.shape.prototype.click=function(e,t,i){var a;return!!this.points.length&&(this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?(this.setPoint(1,t,i,a.chart),this.rotating||!this.setRotationOnInitialDraw?(this.penDown=!1,this.rotating=!1,!0):(this.rotating=!0,!1)):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1))},t.Drawing.shape.prototype.adjust=function(){var e,i,a,r=F;if(e=this.stx.panels[this.panelName]){i=this.name+"_v"+(this.version||0),t.Drawing[i]&&(a=new t.Drawing[i],this.name=a.name,this.dimension=a.dimension,this.padding=a.padding,this.points=a.points,this.version=a.version),this.setPoint(0,this.d0,this.v0,e.chart),r.L4o(17);var n=r.S4o(85,3,30);r.A4o(69);var s=r.S4o(648,5,7,4,596);this.radians=Math.round(this.a/n)*Math.PI/s}},t.Drawing.shape.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.v0=t.v0,this.tzo0=t.tzo0,this.a=t.a,this.sx=t.sx,this.sy=t.sy,this.field=t.fld,F.D0f(),this.version=t.ver,this.adjust()},t.Drawing.shape.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version}},t.Drawing.arrow=function(){this.name="arrow",this.version=1,this.dimension=[11,22],this.padding={left:0,right:0,top:11,bottom:0},F.A4o(8),this.points=[["M",3,21,"L",7,21,"L",7,16,"L",10,16,"L",5,11,"L",0,16,"L",3,F.S4o("16",0),"L",3,21]]},t.inheritsFrom(t.Drawing.arrow,t.Drawing.shape),t.Drawing.getDrawingToolList=function(e){var i,a;for(var r in i={},a={arrow_v0:!0,BaseTwoPoint:!0,fibonacci:!0,shape:!0},t.extend(a,e),t.Drawing)!a[r]&&t.Drawing[r].prototype.render&&(i[(new t.Drawing[r]).name]=r);return i}},l=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).EaseMachine=function(e,t,i,a){this.fc=e,F.V0f(),this.ms=t,(i||0===i)&&this.reset(i,a)},t.EaseMachine.prototype.reset=function(e,t){for(var i in e||0===e||(e=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,F.L4o(71),F.V0f(),this.useNameValuePairs=F.S4o(typeof t,"object"),this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=e,this.endValues=t):(this.startValues={default:e},this.endValues={default:t}),this.changeValues={},this.currentValues={},this.startValues)this.changeValues[i]=this.endValues[i]-this.startValues[i]},F.D0f(),t.EaseMachine.prototype.next=function(){var e;for(var t in(e=Date.now())>=this.startTime+this.ms&&(e=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),F.V0f(),this.currentValues={},this.changeValues)this.currentValues[t]=this.fc(e-this.startTime,this.startValues[t],this.changeValues[t],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},t.EaseMachine.prototype.hasCompleted=!0,t.EaseMachine.prototype.run=function(e,t,i,a){var r;function n(){var t;r.afid=null,r.okayToRun&&(F.V0f(),t=r.next(),e(t),r.hasCompleted||(r.afid=requestAnimationFrame(n)))}this.afid&&cancelAnimationFrame(this.afid),t||0===t?this.reset(t,i):(i||0===i)&&this.reset(this.currentValues,i),r=this,this.running=!0,a?this.afid=requestAnimationFrame(n):n()},t.EaseMachine.prototype.stop=function(){return F.V0f(),"unde","f","i","ned",this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.hasCompleted=!0,this.running=!1,void 0===this.useNameValuePairs?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},t.ChartEngine.prototype.animations.zoom.isStub&&(t.ChartEngine.prototype.animations.zoom=new t.EaseMachine(Math.easeOutCubic,400))},h=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y=F;function v(e){return Math.asinh?Math.asinh(e):e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function b(e,t){return y.A4o(71),y.i4o(e,t)}function x(e){return Math.cosh?Math.cosh(e):(Math.exp(e)+Math.exp(-e))/2}function S(e,t){return y.D0f(),Boolean(e&&t)}function C(e){return y.D0f(),Math.atanh?Math.atanh(e):Math.log((1+e)/(1-e))/2}function D(t,s,o,l){this.type_=t,this.index_=s||0,this.prio_=o||0,this.number_=null!=l?l:0,this.toString=function(){switch(y.V0f(),this.type_){case e:return this.number_;case i:case a:case r:return this.index_;case n:return"CALL";default:return"Invalid Token"}}}function A(e){var t;for(y.V0f(),t=e=Math.floor(e);e>1;)y.A4o(2),t=y.i4o(--e,t);return t}function w(){this.success=!1,this.errormsg="",this.expression="",y.D0f(),this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:z,cosh:x,tanh:E,asinh:v,acosh:P,atanh:C,sqrt:Math.sqrt,log:Math.log,lg:X,log10:X,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:O,"-":I,exp:Math.exp},this.ops2={"+":q,"-":U,"*":G,"/":M,"%":_,"^":Math.pow,",":W,"||":R,"==":b,"!=":V,">":j,"<":T,">=":Y,"<=":Z,and:S,or:N},this.functions={random:B,fac:A,min:Math.min,max:Math.max,hypot:Q,pyt:Q,pow:Math.pow,atan2:Math.atan2,if:H},this.consts={E:Math.E,PI:Math.PI}}function k(e){function t(){}return t.prototype=e,y.V0f(),new t}function T(e,t){return y.L4o(72),y.i4o(e,t)}function M(e,t){return y.A4o(9),y.D0f(),y.i4o(t,e)}function P(e){return Math.acosh?Math.acosh(e):Math.log(e+Math.sqrt(e*e-1))}function _(e,t){var i;y.L4o(2),i=-y.S4o(1,"967463363");for(var a=1;y.j9R(a.toString(),a.toString().length,25304)!==i;a++)return y.L4o(74),y.i4o(t,e);if(307448022!==y.j9R(2..toString(),2..toString().length,75717))return y.L4o(0),y.i4o(t,e)}function L(e,t,i,a){this.tokens=e,this.ops1=t,y.V0f(),this.ops2=i,this.functions=a}function E(e){return Math.tanh?Math.tanh(e):e===1/0?1:e===-1/0?(y.L4o(8),-y.i4o("1",0)):(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function H(e,t,i){return e?t:i}function O(e){return Math.trunc?Math.trunc(e):(y.V0f(),e<0?Math.ceil(e):Math.floor(e))}function I(e){return-e}function z(e){return y.V0f(),Math.sinh?Math.sinh(e):(Math.exp(e)-Math.exp(-e))/2}function N(e,t){return Boolean(e||t)}function V(e,t){return y.L4o(75),y.S4o(e,t)}function R(e,t){return y.L4o(28),y.S4o(e,t,"")}function j(e,t){return y.A4o(76),y.V0f(),y.i4o(t,e)}function Y(e,t){return y.A4o(77),y.S4o(t,e)}function W(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:((e=e.slice()).push(t),e)}function U(e,t){return y.D0f(),y.A4o(8),y.i4o(e,t)}function B(e){y.L4o(29);var t=y.i4o(0,17,18);return Math.random()*(e||t)}function X(e){var t;y.L4o(33),t=y.i4o(1604951104,"2");for(var i=1;-470842282!==y.V9R(i.toString(),i.toString().length,28315);i++)return Math.log(e)-Math.LOG10E;return 1603332249!==y.j9R(t.toString(),t.toString().length,90307)?Math.log(e)-Math.LOG10E:Math.log(e)*Math.LOG10E}function q(e,t){return y.V0f(),Number(e)+Number(t)}function Q(){var e,t;if(Math.hypot)return Math.hypot.apply(this,arguments);e=0,t=arguments.length;for(var i=0;i<t;i++){if(arguments[i]===1/0||arguments[i]===-1/0)return 1/0;e+=arguments[i]*arguments[i]}return Math.sqrt(e)}function Z(e,t){return y.A4o(80),y.D0f(),y.i4o(e,t)}function G(e,t){return y.L4o(2),y.V0f(),y.S4o(t,e)}return"\\","\\","\\","r","\\","n","\\","b",e=0,i=1,y.A4o(60),a=y.S4o("2",0),y.L4o(8),r=y.i4o("3",0),n=4,/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},t.extend(L.prototype,{simplify:function(t){var n,s,o,l,h,c,u,d,p;for(t=t||{},n=[],s=[],c=this.tokens.length,d=0,d=0;d<c;d++)if((p=(u=this.tokens[d]).type_)===e)n.push(u);else if(p===r&&u.index_ in t)u=new D(e,0,0,t[u.index_]),n.push(u);else if(p===a&&n.length>1)l=n.pop(),o=n.pop(),h=this.ops2[u.index_],u=new D(e,0,0,h(o.number_,l.number_)),n.push(u);else if(p===i&&n.length>0)o=n.pop(),h=this.ops1[u.index_],u=new D(e,0,0,h(o.number_)),n.push(u);else{for(;n.length>0;)s.push(n.shift());s.push(u)}for(;n.length>0;)s.push(n.shift());return new L(s,k(this.ops1),k(this.ops2),k(this.functions))},substitute:function(e,t){var i,a,n,s,o,l;for(t instanceof L||(t=(new w).parse(String(t))),i=[],a=this.tokens.length,s=0,s=0;s<a;s++)if((n=this.tokens[s]).type_===r&&n.index_===e)for(var h=0;h<t.tokens.length;h++)l=new D((o=t.tokens[h]).type_,o.index_,o.prio_,o.number_),i.push(l);else i.push(n);return new L(i,k(this.ops1),k(this.ops2),k(this.functions))},evaluate:function(t){var s,o,l,h,c,u,d,p;for(t=t||{},s=[],c=this.tokens.length,y.A4o(2),d=y.i4o(1,"0"),y.D0f(),d=0;d<c;d++)if((p=(u=this.tokens[d]).type_)===e)s.push(u.number_);else if(p===a)l=s.pop(),o=s.pop(),h=this.ops2[u.index_],s.push(h(o,l));else if(p===r)if(u.index_ in t)s.push(t[u.index_]);else{if(!(u.index_ in this.functions))throw new Error("undefined variable: "+u.index_);s.push(this.functions[u.index_])}else if(p===i)o=s.pop(),h=this.ops1[u.index_],s.push(h(o));else{if(p!==n)throw new Error("invalid Expression");if(o=s.pop(),!(h=s.pop()).apply||!h.call)throw" is not a func","tion",y.A4o(0),new Error(y.i4o(" is not a function",h));"[object ","Arr","a","y]","[object Array]"==Object.prototype.toString.call(o)?s.push(h.apply(void 0,o)):s.push(h.call(void 0,o))}if(s.length>1)throw"invalid Expression (parity",")",new Error("invalid Expression (parity)");return s[0]},toString:function(t){var l,h,c,u,d,p,g,f,m;for(l=[],d=this.tokens.length,g=0,g=0;g<d;g++)if((f=(p=this.tokens[g]).type_)===e)l.push((m=p.number_,y.V0f(),"string"==typeof m?(s.lastIndex=0,s.test(m)?"'"+m.replace(s,(function(e){var t;return y.D0f(),"string"==typeof(t=o[e])?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+"'":"'"+m+"'"):m));else if(f===a)c=l.pop(),h=l.pop(),u=p.index_,t&&"^"==u?("Math.p","ow(",y.L4o(73),l.push(y.i4o(",",")","Math.pow(",h,c))):(y.L4o(73),l.push(y.i4o(u,")","(",h,c)));else if(f===r)l.push(p.index_);else if(f===i)h=l.pop(),"-"===(u=p.index_)?(y.L4o(49),l.push(y.S4o(u,"(",h,")"))):(y.A4o(49),l.push(y.S4o("(",u,h,")")));else{if(f!==n)throw new Error("invalid Expression");h=l.pop(),u=l.pop(),y.L4o(49),l.push(y.S4o("(",u,h,")"))}if(l.length>1)throw new Error("invalid Expression (parity)");return l[0]},variables:function(){var e,t,i;e=this.tokens.length,t=[],y.V0f();for(var a=0;a<e;a++)(i=this.tokens[a]).type_===r&&-1==t.indexOf(i.index_)&&t.push(i.index_);return t}},!0),w.parse=function(e){return(new w).parse(e)},w.evaluate=function(e,t){return w.parse(e).evaluate(t)},w.Expression=L,w.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:z,cosh:x,tanh:E,asinh:v,acosh:P,atanh:C,sqrt:Math.sqrt,log:Math.log,lg:X,log10:X,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:O,random:B,fac:A,exp:Math.exp,min:Math.min,max:Math.max,hypot:Q,pyt:Q,pow:Math.pow,atan2:Math.atan2,if:H,E:Math.E,PI:Math.PI},y.L4o(36),l=y.S4o(0,1),y.L4o(36),h=y.S4o(1,1),y.L4o(36),y.D0f(),c=y.i4o(2,1),y.L4o(36),u=y.i4o(3,1),y.A4o(78),d=y.S4o(1,"4"),y.L4o(79),p=y.i4o("5",1,1),y.L4o(36),g=y.i4o(6,1),y.A4o(36),f=y.S4o(7,1),y.A4o(36),m=y.S4o(8,1),t.extend(w.prototype,{parse:function(t){var s,o,v,b,x,S,C,A;for(this.errormsg="",this.success=!0,s=[],o=[],this.tmpprio=0,y.A4o(81),v=y.S4o(g,u,c,l),b=0,this.expression=t,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&v&g?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",b++,this.addfunc(o,s,i)),y.A4o(81),v=y.i4o(g,u,c,l)):this.isComment()||(0==(v&h)&&this.error_parsing(this.pos,"unexpected operator"),b+=2,this.addfunc(o,s,a),y.L4o(81),v=y.S4o(g,u,c,l)):this.isNumber()?(0==(v&l)&&("une","xpected number",this.error_parsing(this.pos,"unexpected number")),x=new D(e,0,0,this.tokennumber),o.push(x),y.L4o(82),v=y.S4o(p,h,d)):this.isString()?(0==(v&l)&&this.error_parsing(this.pos,"unexpected string"),x=new D(e,0,0,this.tokennumber),o.push(x),y.L4o(82),v=y.S4o(p,h,d)):this.isLeftParenth()?(0==(v&u)&&this.error_parsing(this.pos,'unexpected "("'),v&f&&(b+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(o,s,n)),y.A4o(83),v=y.S4o(c,m,l,u,g)):this.isRightParenth()?(v&m?(x=new D(e,0,0,[]),o.push(x)):0==(v&d)&&this.error_parsing(this.pos,'unexpected ")"'),y.A4o(83),v=y.i4o(p,f,h,d,u)):this.isComma()?(0==(v&p)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(o,s,a),b+=2,y.L4o(81),v=y.S4o(g,u,c,l)):this.isConst()?(0==(v&l)&&("une","x","pected constan","t",this.error_parsing(this.pos,"unexpected constant")),S=new D(e,0,0,this.tokennumber),o.push(S),y.L4o(82),v=y.S4o(p,h,d)):this.isOp2()?(0==(v&c)&&("unex","pected function",this.error_parsing(this.pos,"unexpected function")),this.addfunc(o,s,a),b+=2,v=u):this.isOp1()?(0==(v&c)&&("unexp","e","cted fu","nction",this.error_parsing(this.pos,"unexpected function")),this.addfunc(o,s,i),b++,v=u):this.isVar()?(0==(v&l)&&this.error_parsing(this.pos,"unexpected variable"),C=new D(r,this.tokenindex,0,0),o.push(C),y.A4o(83),v=y.S4o(p,f,h,d,u)):this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');s.length>0;)A=s.pop(),o.push(A);return b+1!==o.length&&this.error_parsing(this.pos,"parity"),new L(o,k(this.ops1),k(this.ops2),k(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,y.L4o(49),this.errormsg=y.S4o(e,"parse error [column ","]: ",t),this.column=e,new Error(this.errormsg)},addfunc:function(e,t,i){var a;for(a=new D(i,this.tokenindex,this.tokenprio+this.tmpprio,0);t.length>0&&a.prio_<=t[t.length-1].prio_;)e.push(t.pop());t.push(a)},isNumber:function(){var e,t,i;for(e=!1,t="";this.pos<this.expression.length&&((i=this.expression.charCodeAt(this.pos))>=48&&i<=57||46===i);)t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0;return e},unescape:function(e,t){var i,a,r,n;i=[],a=!1;for(var s=0;s<e.length;s++)if(r=e.charAt(s),a){switch(r){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push("\t");break;case"u":n=parseInt(e.substring(s+1,s+5),16),i.push(String.fromCharCode(n)),s+=4;break;default:throw y.A4o(0),this.error_parsing(y.i4o(s,t),y.S4o(r,"'","Illegal escape sequence: '\\",y.L4o(28)))}a=!1}else"\\"==r?a=!0:i.push(r);return y.D0f(),i.join("")},isString:function(){var e,t,i;if(e=!1,t="",i=this.pos,this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,i),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){var e;for(var t in this.consts)if(e=t.length,t===this.expression.substr(this.pos,e))return this.tokennumber=this.consts[t],this.pos+=e,!0;return!1},isOperator:function(){var e,t;if(43===(e=this.expression.charCodeAt(this.pos)))y.A4o(33),this.tokenprio=y.i4o(2114407840,"2"),this.tokenindex="+";else if(45===e)this.tokenprio=2,this.tokenindex="-";else if(62===e)61===this.expression.charCodeAt(this.pos+1)?(">","=",this.pos++,this.tokenprio=1,this.tokenindex=">="):(this.tokenprio=1,this.tokenindex=">");else if(60===e)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="||"}else if(61===e){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="=="}else if(33===e){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===e){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,y.A4o(33),this.tokenprio=y.S4o(1037410336,"0"),this.tokenindex="and"}else if(111===e){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===e||8729===e||8226===e)this.tokenprio=3,this.tokenindex="*";else if(47===e)this.tokenprio=4,this.tokenindex="/";else if(37===e){this.tokenprio=4,509751259,-2025131825,t=2;for(var i=1;509751259!==y.V9R(i.toString(),i.toString().length,17105);i++)this.tokenindex="%",t+=2;-2025131825!==y.j9R(t.toString(),t.toString().length,5454)&&(this.tokenindex="%")}else{if(94!==e)return!1;this.tokenprio=5,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e;return 45===(e=this.expression.charCodeAt(this.pos-1))||43===e},isPositiveSign:function(){return 43===this.expression.charCodeAt(this.pos-1)||(y.D0f(),!1)},isNegativeSign:function(){return 45===this.expression.charCodeAt(this.pos-1)||(y.V0f(),!1)},isLeftParenth:function(){return 40===this.expression.charCodeAt(this.pos)?(this.pos++,this.tmpprio+=10,!0):(y.V0f(),!1)},isRightParenth:function(){return 41===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return y.D0f(),44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var e;if(32===(e=this.expression.charCodeAt(this.pos))||9===e||10===e||13===e){this.pos++,815734407,-449425186,2;for(var t=1;815734407!==y.j9R(t.toString(),t.toString().length,21034);t++)return!1;if(-449425186!==y.j9R(2..toString(),2..toString().length,23997))return!0}return!1},isOp1:function(){var e,t;e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return y.V0f(),e.length>0&&e in this.ops1&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isOp2:function(){var e,t;e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&e in this.ops2&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isVar:function(){var e,t,i;e="";for(var a=this.pos;a<this.expression.length&&((t=this.expression.charAt(a)).toUpperCase()!==t.toLowerCase()||!(a===this.pos||"_"!=t&&(t<"0"||t>"9")));a++)e+=t;if(e.length>0){this.tokenindex=e,-216324359,1060663318,i=2;for(var r=1;-216324359!==y.j9R(r.toString(),r.toString().length,54811);r++)this.tokenprio=4,i+=2;return 1060663318!==y.j9R(i.toString(),i.toString().length,44969)&&(this.tokenprio=7),this.pos+=e.length,!0}return!1},isComment:function(){var e,t,i;y.L4o(2),e=y.i4o(1,"1771271521"),y.D0f(),t=2;for(var a=1;y.V9R(a.toString(),a.toString().length,90048)!==e;a++)i=this.expression.charCodeAt(this.pos+5),t+=2;return 1701039107!==y.j9R(t.toString(),t.toString().length,43298)&&(i=this.expression.charCodeAt(this.pos-1)),47===i&&42===this.expression.charCodeAt(this.pos)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)}},!0),w},F.D0f(),t.computeEquationChart=function(e,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A=F;for(var w in e=e.replace(/[:]/,"/"),r=0,a)"\\","]",n=new RegExp("\\["+w.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+"\\]","g"),A.L4o(0),e=e.replace(n,A.S4o(r,"symbol")),r++;function k(e){if(e.i++,a[e.s]){if(e.i>=a[e.s].length)return 0;c=a[e.s][e.i]}return A.D0f(),c.DT||(c.DT=t.strToDateTime(c.Date)),e.d=c.DT,1}for(w in s=i().parse(e),o=[],l={},h=0,u=null,d=!1,p=[],a)g={sym:w,map:a[w]},a[w]?p.unshift(g):p.push(g);for(var T=0;T<p.length;T++)f=p[T],l[f.sym]={i:0,s:f.sym},f.map?(h++,c=f.map[0]):1==h&&(d=f.sym),c.DT||(c.DT=t.strToDateTime(c.Date)),l[f.sym].d=c.DT,u||(u=l[f.sym]);A.L4o(84),m=A.S4o(0,h),y=1==h&&-1==e.indexOf("%");e:for(;v=P();)if(1==v){if(d)(x=a[u.s][u.i][d])&&(x.Close||0===x.Close)&&(x=x.Close),S=s.evaluate({symbol0:a[u.s][u.i].Close,symbol1:x}),S=Number(S.toFixed(8)),(b={DT:u.d,Close:S,Adj_Close:S})[u.s]=a[u.s][u.i].Close,isNaN(S)||S==1/0||o.push(b);else{if(m)throw C=s.evaluate({}),A.A4o(28),t.alert(A.S4o("=",C,e)),{name:"NoException",message:""};for(w in r=0,D={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},a){for(var M in D)"s","ymbol",A.A4o(0),D[M][A.i4o(r,"symbol")]=a[w][l[w].i][M];r++}(b={DT:u.d}).Adj_Close=s.evaluate(D.Adj_Close),b.Close=s.evaluate(D.Close),b.Open=s.evaluate(D.Open),b.Volume=s.evaluate(D.Volume),isNaN(b.Volume)&&(b.Volume=0),y?(b.High=s.evaluate(D.High),b.Low=s.evaluate(D.Low)):(b.High=Math.max(b.Open,b.Close),b.Low=Math.min(b.Open,b.Close)),isNaN(b.Close)||b.Close==1/0||o.push(b),isNaN(b.High)||(b.High=Number(b.High.toFixed(8))),isNaN(b.Low)||(b.Low=Number(b.Low.toFixed(8))),isNaN(b.Open)||(b.Open=Number(b.Open.toFixed(8))),isNaN(b.Close)||(b.Close=Number(b.Close.toFixed(8))),isNaN(b.Adj_Close)?b.Adj_Close=b.Close:b.Adj_Close=Number(b.Adj_Close.toFixed(8))}for(w in a)if(!k(l[w]))break e}function P(){var e,t;for(var i in e=null,t=null,A.D0f(),l)t?l[i].d.getTime()<t.d.getTime()?e=t=l[i]:l[i].d.getTime()>t.d.getTime()&&(e=t):t=l[i];return e?k(e)?-1:0:1}return o}},c=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.setLocale=function(e,i){var a,r,n,s,o=F;if("sh","o","r","t","n","umeric","nu","meri","c","num","eric","nu","m","eri","c","2","-d","igi","t","n",o.V0f(),"u","m","eric","numeri","c","nu","m","eric","undefined"!=typeof Intl&&this.locale!=e){for(this.locale=e,(r=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"}),r.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"}),r.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),r.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"}),r.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"}),r.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),r.month=new Intl.DateTimeFormat(this.locale,{month:"short"}),r.numbers=new Intl.NumberFormat(this.locale),r.priceFormatters=[],i||(o.A4o(8),i=o.i4o("8",0)),a=0;a<i+1;a++)r.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:a,minimumFractionDigits:a}));for(a=0;a<5;a++)n=a,s=a,a||(n="",s=2),o.L4o(0),r[o.i4o(n,"percent")]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});t.I18N.createMonthArrays&&t.I18N.createMonthArrays(this,r.month,this.locale)}},t.I18N=function(){},t.I18N.hereDoc=function(e){return F.D0f(),e.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"")},t.I18N.language="en",t.I18N.longMonths={zh:!0},t.I18N.reverseColorsByLocale={zh:!0,ja:!0},t.I18N.findAllTextNodes=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v;if("^\\s","*$",e||(e=document.body),e==document.body&&!document.querySelector(".ciq_stashed_texts")){"n","o","n","e",(i=document.createElement("div")).className="ciq_stashed_texts",i.style.display="none",e.appendChild(i),a=document.querySelectorAll("input,textarea,.editable_content");for(var b=0;b<a.length;b++)(r=a[b].getAttribute("placeholder"))&&("trans","late",(n=i.appendChild(document.createElement("translate"))).setAttribute("original",r),n.placeholderFor=a[b],n.appendChild(document.createTextNode(r)))}for(o=(s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),l=new RegExp("^\\s*$"),h=new RegExp("\n|\t|\f","g"),c={},u={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};o;)d=o.nodeValue,l.test(d)||(p=o.parentNode,g=o.nextSibling,u[f=p.tagName]||("TRANSLATE"!=f?("origi","nal",(m=document.createElement("translate")).setAttribute("original",d),m.appendChild(o),p.insertBefore(m,g)):("orig","in","a","l",d=p.getAttribute("original")),h.test(d)&&(d=d.replace(h,"")),c[d]||(c[d]=[]),c[d].push(o))),o=s.nextNode();if(e==document.body&&(y=t.Studies?t.Studies.studyLibrary:null))for(var x in y){if(null===c[x]&&(c[x]=[]),(v=y[x]).inputs)for(var S in v.inputs)c[S]||(c[S]=[]);if(v.outputs)for(var C in v.outputs)c[C]||(c[C]=[])}return c},t.I18N.missingWordList=function(e){var i,a,r,n,s,o;for(var l in e||(e=t.I18N.language),i=t.I18N.findAllTextNodes(),a={},(r=t.I18N.wordLists[e])||(r={}),n=function(e){F.D0f(),void 0===r[e]&&(a[e]="")},i)n(l);if(!t.Studies||!t.Studies.studyLibrary)return a;for(var h in t.Studies.studyLibrary){for(var c in n((s=t.Studies.studyLibrary[h]).name),s.inputs)switch(n(c),o=s.inputs[c],Object.prototype.toString.call(o)){case"[object String]":n(o);break;case"[object Array]":for(var u=0;u<o.length;++u)n(o[u])}for(var d in s.outputs)n(d)}return n("Show Zones"),n("OverBought"),n("OverSold"),n("Panel"),n("Show as Underlay"),n("Y-Axis"),n("Invert Y-Axis"),a},t.I18N.printableMissingWordList=function(e){return'",','\n"',JSON.stringify(t.I18N.missingWordList(e)).replace(/","/g,'",\n"')},t.I18N.translateUI=function(e,i){var a,r,n,s,o,l,h,c;if("p","t","pu"==e&&(e="pt"),t.I18N.wordLists&&(e||(e=t.I18N.language),a=t.I18N.findAllTextNodes(i),r=t.I18N.wordLists[e]))for(var u in a){n=t.I18N.translateSections(u,r),s=a[u];for(var d=0;d<s.length;d++)"ori","gi","nal",h=(l=(o=s[d]).parentNode).getAttribute("original"),","!==n&&n||(n=h),(c=l.placeholderFor)?c.placeholder=n:o.data=n}},t.I18N.translate=function(e,i){var a,r;return i||(i=t.I18N.language),t.I18N.wordLists?(r=null,(a=t.I18N.wordLists[i])&&(r=t.I18N.translateSections(e,a)||e),","===r?e:r):(console.log("Must include translations.js in order to use CIQ.I18N.translate()"),e)},t.I18N.translateSections=function(e,t){var i,a;return F.D0f(),i="","string"==typeof e&&-1!=e.indexOf(i)?(F.A4o(28),(a=(e=e.replace(/([(),])/g,F.i4o("$1",i,i))).split(i)).forEach((function(e,i,a){var r,n,s=F;if(r=e.match(/^(\s*).*\S(\s*)$/),n=t[e.trim()]){if(r){s.L4o(12);var o=s.S4o(20,19,0);s.A4o(85);var l=s.S4o(19,2,11,8,1);n=r[o]+n+r[l]}a[i]=n}})),a.join("")):t[e]},t.I18N.convertCSV=function(e){var i,a,r,n,s,o,l,h,c;if(i=new RegExp("[]|[]","g"),a=new RegExp('^(")|(")$',"g"),r=t.I18N.wordLists,e||(e=t.I18N.csv),e){s=(n=e.split("\n"))[0].split(",");for(var u=0;u<s.length;u++)r[o=s[u]]||(r[o]={});for(var d=1;d<n.length;d++){l=n[d].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[],F.L4o(8),h=l[F.S4o("0",0)],a.test(h)&&(h=h.replace(a,"")),i.test(h)&&(h=h.replace(i,'"'));for(var p=1;p<l.length;p++)c=l[p],a.test(c)&&(c=c.replace(a,"")),r[s[p]][h]=c}}},t.I18N.setLanguage=function(e,i,a,r,n){n||(n=(e.uiContext||{}).topNode||document.body),"pu"==i&&(i="pt"),t.I18N.convertCSV(r),t.I18N.language=i,t.I18N.translateUI(i,n),a||(a=t.I18N.translate),e.translationCallback=a},t.I18N.setLocale=function(e,i,a,r,n){var s,o,l;if(".j","s","undefine","d",t.xor(this.reverseColorsByLocale[i],this.reverseColorsByLocale[e.locale])&&this.reverseCandles(e),"undefined"==typeof Intl||!Intl.__addLocaleData)return e.setLocale(i,n),void(a&&a(null));r=void 0===r?"locale-data/jsonp":r,F.L4o(49),s=F.i4o("/",r,i,".js"),o=document.createElement("SCRIPT"),F.V0f(),o.async=!0,o.src=s,(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(o,l.nextSibling),o.onload=function(){F.D0f(),e.setLocale(i,n),a&&a(null)},o.onerror=function(){a&&a("cannot load script")}},t.I18N.createMonthArrays=function(e,i,a){var r,n,s,o,l;e.monthAbv=[],e.monthLetters=[],r=new Date,n=!0,F.D0f(),t.I18N.longMonths&&t.I18N.longMonths[a]&&(n=!1);for(var h=0;h<12;h++)if(r.setDate(1),r.setMonth(h),s=i.format(r),n){o="";for(var c=0;c<s.length;c++)(l=s.charAt(c)).charCodeAt(0)<65||(o+=l);e.monthAbv[h]=o,e.monthLetters[h]=o[0]}else e.monthAbv[h]=s,e.monthLetters[h]=s},t.I18N.localize=function(e,i){i=this.langConversionMap[i]||i,this.setLocale(e,i),this.setLanguage(e,i),t.I18N.localized=!0},t.I18N.reverseCandles=function(e){var t,i,a;t=e.styles,i=e.cloneStyle(t.stx_candle_down),a=e.cloneStyle(t.stx_candle_up),t.stx_candle_up=i,t.stx_candle_down=a},t.I18N.wordLists={en:{}},t.I18N.languages={en:"English"},t.I18N.langConversionMap={},t.I18N.localized=!1},u=e=>{var t,i;F.V0f(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.pointerEvents={down:[],up:[]},t.ChartEngine.prototype.manageTouchAndMouse=!0,t.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var e,i,a,r,n,s,o;this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,i=(e=this.controls.chartControls||document).querySelector(".stx-zoom-in"),a=e.querySelector(".stx-zoom-out"),r=this.chart.container,n=this,s=function(e,t,i){n.addDomEventListener(r,e,(function(e){if(n.mainSeriesRenderer&&n.mainSeriesRenderer.nonInteractive)return;F.D0f(),t(e)}),i)},t.touchDevice?t.isSurface?(s("mousemove",(function(e){F.D0f(),n.msMouseMoveProxy(e)})),s("mouseenter",(function(e){F.D0f(),n.msMouseMoveProxy(e)})),s("mousedown",(function(e){n.msMouseDownProxy(e)})),s("mouseup",(function(e){n.msMouseUpProxy(e)})),s("pointerdown",(function(e){return n.startProxy(e)})),s("pointermove",(function(e){F.D0f(),n.moveProxy(e)})),s("pointerenter",(function(e){return n.moveProxy(e)})),s("pointerup",(function(e){return F.V0f(),n.endProxy(e)}))):("to","u","chend",t.isMobile||(s("mousemove",(function(e){F.V0f(),n.iosMouseMoveProxy(e)})),s("mouseenter",(function(e){n.iosMouseMoveProxy(e)})),s("mousedown",(function(e){F.V0f(),n.iosMouseDownProxy(e)})),s("mouseup",(function(e){F.D0f(),n.iosMouseUpProxy(e)}))),s("touchstart",(function(e){F.D0f(),n.touchstart(e)}),{passive:!1}),s("touchmove",(function(e){n.touchmove(e)}),{passive:!1}),s("touchend",(function(e){n.touchend(e)})),s("pointerdown",(function(e){F.D0f(),n.touchPointerType=e.pointerType})),i&&("o","nMouseOut",i.removeAttribute("onMouseOver"),i.removeAttribute("onMouseOut")),a&&(a.removeAttribute("onMouseOver"),a.removeAttribute("onMouseOut"))):(s("mousemove",(function(e){n.mousemove(e)})),s("mouseenter",(function(e){n.mousemove(e)})),s("mousedown",(function(e){n.mousedown(e)})),s("mouseup",(function(e){F.D0f(),n.mouseup(e)}))),F.D0f(),o=t.wheelEvent,this.captureMouseWheelEvents&&s(o,(function(e){n.mouseWheel(e)}),{passive:!1}))},t.ChartEngine.prototype.mousedown=function(e){var i,a,r,n,s,o,l,h,c,u;if(i="mou",i+="se",i+="dow",i+="n",a="d",a+="o",a+="w",a+="n",!this.runPrepend("mousedown",arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!(this.editingAnnotation||e.button&&e.button>=2))){if(r=this.container.getBoundingClientRect(),this.top=r.top,this.left=r.left,this.right=this.left+this.width,this.bottom=this.top+this.height,e.clientX>=this.left&&e.clientX<=this.right&&e.clientY>=this.top&&e.clientY<=this.bottom)this.insideChart=!0;else{n=-1373555833,s=-2076259195,o=2;for(var d=1;F.V9R(d.toString(),d.toString().length,29707)!==n;d++)return void(this.insideChart=!0);if(F.V9R(o.toString(),o.toString().length,8776)!==s)return void(this.insideChart=!1)}if(this.currentPanel){F.D0f(),this.manageTouchAndMouse&&e&&e.preventDefault&&this.captureTouchEvents&&e.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,""===this.openDialog&&this.registerPointerEvent({x:e.clientX,y:e.clientY,time:this.mouseTimer},a),l=this.currentPanel.chart;for(var p=0;p<this.drawingObjects.length;p++)if((h=this.drawingObjects[p]).highlighted&&!h.permanent){if(this.cloneDrawing)return(c=new(0,t.ChartEngine.drawingTools[h.name])).reconstruct(this,h.serialize()),this.drawingObjects.push(c),this.activateRepositioning(c),void(c.repositioner=h.repositioner);if(u=this.currentVectorParameters.vectorType,!(t.Drawing&&u&&t.Drawing[u]&&(new t.Drawing[u]).dragToDraw))return void this.activateRepositioning(h)}this.mainSeriesRenderer||{};var{baselineHelper:g}=this;if(!g.size||!this.findBaselineHandle(e,!0)){if(this.controls.anchorHandles){var{anchorHandles:f}=this.controls;for(var m in f){var{handle:y,sd:v,highlighted:b}=f[m];if(b)return this.repositioningAnchorSelector={sd:v},void y.classList.add("stx-grab")}}var x;if(!(this.drawingClick&&(this.currentPanel.subholder===e.target&&this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw)))this.grabbingScreen=!0,l.spanLock=!1,this.yToleranceBroken=!1,this.grabStartX=e.clientX,this.grabStartY=e.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((x=this,function(){x.grabbingHand()}),100),this.swipeStart&&this.swipeStart(l),(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer(),this.runAppend(i,arguments)}}}},t.ChartEngine.prototype.mousemove=function(e){var i,a,r;i="mouse",i+="move",a="e",a+="nter",r=e,t.ChartEngine.crosshairX=r.clientX,t.ChartEngine.crosshairY=r.clientY,r.type.toLowerCase().indexOf(a)>-1?this.positionCrosshairsAtPointer():this.runPrepend(i,arguments)||this.displayInitialized&&(F.D0f(),""===this.openDialog&&(this.baselineHelper.size&&this.findBaselineHandle(r),this.grabbingScreen&&1!==r.buttons&&(this.cancelLongHold=!0,this.displayDragOK(),this.grabbingScreen=!1,this.findHighlights(!1,!0)),this.mousemoveinner(r.clientX,r.clientY),this.runAppend("mousemove",arguments)))},t.ChartEngine.prototype.mouseup=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g=F;if(!this.runPrepend("mouseup",arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250)return this.changeOccurred("vector"),t.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline){i="s",i+="tx",i+="-grab";var{handle:f}=this.repositioningBaseline,{mainSeriesRenderer:m={}}=this;return this.repositioningBaseline=null,f.classList.remove(i),m.params&&m.params.baseline&&m.params.type,void this.draw()}if(this.repositioningAnchorSelector)return t.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,Object.values(this.controls.anchorHandles||{}).forEach((({handle:e})=>e.classList.remove("stx-grab"))),void this.findHighlights();if(a=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized){if(r=this.backOutY(e.clientY),n=this.backOutX(e.clientX),s=e.which&&e.which>=2||e.button&&e.button>=2,""!==this.openDialog||s||this.registerPointerEvent({x:e.clientX,y:e.clientY,time:Date.now()},"up"),o=this.isDoubleClick(),this.grabbingScreen=!1,this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(n,r),this.currentPanel=this.whichPanel(r)),l=this.currentPanel,this.grabStartYAxis=null,this.displayDragOK(),""!==this.openDialog)return h="stx-",h+="drag-chart",void(this.insideChart&&this.container.classList.remove(h));if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||!this.swipeRelease||this.swipeRelease(),this.container.classList.remove("stx-drag-chart"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(this.insideChart&&this.container.classList.remove("stx-drag-chart"),t.ChartEngine.resizingPanel)this.releaseHandle();else{if(s||e.ctrlKey)return this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),e.preventDefault&&this.captureTouchEvents&&e.preventDefault(),e.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:l,x:n,y:r}),!0);if(!(e.clientX<this.left||e.clientX>this.right||e.clientY<this.top||e.clientY>this.bottom)){if(c=l&&l.subholder===e.target,o&&(c||this.overYAxis||this.overXAxis))this.doubleClick({button:e.button,x:n,y:r});else{if(a&&c){u=-1300396279,d=-2002252084,p=2;for(var y=1;g.j9R(y.toString(),y.toString().length,55599)!==u;y++)~this.longHoldTookEffect&&this.activeDrawing&&this.drawingClick(l,n,r),(-this.longHoldTookEffect||this.activeMarker)&&this.activeMarker.click({cx:n,cy:r,panel:l}),g.L4o(36),p+=g.i4o(1620613184,"2");g.j9R(p.toString(),p.toString().length,19887)!==d&&((-this.longHoldTookEffect||this.activeDrawing)&&this.drawingClick(l,n,r),~this.longHoldTookEffect&&this.activeMarker&&this.activeMarker.click({cx:n,cy:r,panel:l})),this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(l,n,r),!this.longHoldTookEffect&&this.activeMarker&&this.activeMarker.click({cx:n,cy:r,panel:l})}this.longHoldTookEffect||this.activeDrawing||this.dispatch("tap",{stx:this,panel:l,x:n,y:r})}this.runAppend("mouseup",arguments)}}}}},t.ChartEngine.prototype.registerPointerEvent=function(e,t){F.V0f(),this.pointerEvents[t].length>1&&this.pointerEvents[t].pop(),this.pointerEvents[t].unshift(e)},t.ChartEngine.prototype.resetPointerEvent=function(e){this.pointerEvents[e].splice(0)},t.ChartEngine.prototype.isDoubleClick=function(e){var t,i;t=e?1200:400;var{up:a,down:r}=this.pointerEvents;return this.cancelTouchSingleClick=!1,!(a.length<2||r.length<2)&&(F.D0f(),(i=r[0].time-a[1].time<this.doubleClickTime&&Math.pow(r[1].x-r[0].x,2)+Math.pow(r[1].y-r[0].y,2)<=t&&Math.pow(a[1].x-a[0].x,2)+Math.pow(a[1].y-a[0].y,2)<=t&&a[1].time-r[1].time<this.longHoldTime&&a[0].time-r[0].time<this.longHoldTime)&&("do","w","n",this.resetPointerEvent("up"),this.resetPointerEvent("down"),this.cancelTouchSingleClick=!0),i)},t.ChartEngine.prototype.doubleClick=function(e,i,a){if(!this.runPrepend("doubleClick",arguments)&&!this.editingAnnotation)return t.ChartEngine.drawingLine?this.undo():void(this.activeDrawing||(this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:a,panel:this.currentPanel})||this.dispatch("doubleClick",{stx:this,button:e,x:i,y:a}),this.runAppend("doubleClick",arguments)))},t.ChartEngine.prototype.handleMouseOut=function(e){var i,a,r;if(e=e||window.event,!t.withinElement(this.chart.container,e.pageX,e.pageY)){if(i="handle",i+="MouseOut",this.runPrepend("handleMouseOut",arguments))return;this.grabbingScreen||this.findHighlights(null,!0),this.undisplayCrosshairs(),this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,a=this.backOutY(e.pageY),r=this.backOutX(e.pageX),this.drawingClick(this.currentPanel,r,a));var{sd:n,tapToAdd:s}=this.repositioningAnchorSelector||{};n&&!s&&(this.repositioningAnchorSelector=null,this.controls.anchorHandles[n.uniqueId].highlighted=!1,t.Studies.displayAnchorHandleAndLine(this,n,this.chart.dataSegment),this.draw()),this.insideChart=!1,this.overYAxis=!1,this.overXAxis=!1,this.displaySticky(),this.runAppend(i,arguments)}},t.ChartEngine.prototype.startLongHoldTimer=function(e){var t,i,a,r=F;t=this,this.cancelLongHold=!1,i=2;for(var n=1;700913191!==r.V9R(n.toString(),n.toString().length,36112);n++)this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),r.A4o(2),i+=r.i4o(1,"2");-740803568!==r.j9R(i.toString(),i.toString().length,26027)&&this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),a=function(){t.cancelLongHold||(t.longHoldTookEffect=!0,e&&e(),t.dispatch("longhold",{stx:t,panel:t.currentPanel,x:t.cx,y:t.cy}),t.displayDragOK())},this.longHoldTime?this.longHoldTimeout=setTimeout(a,this.longHoldTime):0===this.longHoldTime&&a()},t.ChartEngine.prototype.grabHandle=function(e){this.runPrepend("grabHandle",arguments)||e&&(t.ChartEngine.crosshairY=this.resolveY(e.top),t.ChartEngine.resizingPanel=e,e.handle.classList.add("stx-grab"),this.runAppend("grabHandle",arguments))},t.ChartEngine.prototype.grabbingHand=function(){F.V0f(),this.allowScroll&&this.grabbingScreen&&(t.touchDevice||this.container.classList.add("stx-drag-chart"))},t.ChartEngine.prototype.releaseHandle=function(){var e,i,a;if(e="r",e+="eleaseH",e+="and",e+="le",i="stx-",i+="gr",i+="ab",a="releaseHand",a+="le",this.runPrepend(a,arguments))return!0;t.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),t.ChartEngine.resizingPanel&&t.ChartEngine.resizingPanel.handle.classList.remove(i),F.V0f(),t.ChartEngine.resizingPanel=null,this.runAppend(e,arguments)},t.ChartEngine.prototype.findHighlights=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O,I,z,N,V,R,j,Y,W,U,B=F;a=this.preferences[e?"highlightsTapRadius":"highlightsRadius"],this.highlightViaTap=e;var{cx:X,cy:q}=this;if(this.anyHighlighted=!1,this.currentPanel){var{chart:Q}=this.currentPanel;if(this.activeDrawing&&(i=!0),r=!1,n=null,s=i?{}:{forceShow:!0,type:"drawing"},o={x0:this.tickFromPixel(X-a,Q),x1:this.tickFromPixel(X+a,Q),y0:this.valueFromPixel(q-a,this.currentPanel),y1:this.valueFromPixel(q+a,this.currentPanel),cx0:X-a,cx1:X+a,cy0:q-a,cy1:q+a,r:a},this.repositioningDrawing&&o.x1-o.x0<2?(o.x1++,o.x0--):o.x1==o.x0&&(o.x0-=.5,o.x1+=.5),l=this.markerHelper&&this.markerHelper.chartMap[Q.name]&&this.markerHelper.chartMap[Q.name].markers,!Q.hideDrawings)for(var Z=this.drawingObjects.length-1;Z>=0;Z--)h=this.drawingObjects[Z],this.panels[h.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=h||(c=h.highlighted,(u=h.panelName==this.currentPanel.name)&&(h.repositioner=h.intersected(this.crosshairTick,this.crosshairValue,o)),u=u&&h.repositioner&&!this.overXAxis&&!this.overYAxis,!i&&u?(c?(n=h,this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),h.highlighted&&h.highlighted!=c&&(r=!0)):c!=h.highlight(!0)&&(n||(n=h),this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),r=!0),this.anyHighlighted=!0):c!=h.highlight(!1)&&(r=!0),h.highlighted&&(s.noDelete=h.permanent,s.noEdit=!this.callbackListeners.drawingEdit.length,s.message=t.capitalize(h.name))));for(d in this.layout.studies)(p=this.layout.studies[d]).prev=p.highlight,p.highlight=this.yaxisMatches(p,this.grabStartYAxis);for(d in Q.seriesRenderers){(y=Q.seriesRenderers[d]).params.highlight=this.yaxisMatches(y,this.grabStartYAxis);for(var G=0;G<y.seriesParams.length;G++)(m=y.seriesParams[G]).prev=m.highlight,m.highlight=y.params.highlight}for(g=0;l&&g<l.length;g++)(f=l[g]).params.box&&(this.activeMarker=null,f.prev=l[g].highlight,f.highlight=!1);if(this.markerHelper&&(this.markerHelper.highlighted=[]),this.highlightedDataSetField=null,this.highlightedDraggable=null,!i&&!this.anyHighlighted&&this.controls.anchorHandles)for(var J in this.controls.anchorHandles){if(v=this.controls.anchorHandles[J],!this.anyHighlighted){var{sd:K,currentPixel:$}=v;B.A4o(8),b=B.i4o($,a),B.A4o(0),x=B.S4o(a,$),S=this.panels[K.panel];var{top:ee,bottom:te}=S.yAxis;if(t.boxIntersects(b,ee,x,te,X,q,X,q)){this.anyHighlighted=!0,v.highlighted=!0,r=!0,s={message:K.name,type:"anchorHandle",noDelete:!0};continue}}!0===v.highlighted&&(v.highlighted=!1,r=!0)}if(!i&&!this.anyHighlighted&&Q.dataSegment&&(C=this.barFromPixel(X))>=0&&C<Q.dataSegment.length){for(d in this.overlays)if("fu","nct","i","on",(p=this.overlays[d]).panel==this.currentPanel.name&&!1!==p.study.isHighlighted)if("function"!=typeof p.study.isHighlighted){if(Q.dataSegment[C]){for(var ie in p.outputMap)if(ne.call(this,C,o,ie,p.getYAxis(this))){p.name!=p.panel&&(this.anyHighlighted=!0),p.highlight=ie;break}if(p.highlight){this.highlightedDataSetField=ie;break}}}else p.study.isHighlighted(this,X,q)&&(p.highlight=!0,this.anyHighlighted=!0);for(d in Q.seriesRenderers){if(this.highlightedDataSetField)break;if(w=(A=Q.seriesRenderers[d]).params.panel,A!=this.mainSeriesRenderer&&(A.params.highlightable||this.currentVectorParameters.vectorType)&&w==this.currentPanel.name)for(g=0;g<A.seriesParams.length;g++){if((k=(m=A.seriesParams[g]).field)||A.highLowBars||(k=this.defaultPlotField||"Close"),m.symbol&&m.subField&&(k+="--\x3e"+m.subField),!(T=A.params.yAxis)&&w&&(T=this.panels[w].yAxis),A.params.step&&C>0){if(!A.caches[m.id])continue;if(!(D=A.caches[m.id][C])&&0!==D)continue;B.A4o(8),(((M=A.caches[m.id][B.S4o(C,1)])||0===M)&&q+a>=D&&q-a<=M||q-a<=D&&q+a>=M)&&(m.highlight=!0,this.anyHighlighted=!0)}else ne.call(this,C,o,k,T,A,m.id)&&(m.highlight=!0,this.anyHighlighted=!0);if(m.highlight){this.highlightedDataSetField=k;break}}}}for(d in _=this.preferences.dragging,this.overlays)(p=this.overlays[d]).highlight&&("st","u","dy",this.anyHighlighted=!0,E=p.inputs.display||p.name,s={message:E=this.translateIf(E),noDelete:p.permanent,noEdit:!p.editFunction,type:"study"},n=null,(!0===_||_&&_.study)&&(P=p),L=p.getYAxis(this)),p.prev!=p.highlight&&(r=!0);for(d in Q.seriesRenderers){O=(H=Q.seriesRenderers[d]).params.yAxis?H.params.yAxis.textStyle:null;for(var ae=0;ae<H.seriesParams.length;ae++)m=H.seriesParams[ae],H.params.highlightable&&m.highlight&&(this.anyHighlighted=!0,"auto"==(I=m.color||O)&&(I=this.defaultColor),m.opacity&&1!==m.opacity&&(I=t.hexToRgba(t.colorToHex(I),parseFloat(m.opacity))),s={message:m.display||m.symbol,backgroundColor:I,noDelete:m.permanent,type:"series"},n=null,(!0===_||_&&_.series)&&(P=H,H.params.highlight=!0),L=H.getYAxis(this)),m.prev!=m.highlight&&(r=!0)}for(d in this.plugins)N={},(z=this.plugins[d]).findHighlights&&((N=z.findHighlights(this,e,i)).somethingChanged&&(r=!0),N.anyHighlighted&&(this.anyHighlighted=!0,s=N.stickyArgs||{}));for(var re in V=this.whichPanel(q),R=this.whichYAxis(V,X),L||(L=R),this.currentBaseline&&(L=this.currentBaseline.getYAxis(this)),L&&(L.highlight||(r=!0),L.highlight=!0),j=[],this.panels)j=j.concat(this.panels[re].yaxisLHS).concat(this.panels[re].yaxisRHS);for(d=0;d<j.length;d++)(L!=j[d]||i)&&(j[d].highlight&&(r=!0),j[d].highlight=!1);for(g=0;l&&g<l.length;g++)(Y=(f=l[g]).params.box)&&f.params.panelName===this.currentPanel.name&&(W=t.convertBoxToPixels(this,this.currentPanel.name,o),t.boxIntersects(W.x0,W.y0,W.x1,W.y1,Y.x0,Y.y0,Y.x1,Y.y1)&&(this.activeMarker=f,f.highlight=!0,this.markerHelper.highlighted.push(f)),f.prev!=f.highlight&&(r=!0));if((!0===_||_&&_.yaxis)&&R&&!R.noDraw&&(this.anyHighlighted=!0,P=R,s={}),r&&(this.draw(),s.panel=V,this.anyHighlighted&&!this.grabStartYAxis?s.panel=V:s={},this.displaySticky(s),this.clearMeasure(),n&&n.measure()),this.anyHighlighted?this.controls.mSticky&&(s&&s.positioner?s.positioner.call(this,this.controls.mSticky):this.positionSticky(this.controls.mSticky)):this.setMeasure(),P&&V&&!V.noDrag){if("stx-drag","gab","le",this.longHoldTookEffect&&!this.cancelLongHold){if(P.params)for(d in P.params.dependentOf&&((P=Q.seriesRenderers[P.params.dependentOf]).params.highlight=!0),Q.seriesRenderers)Q.seriesRenderers[d].params.dependentOf==P.params.name&&(Q.seriesRenderers[d].params.highlight=!0);if(this.highlightedDraggable=P,P.getDependents)for(d in U=P.getDependents(this,!0),this.overlays)p=this.overlays[d],U.indexOf(p)>-1&&(p.highlight=!0)}this.container.classList.add("stx-draggable")}else this.container.classList.remove("stx-draggable");this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField),this.displayDrawOK()}function ne(e,i,a,r,n,s){var o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,D,A,w,k,T,M,P,_;function L(e){var t;return e?((t=e[u])&&(t[d]||0===t[d])&&(t=t[d]),n&&n.getBasis&&(t+=n.getBasis(e,u,d)),l.transformFunc&&r==l.yAxis?e.transform&&u in e.transform?((t=e.transform[u])&&(t[d]||0===t[d])&&(t=t[d]),t):l.transformFunc(o,l,t):t):null}if(l=(o=this).chart,h=o.currentPanel,r||(r=h.yAxis),c=a.split("--\x3e"),u=c[0],(d=c[1])||(d="Close"),p=l.dataSegment[C],b=null,x=null,S=null,D=new Array(3),A=n&&n.caches[s],p&&A){for(m=A[C],b=p.tick,(m||0===m)&&(B.L4o(60),D[0]=B.i4o("1",0)),w=C-1;w>=0;w--)if(A[w]||0===A[w]){y=A[w],B.A4o(86),x=B.S4o(w,b,C),D[1]=1;break}for(w=C+1;w<l.dataSegment.length;w++)if(A[w]||0===A[w]){v=A[w],B.L4o(86),S=B.i4o(w,b,C),D[2]=1;break}}if(null===x&&(g=o.getPreviousBar.call(o,l,a,C))&&(x=g.tick,y=L(g)),null===S&&(f=o.getNextBar.call(o,l,a,C))&&(S=f.tick,v=L(f)),null===x&&null===S)return!1;if(A||(m=L(p),y=L(g),v=L(f),b=p.tick,g&&(x=g.tick),f&&(S=f.tick)),y||0===y||(y=0,x=0),!v&&0!==v)if(m||0===m?(v=m,D[2]=D[0]):(v=y,D[2]=D[1]),s&&l.series[s].parameters.extendToEndOfDataSet){B.A4o(57);var E=B.S4o(19,0,19,1);S=l.dataSet.length-E}else S=x;return m||0===m||(m=v,b=S,B.L4o(1),D[B.i4o(0,"0")]=D[2],0===y&&0===x&&(y=m,x=b,D[1]=D[0])),k=o.pixelFromTransformedValue.bind(o),m=(T=o.valueFromPixel.bind(o))(D[0]?m:k(m,h,r),h),y=T(D[1]?y:k(y,h,r),h),v=T(D[2]?v:k(v,h,r),h),M=t.convertBoxToPixels(o,h.name,i),P=t.convertBoxToPixels(o,h.name,{x0:x,y0:y,x1:b,y1:m}),_=t.convertBoxToPixels(o,h.name,{x0:b,y0:m,x1:S,y1:v}),!(!t.boxIntersects(M.x0,M.y0,M.x1,M.y1,P.x0,P.y0,P.x1,P.y1,"segment")&&!t.boxIntersects(M.x0,M.y0,M.x1,M.y1,_.x0,_.y0,_.x1,_.y1,"segment"))}},t.ChartEngine.prototype.rightClickHighlighted=function(){this.runPrepend("rightClickHighlighted",arguments)||(this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},t.ChartEngine.prototype.deleteHighlighted=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m;if(a="del",a+="eteHighlighted",r="delete",r+="Hig",r+="hlighted",!this.runPrepend(r,arguments)){if(this.cancelTouchSingleClick=!0,t.clearCanvas(this.chart.tempCanvas,this),(n=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var y=this.drawingObjects.length-1;y>=0;y--)(s=this.drawingObjects[y]).highlighted&&(e?this.rightClickDrawing(s,i):s.permanent||(s.abort()||(o=this.exportDrawings(),this.drawingObjects.splice(y,1),this.undoStamp(o,this.exportDrawings())),this.changeOccurred("vector")));if(n||!this.bypassRightClick.study)for(var v in this.overlays)((l=this.overlays[v]).overlay||l.underlay)&&l.highlight&&!l.permanent&&(e||i?this.rightClickOverlay(v,i):this.removeOverlay(v));if((h=this.currentPanel&&this.currentPanel.chart)&&(n||!this.bypassRightClick.series))for(var b in h.seriesRenderers)if((c=h.seriesRenderers[b]).params.highlightable){d=(u=this.panels[c.params.panel])&&u.yAxis.name;for(var x=c.seriesParams.length-1;x>=0;x--)p=c.seriesParams[x],!c.params.highlight&&!p.highlight||p.permanent||(c.removeSeries(p.id),c.seriesParams.length<1&&(this.removeSeriesRenderer(c),c.params.name==d?this.electNewPanelOwner(c.params.panel):(this.checkForEmptyPanel(c.params.panel),(g=this.getYAxisByName(u,c.params.name))&&(g.name=g.studies[0]||g.renderers[1]))))}this.draw(),this.resizeChart(),this.clearMeasure(),F.V0f(),(f=this.controls.mSticky)&&(m="n",m+="o",m+="ne",f.style.display=m,f.children[0].innerHTML=""),this.runAppend(a,arguments)}},t.ChartEngine.prototype.displayDragOK=function(e){var t,i,a,r,n,s,o,l,h,c,u,d=F;if(t=this,i=this.controls.dragOk){if(e||this.tapForHighlighting&&this.touching&&!this.anyHighlighted||this.findHighlights(this.highlightViaTap),r=(a=this.highlightedDraggable)&&a.undraggable&&a.undraggable(this),n=this.cx,s=this.cy,!e){if(a&&!r&&this.longHoldTookEffect&&!this.cancelLongHold)"stx-drag","-chart","t","ext",o=a.inputs&&a.inputs.display||a.params&&(a.params.display||a.params.name)||a.name,i.querySelector(".field").setAttribute("text",o),g.call(this,i),i.style.display="inline-block",this.draw(),this.displaySticky(),this.grabStartYAxis?this.container.classList.replace("stx-drag-chart","stx-drag-axis"):this.container.classList.replace("stx-drag-chart","stx-drag-series");else for(var p in i.style.display="none",this.draw(),this.container.classList.remove("stx-drag-series"),this.container.classList.remove("stx-drag-axis"),this.panels){for("t","o","p",(l=this.panels[p].subholder.classList).remove("dropzone"),l.remove("all"),l.remove("left"),l.remove("right"),l.remove("top"),l.remove("bottom"),h=0;h<this.panels[p].yaxisLHS.length;h++)this.panels[p].yaxisLHS[h].dropzone=null;for(h=0;h<this.panels[p].yaxisRHS.length;h++)this.panels[p].yaxisRHS[h].dropzone=null}this.draw()}a&&(c=s+i.offsetHeight,u=Math.max(0,n-i.offsetWidth),d.A4o(0),i.style.top=d.i4o("px",c),d.L4o(0),i.style.left=d.S4o("px",u),g.call(this,i))}function g(e){var i,a;i=t.translateIf(e.querySelector(".field").getAttribute("text")),(a=t.whichYAxis(t.whichPanel(t.cy),t.cx,t.cy))&&"all"==a.dropzone&&(i+="--\x3e"+t.translateIf(a.name)),e.querySelector(".field").innerHTML=i}d.V0f()},t.ChartEngine.prototype.displayDrawOK=function(){var e,i,a,r,n=F;(e=this.controls.drawOk)&&t.Drawing&&("no","ne",(i=t.Drawing[this.currentVectorParameters.vectorType])&&(i=new i),this.highlightedDataSetField&&i?("inli","ne-block",e.style.display="inline-block",a=this.cy+e.offsetHeight,r=this.cx-e.offsetWidth,n.L4o(0),e.style.top=n.i4o("px",a),n.L4o(0),e.style.left=n.S4o("px",r),e.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField)):e.style.display="none")},t.ChartEngine.prototype.mouseWheel=function(e){var i,a,r,n,s,o,l,h,c,u,d=F;if(i="mo",i+="u",i+="seWheel",a="mouse",a+="Wh",a+="eel",!this.runPrepend(a,arguments)&&(e.preventDefault&&e.preventDefault(),""===this.openDialog&&(r=e.deltaX,n=e.deltaY,Math.abs(n)>Math.abs(r)?(d.L4o(60),r=d.S4o("0",0)):n=0,this.lastMouseWheelEvent=Date.now(),0!==Math.abs(r)||0!==Math.abs(n)))){if(e.shiftKey&&n&&(r=n,n=0),this.allowSideswipe&&0!==r)return o="ho",o+="r",o+="izont",o+="al",this.lastMove=o,l=r,this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=t.ChartEngine.crosshairX,this.grabStartY=t.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mouseWheelAcceleration&&(l*=s=Math.max(Math.pow(Math.abs(l),.3),1)),this.mousemoveinner(t.ChartEngine.crosshairX-l,t.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1);if(this.lastMove="vertical",this.allowZoom&&(!this.activeDrawing||this.allowDrawingZoom)&&this.displayInitialized){if(!n)if("mousewheel"==t.wheelEvent){d.L4o(87);var p=d.S4o(10,4,11,7,58);d.A4o(29);var g=d.S4o(50,17,7);if(n=p/g*e.wheelDelta,e.wheelDeltaX){d.L4o(3);var f=d.S4o(11,10);d.A4o(12);var m=d.S4o(11,14,43);r=f/m*e.wheelDeltaX}}else n=e.detail;if(void 0===e.deltaMode&&(e.deltaMode="MozMousePixelScroll"==e.type?0:1),h=-n,1==e.deltaMode&&(h*=33),c=null,u=null,d.D0f(),this.mouseWheelAcceleration&&(s=Math.max(Math.pow(Math.abs(h),.3),1),c=Math.max(Number.MIN_VALUE,1-.1*s),d.A4o(9),u=d.S4o(c,1)),this.zoomInitiatedByMouseWheel=!0,h>0?this.reverseMouseWheel?this.zoomOut(null,u):this.zoomIn(null,c):h<0&&(this.reverseMouseWheel?this.zoomIn(null,c):this.zoomOut(null,u)),!this.runAppend(i,arguments))return!1}}},t.ChartEngine.handleContextMenu=function(e){for(var i,a=0;a<t.ChartEngine.registeredContainers.length;a++)if((i=t.ChartEngine.registeredContainers[a].stx)&&i.anyHighlighted)return e.preventDefault&&e.preventDefault(),!1},"undefined"!=typeof document&&document.addEventListener("contextmenu",t.ChartEngine.handleContextMenu),t.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;"></span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;"></span>',mSticky:'\n\t\t<div class="stx_sticky">\n\t\t\t<span class="mStickyInterior"></span>\n\t\t\t<span class="mStickyRightClick">\n\t\t\t\t<span class="overlayEdit stx-btn" style="display:none">\n\t\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="overlayTrashCan stx-btn" style="display:none">\n\t\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="mouseDeleteInstructions">\n\t\t\t\t\t<span>(</span>\n\t\t\t\t\t<span class="mouseDeleteText">right-click to delete</span>\n\t\t\t\t\t<span class="mouseManageText">right-click to manage</span>\n\t\t\t\t\t<span>)</span>\n\t\t\t\t</span>\t\n\t\t\t</span>\n\t\t\t<span class="stickyLongPressText">(long-press to drag)</span>\n\t\t\t<span class="customInstructions">\n\t\t\t\t<span>(</span>\n\t\t\t\t<span class="dragAnchorText" type="anchorHandle">\n\t\t\t\t\tdrag to change anchor time\n\t\t\t\t</span>\n\t\t\t\t<span>)</span>\n\t\t\t</span>\n\t\t</div>\n\t',drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'},t.ChartEngine.prototype.registerChartControl=function(e,i,a){var r,n,s,o=F;if((r=this.controls)&&r.chartControls&&!r.chartControls.querySelector("."+e))return n=null,(s=r.chartControls.querySelector(".stx-zoom-in"))?("<spa",'n class="st',"x-to",'oltip">',n=document.createElement("span"),o.L4o(28),n.innerHTML=o.i4o(i,"</span>",'<span class="stx-tooltip">'),o.L4o(0),n.className=o.S4o(e,"stx-chart-control-button "),s.parentNode.appendChild(n),a&&t.safeClickTouch(n,a),t.touchDevice||this.makeModal(n),n):void 0},t.ChartEngine.prototype.zoomOut=function(e,t){var i,a,r,n;if(!this.runPrepend("zoomOut",arguments))for(var s in this.preferences.zoomOutSpeed?t=this.preferences.zoomOutSpeed:t||(F.A4o(9),t=F.i4o(.7,1)),e&&e.preventDefault&&e.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts)r=(a=this.charts[s]).width*t/this.layout.candleWidth,!1===a.allowScrollFuture&&!1===a.allowScrollPast&&r>a.dataSet.length&&(r=a.dataSet.length),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(o(a),this.layout.candleWidth,n);function o(e){return F.D0f(),function(t){if(i.zoomSet(t,e),F.D0f(),i.animations.zoom.hasCompleted){if(i.runAppend("zoomOut",arguments))return;i.changeOccurred("layout"),i.continuousZoom&&i.continuousZoom.execute(!0)}}}},t.ChartEngine.prototype.zoomIn=function(e,t){var i,a,r,n,s;if(i="zoomI",i+="n",!this.runPrepend(i,arguments))for(var o in this.preferences.zoomInSpeed?t=this.preferences.zoomInSpeed:t||(t=.7),e&&e.preventDefault&&e.preventDefault(),this.cancelTouchSingleClick=!0,a=this,this.charts)n=(r=this.charts[o]).width*t/this.layout.candleWidth,r.maxTicks-n<1&&(n=r.maxTicks-1),n<this.minimumZoomTicks&&(n=this.minimumZoomTicks),s=this.chart.width/n,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(l(r),this.layout.candleWidth,s);function l(e){return function(t){var i,r,n;if(a.zoomSet(t,e),a.animations.zoom.hasCompleted){if(a.runAppend("zoomIn",arguments))return;a.changeOccurred("layout"),i=-1713556060,r=-954902727,n=2;for(var s=1;F.V9R(s.toString(),s.toString().length,86354)!==i;s++)a.continuousZoom&&a.continuousZoom.execute(),n+=2;F.V9R(n.toString(),n.toString().length,78677)!==r&&a.continuousZoom&&a.continuousZoom.execute()}}}},t.ChartEngine.prototype.createCrosshairs=function(){var e,t,i;e="cr",e+="e",e+="ateCrosshairs",this.runPrepend("createCrosshairs",arguments)||!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||(t=this.controls.crossX,i=this.controls.crossY,t&&(t.onmousedown||(t.onmousedown=function(e){return e.preventDefault&&e.preventDefault(),!1})),i&&(i.onmousedown||(i.onmousedown=function(e){return F.D0f(),e.preventDefault&&e.preventDefault(),!1})),this.runAppend(e,arguments))},i=!1,t.ChartEngine.prototype.mousemoveinner=t.ChartEngine.prototype.mousemoveinner||function(e,t){i||console.error("interaction feature requires activating movement feature."),i=!0}},d=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,F.D0f(),t.Marker||(t.ChartEngine.helpersToRegister.push((function(e){F.D0f(),e.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]}})),t.ChartEngine.prototype.addToHolder=function(e){var i,a,r,n;(i=this.panels[e.params.panelName])&&(F.D0f(),a=e.params,r=e.node,(n=e.stxNodeCreator)&&n.prepareForHolder&&(r=n.prepareForHolder(e)),a.chartContainer?this.container.appendChild(e.node):a.includeAxis?i.holder.appendChild(e.node):i.subholder.appendChild(r),e.chart=i.chart,n&&n.addToHolder&&n.addToHolder(e),n&&n.expand&&t.Marker.initializeScrollBehavior(n))},t.ChartEngine.prototype.getMarkerArray=function(e,t){var i,a;for(var r in i=[],this.markers)for(var n=0;n<this.markers[r].length;n++)"a","l","l","l","a","be","l",a=this.markers[r][n],"panelName"==e?a.params.panelName==t&&i.push(a):"label"==e?r==t&&i.push(a):"all"==e&&i.push(a);return i},t.ChartEngine.prototype.removeFromHolder=function(e){var t,i,a,r,n,s;if(t=this.panels[e.params.panelName],F.D0f(),t&&(e.node.parentNode==t.holder?t.holder.removeChild(e.node):e.node.parentNode==t.subholder?t.subholder.removeChild(e.node):e.node.parentNode==this.container&&this.container.removeChild(e.node)),i=this.markers[e.params.label]){for(a=0;a<i.length;a++)if(i[a]===e){i.splice(a,1);break}if(r=this.markerHelper.chartMap[e.chart.name])for(a=0;a<r.markers.length;a++)if(r.markers[a]===e){r.markers.splice(a,1);break}if((n=this.markerHelper.classMap[e.className])&&(s=n[e.params.panelName]))for(a=0;a<s.length;a++)if(s[a]===e){s.splice(a,1);break}}},t.ChartEngine.prototype.moveMarkers=function(e,t){var i,a;F.V0f(),i=this.getMarkerArray("panelName",e);for(var r=0;r<i.length;r++)i[r].params.panelName=t;for(var n in this.markerHelper.classMap)(a=this.markerHelper.classMap[n][e])&&(this.markerHelper.classMap[n][t]=a,delete this.markerHelper.classMap[n][e])},t.ChartEngine.prototype.establishMarkerTicks=function(){var e,t;for(var i in F.V0f(),e=this.markerHelper.chartMap)if((t=e[i]).dataSetLength!=this.charts[i].dataSet.length)for(var a=0;a<t.markers.length;a++)this.setMarkerTick(t.markers[a])},t.ChartEngine.prototype.futureTickIfDisplayed=function(e){var t,i,a,r,n,s,o,l,h,c=F;if(!((t=e.chart).dataSet.length<1)){i=t.xaxis[t.xaxis.length-1].DT,c.L4o(88);var u=c.S4o(3,3529,49413);if(i=new Date(i.getTime()-this.timeZoneOffset*u),!(e.params.x>i)){a=t.maxTicks-t.dataSegment.length,r=t.dataSet.length+a,o=new Date(+t.dataSet[t.dataSet.length-1].DT),l=this.standardMarketIterator(o,null,t),h=e.params.x.getTime();for(var d=t.dataSet.length;d<r;d++){if(n=o.getTime(),(s=(o=l.next()).getTime())==h)return void(e.tick=d);if(s>h&&n<h)return c.L4o(8),void(e.tick=Math.max(c.S4o(d,1),0))}}}},t.ChartEngine.prototype.setMarkerTick=function(e){var t,i,a,r;if(t=e.chart,F.D0f(),"master"==e.params.xPositioner&&e.params.x)e.tick=Math.floor(e.params.x/this.layout.periodicity);else if("date"==e.params.xPositioner&&e.params.x){r=e.params.x.getTime();for(var n=0;n<t.dataSet.length;n++){if(i=a=t.dataSet[n].DT.getTime(),n>0&&(i=t.dataSet[n-1].DT.getTime()),a==r)return void(e.tick=n);if(a>r&&i<r)return F.A4o(8),void(e.tick=Math.max(F.S4o(n,1),0));if(r<a)return void(e.tick=null)}if(t.dataSet.length<1)return;new Date(+t.dataSet[n-1].DT).getTime()<r&&(e.params.future=!0),e.tick=null}},t.ChartEngine.prototype.positionMarkers=function(){var e,t,i,a,r,n,s;if(e=this,t=this.chart,e.markerHelper&&(this.markerDelay||0===this.markerDelay?this.markerTimeout||(this.markerTimeout=setTimeout(l,this.markerDelay)):l(),F.D0f(),i=this.getFirstLastDataRecord(t.dataSegment,"tick"),a=this.getFirstLastDataRecord(t.dataSegment,"tick",!0),i&&a)){r=this.getMarkerArray("all");for(var o=0;o<r.length;o++)s=(n=r[o]).stxNodeCreator,i.tick<=n.tick&&n.tick<=a.tick?s&&s.drawMarker&&s.drawMarker(n):n.attached&&s.expand&&(s.expand.style.visibility="hidden")}function l(){var t,i,a,r,n;if(t="p",F.D0f(),t+="ositi",t+="onMarkers",!e.runPrepend(t,arguments)){for(var s in e.markerTimeout=null,e.markerHelper.classMap)for(var o in e.markerHelper.classMap[s])i=e.markerHelper.classMap[s][o],a=e.panels[o],i.length&&((r={stx:e,arr:i,panel:a}).firstTick=a.chart.dataSet.length-a.chart.scroll,r.lastTick=r.firstTick+a.chart.dataSegment.length,(n=i[0].constructor.placementFunction)?n(r):e.defaultMarkerPlacement(r));e.runAppend("positionMarkers",arguments)}}},t.Marker=t.Marker||function(e){var i,a,r,n;this.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},t.extend(this.params,e),this.params.node||(this.params.node=document.createElement("DIV")),(i=this.params.stx)?(this.className||(this.className="CIQ.Marker"),t.derivedFrom(this.params.node,t.Marker.NodeCreator)?(this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node):this.node=this.params.node,a=this.params.label,i.markers[a]||(i.markers[a]=[]),i.markers[a].push(this),r=i.panels[this.params.panelName],this.chart=r.chart,i.markerHelper.chartMap[this.chart.name]||(i.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]}),i.markerHelper.chartMap[this.chart.name].markers.push(this),(n=i.markerHelper.classMap[this.className])||(n=i.markerHelper.classMap[this.className]={}),n[this.params.panelName]||(n[this.params.panelName]=[]),F.D0f(),n[this.params.panelName].push(this),this.stxNodeCreator&&this.stxNodeCreator.deferAttach||i.addToHolder(this),i.setMarkerTick(this),this.stxNodeCreator&&this.stxNodeCreator.drawMarker&&this.stxNodeCreator.drawMarker(this)):console.log("Marker created without specifying stx")},t.Marker.prototype.remove=function(){F.D0f(),this.params.stx.removeFromHolder(this)},t.Marker.prototype.click=function(e){var t,i;t="num",typeof arguments[0]===(t+="ber")&&(e={cx:arguments[0],cy:arguments[1],panel:arguments[3]});var{cx:a,cy:r,panel:n}=e;this.params.stx&&(i=this.params.node).click&&i.click(a,r,this,n)},t.Marker.prototype.doubleClick=function({cx:e,cy:t,panel:i}){return!1},t.Marker.prototype.render=function(){var e,t;e=[this],t={stx:this.params.stx,arr:e,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},this.constructor.placementFunction(t)},t.Marker.removeByLabel=function(e,t){var i,a;i=e.getMarkerArray("label",t),F.D0f();for(var r=0;r<i.length;r++)a=i[r],e.removeFromHolder(a),a.stxNodeCreator&&a.stxNodeCreator.remove&&a.stxNodeCreator.remove(a);e.draw()},t.Marker.positionContentVerticalAndHorizontal=function(e){var i,a,r,n,s,o,l,h,c,u,d,p=F;if((i=e.querySelectorAll(".stx-marker-expand")[0])&&t.trulyVisible(i)){a=i.offsetHeight,(r=i.style).left=r.right="",r.bottom=r.top="",s=(n=getComputedStyle(i)).left,o=n.bottom,p.L4o(29);var g=p.i4o(0,3,13);l=e.offsetLeft+parseInt(s,g),p.L4o(8),h=parseInt(o,p.S4o("10",0)),c=e.offsetTop-(h+a-e.offsetHeight),u=e.parentNode.offsetWidth,d=e.parentNode.offsetHeight,l+i.offsetWidth>u&&(r.right=s,r.left="auto"),e.offsetTop<=d?c>d-a&&("a","u","t","o",r.top=d-e.offsetTop-a+"px",r.bottom="auto"):("p","x",p.L4o(0),r.top=p.S4o("px",d)),e.offsetTop+e.offsetHeight>=0?c<0&&(r.top=-e.offsetTop+"px",r.bottom="auto"):r.bottom="0px"}},t.Marker.initializeScrollBehavior=function(e){var{expand:i}=e;if(i){i.addEventListener(t.wheelEvent,(e=>e.stopPropagation()),{passive:!1}),i.addEventListener("touchmove",(e=>(F.V0f(),e.stopPropagation())),{passive:!1});var{scrollbarStyling:a}=t.UI||{};a?a.refresh(i):i.style.overflowY="scroll"}},t.ChartEngine.prototype.getBarBounds=function(e){var t,i,a,r;return"pa","n","d","f",this.layout.chartType,t="pandf"==this.layout.aggregationType?{high:Math.max(e.pfOpen,e.pfClose),low:Math.min(e.pfOpen,e.pfClose)}:{high:e.High,low:e.Low},e.markerHigh&&(t.high=e.markerHigh),e.markerLow&&(t.low=e.markerLow),void 0===e.Open&&(i=e.Close),void 0===e.High&&(a=Math.max(e.Open||i,e.Close)),void 0===e.Low&&(r=Math.min(e.Open||i,e.Close)),t.high||0===t.high||(t.high=a),t.low||0===t.low||(t.low=r),t},t.ChartEngine.prototype.defaultMarkerPlacement=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P=F;P.V0f(),i=e.panel,a=e.yAxis?e.yAxis:e.panel.yAxis,r=i.chart,s=(n=e.stx).chart.highLowBars,o=r.defaultPlotField,l=2;for(var _=1;273617431!==P.V9R(_.toString(),_.toString().length,59193);_++)~o&&s&&(o=""),P.L4o(8),l+=P.i4o("2",0);1545538733!==P.j9R(l.toString(),l.toString().length,20141)&&(-o||s)&&(o=""),o&&!s||(o="Close"),h={};for(var L=0;L<e.arr.length;L++)if("no","ne","aut","o",u=(c=e.arr[L]).params,!c.params.box){if(d=c.node,c.clientWidth||(c.clientWidth=d.clientWidth),c.clientHeight||(c.clientHeight=d.clientHeight),p=null,g=u.xPositioner,f=u.yPositioner,m=c.tick,y=r.dataSet,v=c.clientWidth,"none"!=g){if("b","a","r","bar"==g&&u.x){u.x<r.xaxis.length&&(b=r.xaxis[u.x])&&(p=b.data),P.A4o(31);var E=P.i4o(3,7,12);P.L4o(0);var H=P.S4o(1,0);d.style.left=Math.round(n.pixelFromBar(u.x,r)-v/E)+H+"px"}else{if(!m&&0!==m){if(!(u.future&&r.scroll<r.maxTicks)){d.style.left="-1000px";continue}if(n.futureTickIfDisplayed(c),!(m=c.tick)&&0!==m){d.style.left="-1000px";continue}}if(m<y.length&&(p=y[m]),c.leftpx=Math.round(n.pixelFromTick(m,r)-r.left-v/2),c.rightEdge=c.leftpx+v,d.style.left=c.leftpx+"px",m<e.firstTick&&c.rightEdge<r.left-50)continue}p||(p=y[y.length-1])}else if(f.indexOf("candle")>-1&&(x=getComputedStyle(d).left)&&(S=n.barFromPixel(parseInt(x,10),r))>=0&&!(p=r.xaxis[S].data)){P.A4o(89);var O=P.i4o(5,17,154,4);p=y[y.length-O]}if(d.style.top="auto",C=u.y,D=c.clientHeight,"none"!=f){if("bot","tom","on_","candl","e",w=f+"-"+d.style.left,k=u.chartContainer?n.height:i.yAxis.bottom,T=0,0,void 0===h[w]&&(P.A4o(2),h[w]=P.S4o(1,"0")),M=h[w],h[w]+=D,"value"!=f||!C&&0!==C)if("below_candle"!=f&&"under_candle"!=f||!p)if("on_candle"==f&&p){A=p[o],s&&(A=(p.Low+p.High)/2),P.L4o(91);var I=P.i4o(2,218,1,13,9);T=Math.round(k-n.pixelFromPrice(A,i,a)-D/I-M)+"px"}else"top"==f?T=Math.round(k-D-M-i.top)+"px":"bottom"==f?T=Math.round(M)+"px":p&&("p","x","hig","h","l","o","w",A=p[o],s&&(A=n.getBarBounds(p)[a.flipped?"low":"high"]),T=Math.round(k-n.pixelFromPrice(A,i,a)+M)+"px");else"hi","gh",A=p[o],s&&(A=n.getBarBounds(p)[a.flipped?"high":"low"]),T=Math.round(k-n.pixelFromPrice(A,i,a)-D-M)+"px";else{"p","x",P.A4o(90);var z=P.S4o(7,1461,11,0,19);T=Math.round(k-n.pixelFromPrice(C,i,a)-D/z)+"px"}d.style.bottom!=T&&(d.style.bottom=T)}t.Marker.positionContentVerticalAndHorizontal(d)}},t.Marker.NodeCreator=function(){},t.Marker.NodeCreator.toNode=function(){return F.D0f(),this.node},t.Marker.Simple=function(e){var i,a,r,n;function s(){F.V0f(),t.Marker.positionContentVerticalAndHorizontal(i)}F.V0f(),(i=this.node=document.createElement("div")).className="stx-marker",i.classList.add(e.type),e.category&&i.classList.add(e.category),a=t.newChild(i,"div","stx-visual"),t.newChild(i,"div","stx-stem"),"callout"==e.type?("s","tx-mark","e","r-content","d","i","v",n=t.newChild(a,"div","stx-marker-content"),t.newChild(n,"h4",null,e.headline),r=t.newChild(n,"div","stx-marker-expand"),t.newChild(r,"p",null,e.story)):("h","4",r=t.newChild(i,"div","stx-marker-expand"),t.newChild(r,"h4",null,e.headline),t.newChild(r,"p",null,e.story),t.safeClickTouch(r,(function(e){i.classList.toggle("highlight")}))),t.safeClickTouch(a,(function(e){F.D0f(),i.classList.toggle("highlight"),setTimeout(s,10)})),this.nodeType="Simple",this.expand=r},t.inheritsFrom(t.Marker.Simple,t.Marker.NodeCreator,!1))},p=e=>{var t,i,a,r,n,s,o;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,r=24*(a=36e5),n=t.Market,t.Market=function(e){var a;if("Ma","r","ket",F.V0f(),this.market_def=!1,this.rules=!1,this.normalHours=[],this.extraHours=[],this.class_name="Market",i.Date?this.tz_lib=i.Date:this.tz_lib=Date,this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,void 0!==e&&e&&!t.isEmpty(e)){if("unde","fi","ne","d","und","ef","in","ed",e.market_definition){-1826191794,-2034159578,a=2;for(var r=1;-1826191794!==F.V9R(r.toString(),r.toString().length,42267);r++)e=e.market_definition,a+=2;-2034159578!==F.j9R(a.toString(),a.toString().length,57949)&&(e=e.market_definition)}e.rules&&(this.rules=e.rules),e.market_tz&&(this.market_tz=e.market_tz),e.convertOnDaily&&(this.convertOnDaily=e.convertOnDaily),e.hour_aligned,this.hour_aligned=e.hour_aligned,void 0!==e.beginningDayOfWeek&&(this.beginningDayOfWeek=e.beginningDayOfWeek),void 0!==e.minimum_session_length&&(this.minimumSessionLength=e.minimum_session_length),void 0!==e.enabled_by_default&&e.enabled_by_default instanceof Array&&(this.enabled_by_default=e.enabled_by_default),this.market_def=e,void 0===this.market_def.name&&(this.market_def.name="no market name specified"),t.Market._createTimeSegments(this),this.getSessionNames()}else this.hour_aligned=!0},t.Market.Symbology=function(){},t.Market.Symbology.isForeignSymbol=function(e){return!1},t.Market.Symbology.isFuturesSymbol=function(e){return!1},t.Market.Symbology.isRateSymbol=function(e){return F.D0f(),!1},t.Market.Symbology.isForexSymbol=function(e){return F.D0f(),!1},t.Market.Symbology.isForexMetal=function(e,t){return!1},t.Market.Symbology.isForexCrypto=function(e){return F.V0f(),!1},t.Market.Symbology.isForexFuturesSymbol=function(e){return!!t.Market.Symbology.isForexSymbol(e)||!!t.Market.Symbology.isFuturesSymbol(e)},t.Market.Symbology.factory=function(e){return null},t.Market.Symbology.encodeTermStructureInstrumentSymbol=function(e,t){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.")},n&&t.extend(t.Market,n),t.Market.prototype.sessions=null,t.Market.prototype.beginningDayOfWeek=0,t.Market.prototype.minimumSessionLength=30,t.Market.prototype.tradingDays=function(){var e;if("_tradingDays"in this)return this._tradingDays;if(e=[],F.V0f(),this.rules)for(var t of this.rules)t.dayofweek>=0&&e.push(t.dayofweek);else e=[0,1,2,3,4,5,6];return this._tradingDays=[...new Set(e)],this._tradingDays.sort(),this._tradingDays},t.Market.prototype.getSessionNames=function(){var e,t;return F.D0f(),this.rules?this.sessions||(e=[],t=[],this.rules.map((function(i){i.name&&-1===e.indexOf(i.name)&&(e.push(i.name),t.push({name:i.name,enabled:!!i.enabled&&i.enabled}))})),this.sessions=t):this.sessions=[],this.sessions.slice()},t.Market.prototype._find_next_segment=function(e,t){var i,a,r,n;return this.market_def&&this.rules?(i=new Date(+e),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)&&(r=this.zseg_match.close_parts.hours,n=this.zseg_match.close_parts.minutes,i.setHours(r),i.setMinutes(n),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})),a.next()):null},t.Market.prototype._find_prev_segment=function(e,t){var i,a,r,n,s,o;if(!this.market_def)return null;if(!this.rules)return null;i=new Date(+e),a=2;for(var l=1;1801036118!==F.j9R(l.toString(),l.toString().length,55961);l++)r=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),a+=2;return 1295087333!==F.j9R(a.toString(),a.toString().length,49920)&&(r=this.newIterator({begin:i,interval:3,inZone:this.market_tz,outZone:this.market_tz})),null===(n=this._wasOpenIntraDay(i))?(i=new Date(i-6e4),n=this._wasOpenIntraDay(i)):(t&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!t&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=r.previous()),n?(s=this.zseg_match.open_parts.hours,o=this.zseg_match.open_parts.minutes,i.setHours(s),i.setMinutes(o),i=(r=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===s&&this.zseg_match.close_parts.minutes===o?t?r.next():i:this.zseg_match.adjacent_child?i:t?r.next():i):r.previous()},t.Market.prototype.disableSession=function(e,t){var i;if(i=!1,void 0!==t&&t&&(i=!0),F.V0f(),e){for(var a=0;a<this.normalHours.length;a++)delete this.normalHours[a]._refid,this.normalHours[a].name===e&&(this.normalHours[a].enabled=i);for(a=0;a<this.extraHours.length;a++)delete this.extraHours[a]._refid,this.extraHours[a].name===e&&(this.extraHours[a].enabled=i)}this._zseg_matches&&this._zseg_matches.clear()},t.Market.prototype.enableSession=function(e){F.D0f(),this.disableSession(e,"enable_instead")},t.Market.prototype.enableAllAvailableSessions=function(){var e;e=this.getSessionNames(),F.D0f();for(var t=0;t<e.length;t++)this.enableSession(e[t].name)},t.Market.prototype.getClose=function(e,t,i,a){var r,n;if(!this.market_def)return null;if(!this.rules)return null;if(F.D0f(),r=e,e||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==t){if(this._wasOpenIntraDay(r)&&this.zseg_match.name===t)return r.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.child_;)n=n.child_;for(;!n.enabled;)n=n.parent_;return r.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},t.Market.prototype.getNextClose=function(e,t,i){var a,r,n;if(!this.market_def)return null;if(!this.rules)return null;for(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),this._wasOpenIntraDay(a)||(a=this.newIterator({begin:a,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),r=a.getDate(),n=this.zseg_match;n.adjacent_child;)n=n.adjacent_child,r+=1;return a.setDate(r),F.D0f(),a.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),a=this._convertFromMarketTZ(a,i)},t.Market.prototype.getNextOpen=function(e,t,i){var a;return F.D0f(),this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_next_segment(a),this.zseg_match.adjacent_parent?(a=this.getNextOpen(a,this.market_tz,this.market_tz),a=this._convertFromMarketTZ(a,i)):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getOpen=function(e,t,i,a){var r,n;if("undefin","ed",!this.market_def)return null;if(!this.rules)return null;if(r=e,F.V0f(),e||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==t){if(this._wasOpenIntraDay(r)&&this.zseg_match.name==t)return r.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.parent_;)n=n.parent_;for(;!n.enabled;)n=n.child_;return r.setHours(n.open_parts.hours,n.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},t.Market.prototype.getNormalOpen=function(){var{market_def:e,rules:t}=this;return e&&t?e.normal_daily_open?e.normal_daily_open:"FOREX"===e.name?"17:00":t.find((({name:e})=>!e||""===e)).open:"00:00"},t.Market.prototype.getNormalClose=function(){F.D0f();var{market_def:e,rules:t}=this;return e&&t?e.normal_daily_close?e.normal_daily_close:"FOREX"===e.name?"17:00":t.filter((({dayofweek:e,name:t})=>e&&(!t||""===t))).pop().close:"24:00"},t.Market.prototype.getPreviousClose=function(e,t,i){var a;return this.market_def&&this.rules?(a=e,F.V0f(),e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_prev_segment(a,!1),this.zseg_match.adjacent_child?this.getPreviousClose(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.close_parts.hours),a.setMinutes(this.zseg_match.close_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getPreviousOpen=function(e,t,i){var a;return this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_prev_segment(a,!0),this.zseg_match.adjacent_parent?this.getPreviousOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getSession=function(e,t){return e=this._convertToMarketTZ(e,t),this._wasOpenIntraDay(e)&&this.zseg_match?this.zseg_match.name:null},t.Market.prototype.marketZoneNow=function(){return this._convertToMarketTZ(new Date)},t.Market.prototype.isHourAligned=function(){return this.hour_aligned},t.Market.prototype.isOpen=function(){var e;return e=new Date,this.market_tz&&(e=new this.tz_lib(e.getTime(),this.market_tz)),this._wasOpenIntraDay(e)},t.Market.prototype.isMarketDay=function(){var e;return e=new Date,F.D0f(),this.market_tz&&(e=new this.tz_lib(e.getTime(),this.market_tz)),this._wasOpenDaily(e)},t.Market.prototype.isMarketDate=function(e){return this._wasOpenDaily(e)},t.Market.prototype.isFirstMarketDayOfMonth=function(e){var t,i;if(!this.isMarketDate(e))return!1;t=new Date(+e),i=e.getDate();for(var a=1;a<i;a++)if(t.setDate(a),this.isMarketDate(t))return!1;return!0},t.Market.prototype.isFirstMarketDayOfWeek=function(e){var t,i,a;if(!this.isMarketDate(e))return!1;for(t=this.tradingDays(),i=Math.max(this.beginningDayOfWeek,t[0])||0,a=new Date(+e);a.getDay()!==i;)if(a.setDate(a.getDate()-1),this.isMarketDate(a))return!1;return!0},t.Market.prototype.newIterator=function(e){var i,a;return"t","i","c","k","h","o","u","r",i=!1,e.periodicity?i=e.periodicity:e.multiple&&(i=e.multiple),(a=e.interval)||("minu","t","e",a="minute"),"hour"==a&&(a=60),i||(i=1),e.begin||(e.begin=new Date,e.inZone=null),a==parseInt(a,10)&&(a=parseInt(a,10),e.periodicity<1/60?("mill","isec","o","nd",i=i*a*6e4,a="millisecond"):e.periodicity<1?(i=i*a*60,a="second"):(i*=a,a="minute")),e.timeUnit&&("s","ec","on","d","millisecond"===e.timeUnit||"second"===e.timeUnit?a=e.timeUnit:"tick"===e.timeUnit&&(a="second")),"tick"==a&&(a="second"),e.interval=a,e.multiple=i,e.market=this,new t.Market.Iterator(e)},t.Market.prototype._wasOpenDaily=function(e){return F.V0f(),this._was_open(e,!1)},t.Market.prototype._wasOpenIntraDay=function(e){return this._was_open(e,!0)},t.Market.prototype._was_open=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g;if(void 0===t&&(t=!0),i=this.zseg_match,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour=24,!0;if(this.tradingDays().indexOf(e.getDay())<0)return null;if(this._zseg_matches||(this._zseg_matches=new Map),null===(a=this._zseg_matches.get(+e*(t?1:-1))))return null;if(a)return a=this._zseg_matches.get(a),Object.assign(this,a),this.zseg_match;for(r=!1,n=!1,s=e.getFullYear(),o=e.getMonth()+1,l=e.getDay(),h=e.getDate(),d=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),p=0;p<this.normalHours.length;p++)if((c=this.normalHours[p]).enabled&&((r=c.dayofweek===l)&&t&&(r=d>=c.open&&d<c.close),r)){if(!t&&this.zseg_match&&(c.open_parts.hours>this.zopen_hour||c.open_parts.hours==this.zopen_hour&&c.open_parts.minutes>this.zopen_minute))continue;if(c===i||c.adjacent_parent||c.adjacent_child||(this.shouldResetToBeginningOfSegment=!0),u=p+1,this.zopen_hour=c.open_parts.hours,this.zopen_minute=c.open_parts.minutes,this.zclose_hour=c.close_parts.hours,this.zclose_minute=c.close_parts.minutes,this.zmatch_open=d===c.open,this.zseg_match=c,t)break}for(p=0;p<this.extraHours.length;p++)if((c=this.extraHours[p]).enabled&&("*"===c.year||s===c.year)&&o===c.month&&h===c.day&&(!(n=!t&&c.open||d>=c.open&&d<c.close)&&this.zseg_match&&(r=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),n)){if(!t&&this.zseg_match&&(c.open_parts.hours>this.zopen_hour||c.open_parts.hours==this.zopen_hour&&c.open_parts.minutes>this.zopen_minute))continue;if(u=-(p+1),this.zopen_hour=c.open_parts.hours,this.zopen_minute=c.open_parts.minutes,this.zclose_hour=c.close_parts.hours,this.zclose_minute=c.close_parts.minutes,this.zmatch_open=d===c.open,this.zseg_match=c,t)break}return g=null,this.zseg_match&&(this.zseg_match._refid||(this.zseg_match._refid=u,this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match})),g=this.zseg_match._refid),this._zseg_matches.set(+e*(t?1:-1),g),this.zseg_match},t.Market.prototype._wasClosed=function(e){return F.D0f(),!this._was_open(e,!0)},t.Market.prototype._wasOpen=function(e){return this._was_open(e,!0)},t.Market.prototype._tzDifferenceMillis=function(e,t,i){var a;return 0,a=e,60*(e.getTimezoneOffset()-a.getTimezoneOffset())*1e3},t.Market._createTimeSegments=function(e){var t,i,a,r,n;t=function(e,t){if(24===e.close_parts.hours&&0===t.open_parts.hours&&0===t.open_parts.minutes){if(i.dayofweek===r.dayofweek-1)return!0;if(6===i.dayofweek&&0===r.dayofweek){-1809129783,1119022630,2;for(var a=1;-1809129783!==F.V9R(a.toString(),a.toString().length,59292);a++)return!0;if(1119022630!==F.j9R(2..toString(),2..toString().length,57402))return!1}}return!1},F.V0f();for(var o=0;o<e.rules.length;o++){"n","a","m","e","undefine","d",void 0===(a=JSON.parse(JSON.stringify(e.rules[o]))).open&&void 0===a.close&&("0","0:","0","0","0","0",":00",a.open="00:00",a.close="00:00"),a.hasOwnProperty("name")||(a.name="");try{if("undefin","ed",void 0!==a.dayofweek?(a.year="*",r=s._createDayOfWeekSegment(e,a),i&&(i.dayofweek===r.dayofweek?(i.child_=r,r.parent_=i):t(i,r)&&(i.adjacent_child=r,r.adjacent_parent=i)),i=r):void 0!==a.date?(a.isDayOfWeek=!1,a.dayofweek=-1,r=s._createDateTimeSegment(e,a)):console.log("Error, unknown rule type "+a),e.enabled_by_default)for(var l=0;l<e.enabled_by_default.length;l++)if(n=e.enabled_by_default[l],r.name===n){r.enabled=!0;break}}catch(e){console.log("Error, creating market rules "+e)}}},t.Market._timeSegment={},(s=t.Market._timeSegment).re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,s.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s.re_split_hours_minutes=/^(\d\d):(\d\d)$/,s.re_split_hour_minutes=/^(\d):(\d\d)$/,s._hashCode=function(e){var t,i,a;if(t=0,F.D0f(),0===e.length)return t;for(i=0,a=e.length;i<a;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t},s._splitHoursMinutes=function(e){var t,i;return i={hours:NaN,minutes:NaN},null===(t=s.re_split_hour_minutes.exec(e))&&null===(t=s.re_split_hours_minutes.exec(e))||(i.hours=parseInt(t[1],10),i.minutes=parseInt(t[2],10)),i},s._createDayOfWeekSegment=function(e,t){var i;return F.V0f(),""===(i={name:t.name,isDayOfWeek:!0,dayofweek:t.dayofweek,date_str:"*",open_parts:s._splitHoursMinutes(t.open),close_parts:s._splitHoursMinutes(t.close),open:s._secSinceMidnight(e,t.open,!0),close:s._secSinceMidnight(e,t.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1}).name&&(i.enabled=!0),i.hash_code=this._hashCode((i.open+i.close).toString()),e.normalHours.push(i),i},s._createDateTimeSegment=function(e,t){var i,a,r;if(null===(i=this.re_regular_iso.exec(t.date))){if(null===(i=this.re_wild_card_iso.exec(t.date)))return void console.log("Warning: invalid date format on rule -> "+t.date);a="*"}else a=parseInt(i[1],10);return""===(r={name:t.name,isDayOfWeek:!1,dayofweek:-1,year:a,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:t.date,open_parts:s._splitHoursMinutes(t.open),close_parts:s._splitHoursMinutes(t.close),open:s._secSinceMidnight(e,t.open,!0),close:s._secSinceMidnight(e,t.close,!1),enabled:!1}).name&&(r.enabled=!0),r.hash_key=this._hashCode(r.date_str+r.open+r.close),e.extraHours.push(r),r},s._secSinceMidnight=function(e,t,i){var a,r,n;return a=t.split(":"),r=parseInt(a[0],10),F.V0f(),n=60*r*60+60*parseInt(a[1],10),i||24===r&&(n=60*r*60+1),n},t.Market.prototype._convertToMarketTZ=function(e,t){var i;return F.D0f(),(i=t?new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),t):new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())).setTimezone&&i.setTimezone(this.market_tz),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())},t.Market.prototype._convertFromMarketTZ=function(e,t){var i;return i=new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),this.market_tz),t?(i.setTimezone&&i.setTimezone(t),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())},t.Market.Iterator=function(e){this.market=e.market,this.begin=e.begin,this.interval=e.interval,this.multiple=e.multiple,this.inZone=e.inZone,this.outZone=e.outZone,this.clock=new t.Market.Iterator._Clock(e.market,e.interval,e.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,e.inZone)),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1,this.clock.minimumScanMS=6e4*e.market.minimumSessionLength},t.Market.Iterator.prototype.date=function(){return this.clock._date()},t.Market.Iterator.prototype.futureTick=function(e){var t,i,a,r,n,s,o;if(this.clock.skip=1,t=0,(i=this.intraDay?this.market._convertToMarketTZ(e.end,this.inZone).getTime():e.end.getTime())===(a=this.clock.ctime))return t;if(r=2,F.D0f(),1e3,n=0,e.sample_size&&(r=e.sample_size),s=(new Date).getTime(),i>a){for(this.clock.forward=!0;this.clock.ctime<i;)if(t+=1,n+=1,this.clock._findNext(),1e3===n&&(n=0,(new Date).getTime()-s>=r)){o=(this.clock.ctime-a)/t,t=Math.floor((i-a)/o);break}this.clock.ctime>i&&t--}else for(this.clock.forward=!1;this.clock.ctime>i;)if(t+=1,n+=1,this.clock._findPrevious(),1e3===n&&(n=0,(new Date).getTime()-s>=r)){o=(a-this.clock.ctime)/t,t=Math.floor((a-i)/o);break}return t},t.Market.Iterator.prototype.isHourAligned=function(){return F.D0f(),!this.intraDay||this.market.isHourAligned()},t.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen()},t.Market.Iterator.prototype.next=function(e){this.clock.skip=1,e&&(this.clock.skip=e),this.clock.forward=!0,F.V0f();for(var t=0;t<this.clock.skip;t++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},t.Market.Iterator.prototype.peek=function(){return F.V0f(),this.clock._peek()},t.Market.Iterator.prototype.previous=function(e){this.clock.skip=1,e&&(this.clock.skip=e),this.clock.forward=!1;for(var t=0;t<this.clock.skip;t++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},t.Market.Iterator._Clock=function(e,t,i){var n,s,o;if("d","a","y","h","o","ur","minut","e","mill","isec","ond",i%60==0&&"second"===t&&(t="minute",i/=60),this.market=e,this.interval=t,this.multiple=i,this.intra_day=!1,this.intervals=[],this.max_iters=10080,n=r,s=this._dayImpl,F.V0f(),"millisecond"===t)s=this._millisImpl,n=1;else if("second"===t){-1626604481,-1472197240,o=2;for(var l=1;-1626604481!==F.j9R(l.toString(),l.toString().length,91375);l++)s=this._secondImpl,n=8462,o+=2;-1472197240!==F.j9R(o.toString(),o.toString().length,12858)&&(s=this._secondImpl,n=1e3)}else"minute"===t?(s=this._minuteImpl,n=6e4):"hour"===t?(s=this._hourImpl,n=a):"day"===t?(s=this._dayImpl,n=r):"week"===t?(s=this._weekImpl,n=7*r):"month"===t?(s=this._monthImpl,n=30*r):("Periodicity ER","ROR",': "',console.log('Periodicity ERROR: "'+t+'" is not a valid interval. Please see setPeriodicity() for details.'));this.tick_time=n*i,this.intra_day=this.tick_time<r,this._findPrevious=this._findNext=s},(o=t.Market.Iterator._Clock.prototype)._total_minutes=function(e,t,i,a){return 60*(i-e)-t+a},o._alignMinutes=function(){var e,t,i,a,r,n;if(e=this.market.isHourAligned(),!this.market.market_def&&!e||void 0===this.market.zopen_minute)return[];for(t=this.market.zopen_minute,(i=this.market.zseg_match)&&i.adjacent_parent?t=i.adjacent_parent.open/60-1440:e&&this.multiple%60==0&&(t=0),a=this._total_minutes(this.market.zopen_hour,t,this.market.zclose_hour,this.market.zclose_minute),F.D0f(),r=[],n=0;n<a;)r.push(t+n),n+=this.multiple;return r},o._alignBaseZero=function(e){var t,i;for(F.D0f(),i=[t=0];!((t+=this.multiple)>=e);)i.push(t);return i},o._date=function(){var e,t;return e=Math.round(this.ctime),t=new Date(e),this.intra_day?this.display_date=new Date(e+this.shift_millis):this.display_date=t,F.D0f(),t},o._alignToBoundary=function(e,t){var i,a,r;i=0,a=0,r=t;for(var n=0;n<e.length-1&&(i=e[n],a=e[n+1],t!==i&&t!==a);n++){if(t>i&&t<a){r=i;break}n+1===e.length-1&&(r=a)}return F.V0f(),r},o._peek=function(){return this._date().toString()},o._seekHr=function(){F.D0f(),this.forward?this.ctime-=a:this.ctime+=a},o._setStart=function(e){var t,i;t=this.market._tzDifferenceMillis(e),i=new Date(e.getTime()+t),this.shift_millis=t,this.ctime=i.getTime(),this.shift_millis=0,F.D0f(),this.ctime=e.getTime()},o._tickTock=function(){F.V0f(),this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},o._tockTick=function(){F.D0f(),this.forward?this.ctime-=this.tick_time:this.ctime+=this.tick_time},o._tickTock24=function(){F.V0f(),this.ctime+=r},o._tockTick24=function(){F.V0f(),this.ctime-=r},o._windMaybe=function(e,t){var i,a,r,n;for(i=0,a=new Date(this.ctime),r=!1,F.V0f();!e.call(this.market,a);)if(t.call(this),r=!0,a=new Date(this.ctime),(i+=1)>this.max_iters){n="Warning! max iterations ("+this.max_iters,n+=") reached with no rule match.",console.log(n);break}return r},o._millisImpl=function(){var e,t,i,a,r,n,s,o,l,h;return F.D0f(),e=!1,this.mperiods_aligned||(t=this._alignBaseZero(1e3),a=(i=new Date(this.ctime)).getMilliseconds(),a=this._alignToBoundary(t,a),i.setMilliseconds(0),this.ctime=i.getTime()+a,this.mperiods_aligned=!0,e=!0),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!e&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this._date().getMilliseconds(),l=this.tick_time,this.tick_time=6e4,h=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=l,this.multiple=h,this.ctime+=1e3*s+o),this._date()},o._secondImpl=function(){var e,t,i,a,r,n,s,o,l;return e=!1,this.speriod_aligned||(t=this._alignBaseZero(60),a=(i=new Date(this.ctime)).getSeconds(),a=this._alignToBoundary(t,a),i.setSeconds(a),i.setMilliseconds(0),this.ctime=i.getTime(),this.speriod_aligned=!0,e=!0),r=this._date().getMinutes(),F.D0f(),this._tickTock(),n=this._date().getMinutes(),!e&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this.tick_time,this.tick_time=6e4,l=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=o,this.multiple=l,this.ctime+=1e3*s),this._date()},o._minuteImpl=function(){var e,t,i,a,r,n,s,o,l,h,c,u,d,p,g;if(e=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=(t=new Date(this.ctime)).getTimezoneOffset(),a=t.getMinutes(),r=t.getHours(),n=this._alignMinutes(),s=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,r,a)+this.market.zopen_minute,e)s=this.forward?n[n.length-1]:n[0];else{-2114801274,-2098200428,o=2;for(var f=1;-2114801274!==F.j9R(f.toString(),f.toString().length,32e3);f++)s=this._alignToBoundary(n,s),o+=2;-2098200428!==F.V9R(o.toString(),o.toString().length,50219)&&(s=this._alignToBoundary(n,s))}return r=Math.floor(s/60)+this.market.zopen_hour,t.setHours(r,s%60,0,0),l=t.getTimezoneOffset()-i,(this.forward&&l<0||!this.forward&&l>0)&&t.setTime(t.getTime()-6e4*l),this.ctime=t.getTime(),h=this.market.zseg_match,this._tickTock(),c=this.market.hour_aligned&&this.multiple%60==0,e=this._scanForNextSession(),u=h!==this.market.zseg_match,d=h&&h.adjacent_child,p=this.shouldResetToBeginningOfSegment||u&&!d,(e||p&&!c)&&(t=new Date(this.ctime),this.forward?(t.setMinutes(this.market.zopen_minute),t.setHours(this.market.zopen_hour)):(g=(n=this._alignMinutes())[n.length-1],t.setMinutes(g%60),t.setHours(Math.floor(g/60)+this.market.zopen_hour)),this.ctime=t.getTime()),this._date()},o._hourImpl=function(){var e,t,i,a,r;return this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),e=new Date(this.ctime),this.market.isHourAligned()?e.setMinutes(0):e.setMinutes(this.market.zopen_minute),e.setSeconds(0),e.setMilliseconds(0),this.ctime=e.getTime(),this._tickTock(),t=this.market.zseg_match,(this._scanForNextSession()||!this.market.hour_aligned&&t!=this.market.zseg_match)&&(i=new Date(this.ctime),this.forward?(i.setMinutes(this.market.zopen_minute),i.setHours(this.market.zopen_hour)):(r=(a=this._alignMinutes())[a.length-1],i.setMinutes(r%60),i.setHours(Math.floor(r/60)+this.market.zopen_hour)),this.ctime=i.getTime()),F.V0f(),this._date()},o._dayImpl=function(){var e,t;for(F.D0f(),this._windMaybe(this.market._wasOpenDaily,this._seekHr),(e=new Date(this.ctime)).setHours(12,0,0,0),this.ctime=e.getTime(),t=0;t<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(t+=1);return(e=new Date(this.ctime)).setHours(0),this.ctime=e.getTime(),this._date()},o._weekImpl=function(){var e,t;for(e=this.market,(t=new Date(this.ctime)).setHours(12),F.V0f(),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime);t.getDay()!==e.beginningDayOfWeek;)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(e._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},o._monthImpl=function(){var e;return(e=new Date(this.ctime)).setDate(15),this.ctime=e.getTime(),this._tickTock(),(e=new Date(this.ctime)).setDate(1),e.setHours(12),this.ctime=e.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(e=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=e.getTime(),this._date()},o._findNext=null,o._findPrevious=null,o._scanForNextSession=function(){return F.D0f(),this._windMaybe(this.market._wasOpenIntraDay,function(){this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS}.bind(this))}},g=e=>{var t,i,a,r=F;r.f7o=function(e){if(r&&e)return r.o0o(e)},r.d7o=function(e){if(r)return r.o0o(e)},r.r0o=function(e){if(r)return r.v0o(e)},r.s0o=function(e){if(r.V0f(),r&&e)return r.o0o(e)},r.X0o=function(e){if(r.V0f(),r&&e)return r.o0o(e)},t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="valid",t.valid=0,t[r.X0o("65e9")?"":"ChartEngine"][r.s0o("6eea")?"":"prototype"][r.r0o("ffff")?"":"mousemoveinner"]=function(e,a){var n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H;if(r.n7o=function(e){if(r)return r.o0o(e)},r.g0o=function(e){if(r)return r.v0o(e)},r.w0o=function(e){if(r)return r.o0o(e)},n=r.y0o("9baa")?"":"p",n+=r.x0o("fcbc")?"":"x",this[r.w0o("a2bd")?"":"chart"][r.g0o("d892")?"":"canvas"])if(t.isAndroid||t.isIOS7or8||(r.G0o=function(e){if(r.D0f(),r)return r.o0o(e)},r.j0o=function(e){if(r.D0f(),r&&e)return r.o0o(e)},r.W0o=function(e){if(r)return r.o0o(e)},this.chart[r.W0o("f8bd")?"canvas":""].height==Math.floor(this.devicePixelRatio*this[r.q0o("fa6b")?"":"chart"][r.j0o("11b5")?"":"container"].clientHeight)&&this.chart[r.G0o("f124")?"":"canvas"][r.O0o("4f16")?"":"width"]==Math.floor(this.devicePixelRatio*this.chart.container.clientWidth))){if(!this[r.d7o("8262")?"":"runPrepend"]("mousemoveinner",arguments)){if(o=arguments,l=this[r.f7o("fb2e")?"":"container"].getBoundingClientRect(),this.top=l[r.n7o("976d")?"top":""],this.left=l.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.hasDragged=!0,t.ChartEngine.crosshairX=e,t.ChartEngine.crosshairY=a,h=this.cy=this.crossYActualPos=this.backOutY(t.ChartEngine.crosshairY),c=this.cx=this.crossXActualPos=this.backOutX(t.ChartEngine.crosshairX),this.grabbingScreen&&this.anyHighlighted){u=-84516370,d=1683584576,p=2;for(var O=1;r.j9R(O.toString(),O.toString().length,74130)!==u;O++){if(Math.pow(this.grabStartX*e,8)/Math.pow(this.grabStartY%a,0)>=30)return;p+=2}if(r.j9R(p.toString(),p.toString().length,92572)!==d){r.L4o(92);var I=r.i4o(8,0,9,5);r.L4o(63);var z=r.i4o(10,7,109,11,15);if(Math.pow(this.grabStartX%e,I)-Math.pow(this.grabStartY/a,z)>46)return}r.L4o(12);var N=r.S4o(9,7,0);r.A4o(85);var V=r.i4o(33,4,15,20,1);if(Math.pow(this.grabStartX-e,N)+Math.pow(this.grabStartY-a,V)<36)return}if(this.cancelLongHold=!0,g=function(e,a){if(0===t[i])return e.whichPanel(a)||e.chart.panel;e.draw[i]||(e.draw=function(){r.V0f(),t.clearCanvas(this.chart.canvas,this)},e.draw[i]=!0)},this.currentPanel=g(this,h),this.currentPanel&&((f=this.currentPanel.chart).dataSet&&(m="char",m+="t",this.crosshairTick=this.tickFromPixel(c,f),s=this.valueFromPixel(h,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,s),(y=this.currentPanel.name==m?this.preferences.horizontalCrosshairField:this.currentPanel.horizontalCrosshairField)&&this.crosshairTick<f.dataSet.length&&this.crosshairTick>-1&&(s=f.dataSet[this.crosshairTick][y],this.crossYActualPos=this.pixelFromPrice(s,this.currentPanel))),t.ChartEngine.crosshairX>=this.left&&t.ChartEngine.crosshairX<=this.right&&t.ChartEngine.crosshairY>=this.top&&t.ChartEngine.crosshairY<=this.bottom?this.insideChart=!0:this.insideChart=!1,v=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=this.insideChart&&this.cy<=v&&this.cy>v-this.xaxisHeight,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this.currentPanel.left)&&this.insideChart,!this.overXAxis&&!this.overYAxis&&(this.insideChart||this.grabbingScreen)||(this.undisplayCrosshairs(),this.overXAxis||this.overYAxis))){if(this.displayCrosshairs||t.ChartEngine.resizingPanel){if(this.repositioningBaseline)return this.setBaselineUserLevel(),W(this);if(this.repositioningAnchorSelector)return b=this.repositioningAnchorSelector.hoverTick,(x=this.tickFromPixel(this.cx,this.chart))>=0&&x<this.chart.dataSet.length&&(!b||0===b||x!==b)&&(this.repositioningAnchorSelector.hoverTick=x,this.draw()),W(this);if(this.grabbingScreen&&!t.ChartEngine.resizingPanel){if(this.highlightedDraggable)return this.displayDragOK(!0),this.dragPlotOrAxis(c,h),W(this);if(this.anyHighlighted){for(S in t.clearCanvas(this.chart.tempCanvas,this),this.anyHighlighted=!1,this.overlays)this.overlays[S].highlight=!1;for(S in f.series)f.series[S].highlight=!1;this.displaySticky()}if(-1==this.grabStartX&&(this.grabStartX=t.ChartEngine.crosshairX,this.grabStartScrollX=f.scroll),-1==this.grabStartY&&(this.grabStartY=t.ChartEngine.crosshairY,this.grabStartScrollY=this.currentPanel.yAxis.scroll),C=t.ChartEngine.crosshairX-this.grabStartX,D=t.ChartEngine.crosshairY-this.grabStartY,0===C&&0===D)return;if(Math.abs(C)+Math.abs(D)>5&&(this.grabOverrideClick=!0),w=this.layout.candleWidth,this.allowZoom&&"pan"!=this.grabMode&&(0===this.grabMode.indexOf("zoom")||this.overXAxis||this.grabStartYAxis)){if(k="zoom",k+="-",k+="y",""===this.grabMode&&(T="z",T+="oom-y",this.overXAxis?this.grabMode="zoom-x":this.grabStartYAxis&&(this.grabMode=T)),"zoom-x"==this.grabMode?D=0:this.grabMode==k&&(C=0),C&&(this.grabStartX=t.ChartEngine.crosshairX,M=w-C/this.chart.maxTicks,this.zoomSet(M,this.chart)),this.layout.setSpan&&(P="l",P+="a",P+="yout",this.layout.setSpan=null,this.changeOccurred(P)),A=this.grabStartYAxis)if(A.flipped&&(D*=-1),A.zoom=Math.round(this.grabStartZoom+D),this.grabStartZoom<A.height)A.zoom>=A.height&&(A.zoom=A.height-1);else if(A.zoom<=A.height){r.A4o(93);var R=r.i4o(13,8,14,12,22);A.zoom=A.height+R}}else if(!this.overYAxis&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!0}),this.allowScroll)){if(_="p",_+="a",_+="n",Math.abs(D)<this.yTolerance){if(!this.yToleranceBroken&&(D=0,0===C))return}else this.yToleranceBroken=!0;this.grabStartMicropixels||(this.grabStartMicropixels=0),this.grabMode=_,f.scroll=this.grabStartScrollX,r.L4o(12);var j=r.i4o(11,7,1);r.L4o(29);var Y=r.i4o(4,4,1);if(this.micropixels=this.grabStartMicropixels+C*(this.shift?j:Y),!this.lineTravelSpacing){for(;this.micropixels>0;)this.micropixels-=w,f.scroll++;for(;this.micropixels<-w;)this.micropixels+=w,f.scroll--}f.scroll>=f.maxTicks?this.preferences.whitespace=this.initialWhitespace:this.preferences.whitespace=(f.maxTicks-f.scroll)*w,this.currentPanel==this.grabStartPanel&&((A=this.currentPanel.yAxis).flipped&&(D*=-1),A.scroll=this.grabStartScrollY+D),this.dispatch("scroll",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy})}return L=function(e){return function(){e.draw(),r.D0f(),e.updateChartAccessories()}},t.ChartEngine.useAnimation?window.requestAnimationFrame(L(this)):(this.draw(),this.updateChartAccessories()),this.activeDrawing&&(t.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}return this.grabMode="",this.overXAxis||this.overYAxis?(this.updateChartAccessories(),this.tapForHighlighting&&this.touching&&!this.anyHighlighted||this.findHighlights(),W(this)):(this.controls.crossX&&(this.controls.crossX.style.left=this.pixelFromTick(this.crosshairTick,f)-.5+"px"),r.D0f(),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+n),this.insideChart&&!t.ChartEngine.resizingPanel?(E=this.currentVectorParameters.vectorType,this.layout.studies&&(F=this.layout.studies[this.currentPanel.name])&&(this.preferences.dragging&&this.preferences.dragging.study||delete this.overlays[F.name],E&&(this.overlays[F.name]=F)),t.Drawing&&E&&t.Drawing[E]&&(new t.Drawing[E]).dragToDraw||this.doDisplayCrosshairs(),this.updateChartAccessories()):this.undisplayCrosshairs(),this.magnetize&&this.magnetize(),this.repositioningDrawing?this.repositionDrawing(this.repositioningDrawing):t.ChartEngine.drawingLine?this.activeDrawing&&(null===this.magnetizedPrice&&(H=this.panels[this.activeDrawing.panelName],s=this.adjustIfNecessary(H,this.crosshairTick,this.activeDrawing.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),H,this.getYAxisByField(H,this.activeDrawing.field))),t.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.move(this.chart.tempCanvas.context,this.crosshairTick,s)),this.activeDrawing.measure&&this.activeDrawing.measure()):t.ChartEngine.resizingPanel&&this.resizePanels(),this.insideChart&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!1}),this.tapForHighlighting&&this.touching&&!this.anyHighlighted||this.findHighlights()),W(this))}this.undisplayCrosshairs()}}}else this.resizeChart();function W(e){e.currentBaseline=null,e.runAppend("mousemoveinner",o)}},t.ChartEngine.prototype.swipeStart=function(e){var t;r.V0f(),this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,this.swipe.amplitude=0,this.swipe.frame=e.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=e,this.swipe.end=!1,r.A4o(60),this.swipe.timeConstant=r.S4o("325",0),this.swipe.cb=null,t=this,requestAnimationFrame((function(){t.swipeSample()}))},t.ChartEngine.prototype.swipeSample=function(){var e,i,a,n,s,o,l;(e=this.swipe).end||(i=this,20,(n=(a=Date.now())-e.timestamp)<20||(o=t.touchDevice?.4:.8,e.timestamp=a,s=(e.chart.scroll-e.frame)*this.layout.candleWidth+this.micropixels-e.micropixels,e.frame=e.chart.scroll,e.micropixels=this.micropixels,r.A4o(94),l=o*r.i4o("1000",s,n,1,1845647392)+.2*e.velocity,Math.abs(l)>Math.abs(e.velocity)&&(e.velocity=l),Math.abs(s)<6&&(e.velocity=0)),requestAnimationFrame((function(){i.swipeSample()})))},t.ChartEngine.prototype.swipeRelease=function(){var e,t;(e=this.swipe).velocity>3e3&&(e.velocity=3e3),r.V0f(),e.velocity<-3e3&&(e.velocity=-3e3),(e.velocity>10||e.velocity<-10)&&(e.amplitude=.8*e.velocity,e.scroll=e.chart.scroll,e.target=e.amplitude,e.timestamp=Date.now(),t=this,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame((function(){r.V0f(),t.autoscroll()})))},t.ChartEngine.prototype.dragPlotOrAxis=function(e,i){var a,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,F,H,O,I,z,N,V,R,j,Y,W,U,B,X,q,Q,Z,G,J,K;if(a=this,(function(){var e,t,i,n,s,o;function l(t){return function(i){t.subholder.classList.contains(i)&&(t.subholder.classList.remove(i),e=!0)}}for(var h in r.V0f(),e=!1,a.panels){for(t="bott",i="ri",n="le",n+="f",s="drop",s+="zon",[s+="e","all",n+="t",i+="ght","top",t+="om"].forEach(l(a.panels[h])),o=0;o<a.panels[h].yaxisLHS.length;o++)a.panels[h].yaxisLHS[o].dropzone&&(e=!0),a.panels[h].yaxisLHS[o].dropzone=null;for(o=0;o<a.panels[h].yaxisRHS.length;o++)a.panels[h].yaxisRHS[o].dropzone&&(e=!0),a.panels[h].yaxisRHS[o].dropzone=null}return e}.call(this)||this.grabbingScreen)&&(n=null,s=this.whichPanel(i),o=this.highlightedDraggable,l=0,s&&(r.V0f(),!o.undraggable||!o.undraggable(this)))){for(A in this.xAxisAsFooter&&s==Object.values(this.panels).pop()&&(l=this.xaxisHeight,n&&(n+=l)),h=Math.min(20,(s.height-l)/3),c=Math.min(10,s.width/3),u=this.whichYAxis(s,e,i),r.A4o(8),d=this.whichYAxis(s,r.i4o(e,c),i),r.A4o(0),p=this.whichYAxis(s,r.i4o(c,e),i),r.L4o(8),g=this.whichPanel(r.S4o(i,h)),r.L4o(28),f=this.whichPanel(r.S4o(h,l,i)),m=!1,y=!1,!1,t.Renderer&&(m=o instanceof t.Renderer),t.Studies&&(y=o instanceof t.Studies.StudyDescriptor),b=function(e){if(r.D0f(),!v){if("right"==e){r.A4o(95);var t=r.S4o(5,5,2,3);return s.right-s.width/t}if("left"==e){r.A4o(96);var i=r.S4o(4,46,11,2,0);return s.left+s.width/i}}r.L4o(8);var a=r.S4o(12,10);return(s.left+s.right)/a},(v=o instanceof t.ChartEngine.YAxis)||u||(e<b("left")?d=this.whichYAxis(s,s.left-1,i):e>b("right")&&(p=this.whichYAxis(s,s.right+1,i))),x=[],o.getDependents&&(x=o.getDependents(this,!0)),S=o.panel,C=o.getYAxis(this),m?S=o.params.panel:v&&(S=this.grabStartPanel.name),D=this.panels[S],this.panels)this.panels[A].soloing&&(w=!0);if(k=C.isShared(this),T=!(u||v||w||(D===s||D==g||D==f)&&this.checkForEmptyPanel(D,!0,[o].concat(x))),M=S==s.name&&C!==u&&C!==p&&C!==d||k,!T||g&&s===g)if(!T||f&&s===f){if(s!==D)v||s.noDrag||(s.subholder.classList.add("dropzone"),s.subholder.classList.add("all"),P=s.name);else if((!s.yaxisRHS.length||1==s.yaxisRHS.length&&s.yaxisRHS[0]==C&&"none"==C.position)&&!u&&!p&&e>b("right"))"r","i","gh","t","dro","p","zon","e",s.subholder.classList.add("dropzone"),s.subholder.classList.add("right"),_="right";else if((!s.yaxisLHS.length||1==s.yaxisLHS.length&&s.yaxisLHS[0]==C&&"none"==C.position)&&!u&&!d&&e<b("left"))"dropzo","ne",s.subholder.classList.add("dropzone"),s.subholder.classList.add("left"),_="left";else if(M){if(v&&e>s.left&&e<s.right){r.L4o(11);var $=r.i4o(1,0,6,3);L=s.yaxisLHS[s.yaxisLHS.length-$],E=s.yaxisRHS[0],e<(F=b())&&L!=C?d=L:e>F&&E!=C&&(p=E)}v&&u===C||(H=!v&&k,!p||p===C&&!H||u&&u===p?!d||d===C&&!H||u&&u===d?u&&(p||u===C&&!H?d||u===C&&!H?u!==C&&("a","l","l",u.dropzone="all"):u.dropzone="left":u.dropzone="right",u.dropzone&&(_=u.position||this.chart.panel.yAxis.position||"right")):("ri","gh","t",d.dropzone="right",_=d.position||this.chart.panel.yAxis.position||"right"):(p.dropzone="left",_=p.position||this.chart.panel.yAxis.position||"right"))}}else s.subholder.classList.add("dropzone"),s.subholder.classList.add("bottom");else s.subholder.classList.add("dropzone"),s.subholder.classList.add("top"),f=s;if(this.grabbingScreen||!s.subholder.classList.contains("dropzone")&&!_)this.draw();else{if(I=-1,!P&&!_&&T){for(var ee in P=y?o.inputs.id:o.params.name||t.uniqueID(),this.panels)if(I++,this.panels[ee]==f)break;f||I++,this.panels[S].yAxis.name==P&&(S=this.electNewPanelOwner(S)),z=y?o.inputs.display:null,S?this.createPanel(z||P,P,n,this.chart.name,new t.ChartEngine.YAxis({name:P})):S=P,y?o.panel=S:o.params.panel=S}if(P){if(y)"Stud","ies.","repla","ceStudy",o.parameters||(o.parameters={}),o.parameters.panelName=P,this.highlightedDraggable=t.getFn("Studies.replaceStudy")(this,o.inputs.id,o.type,o.inputs,o.outputs,o.parameters,null,o.study);else if(m)for(var te in o.seriesParams)N=o.seriesParams[te],V=null,o.params.yAxis&&o.params.yAxis!==this.chart.panel.yAxis&&((V=o.params.yAxis).name=o.params.name),this.modifySeries(N.id,{panel:P,yAxis:V});if(I>-1){for(A in R={},j=0,this.panels)I==j++&&(R[P]=this.panels[P]),A!=P&&(R[A]=this.panels[A]);R[P]||(R[P]=this.panels[P]),this.panels=R}this.checkForEmptyPanel(S);for(var ie=0;ie<x.length;ie++)x[ie].params?this.checkForEmptyPanel(x[ie].params.name):this.checkForEmptyPanel(x[ie].name);this.adjustPanelPositions()}else if(_){if(Y=function(e,i,a,n){var s,o,l;r.D0f(),s=2;for(var h=1;680824862!==r.j9R(h.toString(),h.toString().length,14148);h++)s+=2;if(r.j9R(s.toString(),s.toString().length,63046),"study"==a&&(i.parameters||(i.parameters={}),n?i.parameters.yaxisDisplayValue=n.position:delete i.parameters.yaxisDisplayValue,o=t.getFn("Studies.replaceStudy")(e,i.inputs.id,i.type,i.inputs,i.outputs,i.parameters,i.panel,i.study)),"renderer"==a)for(var c in i.seriesParams)l=i.seriesParams[c],o=e.modifySeries(l.id,{panel:P,yAxis:n});return o},!(W=u&&"all"==u.dropzone)){v?(o.position=_,this.layout.studies&&(U=this.layout.studies[o.name])&&(U.parameters||(U.parameters={}),U.parameters.yaxisDisplayValue=_)):y?this.highlightedDraggable=Y(this,o,"study",{position:_}):m&&("r","enderer",Y(this,o,"renderer",new t.ChartEngine.YAxis({name:o.params.name||t.uniqueID(),position:_}))),1249687396,1794839794,B=2;for(var ae=1;1249687396!==r.V9R(ae.toString(),ae.toString().length,26789);ae++)C=this.highlightedDraggable.getYAxis(this),B+=2;1794839794!==r.j9R(B.toString(),B.toString().length,26611)&&(C=this.highlightedDraggable.getYAxis(this))}if(!k||!W||v){for(X=C,W&&C==this.chart.panel.yAxis&&(X=u),O=0;O<s.yaxisLHS.length;O++)if(s.yaxisLHS[O]==X){s.yaxisLHS.splice(O,1);break}for(O=0;O<s.yaxisRHS.length;O++)if(s.yaxisRHS[O]==X){s.yaxisRHS.splice(O,1);break}}if(W)if(this.getYAxisByName(s,C.name)==s.yAxis&&this.electNewPanelOwner(s,u),v){for(Q in Z=C,G=u,C==this.chart.panel.yAxis&&(Z=u,G=C),Z.studies)"s","t","ud","y",Y(this,this.layout.studies[Z.studies[Q]],"study",G===this.chart.panel.yAxis?null:{position:G.name});for(Q in Z.renderers)"render","er",Y(this,this.chart.seriesRenderers[Z.renderers[Q]],"renderer",G);this.highlightedDraggable=G}else y?("s","tu","d","y",this.highlightedDraggable=Y(this,o,"study",{position:u.name})):m&&("render","er",Y(this,o,"renderer",u));else{for("none"==C.position&&(C.width=t.ChartEngine.YAxis.prototype.width),C.position=_,q="left"==_?s.yaxisLHS:s.yaxisRHS,O=0;O<q.length;O++){if(q[O]!==C)if("left"==q[O].dropzone)q.splice(O,0,C);else{if("right"!=q[O].dropzone)continue;r.A4o(0),q.splice(r.i4o(1,O),0,C)}break}O==q.length&&q.push(C)}}for(var re in this.panels)for(K=(J=this.panels[re]).yaxisLHS.concat(J.yaxisRHS),O=0;O<K.length;O++)K[O].height=J.yAxis.height,K[O].lockScale||this.calculateYAxisMargins(K[O]);this.displayDragOK(),this.draw(),this.calculateYAxisPositions(),this.draw(),this.findHighlights(null,!0),this.savePanels()}}},a=!1,t.ChartEngine.prototype.findHighlights=t.ChartEngine.prototype.findHighlights||function(e,t){a||console.error("movement feature requires activating interaction feature."),r.V0f(),a=!0}},f=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).NameValueStore=t.NameValueStore||function(){},t.NameValueStore.prototype.toJSONIfNecessary=function(e){if(e.constructor==String)return e;try{return JSON.stringify(e)}catch(t){return F.A4o(0),console.log(F.i4o(e,"Cannot convert to JSON: ")),null}},F.V0f(),t.NameValueStore.prototype.fromJSONIfNecessary=function(e){F.D0f();try{return JSON.parse(e)}catch(t){return e}},t.NameValueStore.prototype.get=function(e,i){var a;a=t.localStorage.getItem(e),i(null,this.fromJSONIfNecessary(a))},t.NameValueStore.prototype.set=function(e,i,a){t.localStorageSetItem(e,this.toJSONIfNecessary(i)),a&&a(null)},t.NameValueStore.prototype.remove=function(e,i){t.localStorage.removeItem(e),i&&i(null)}},m=e=>{var t;function i(){}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine||(t.ChartEngine=function(){}),i.fetchInitialData=function(e,t,i,a,r){},i.fetchUpdateData=function(e,t,i,a){},i.fetchPaginationData=function(e,t,i,a,r){},i.subscribe=function(e){},i.unsubscribe=function(e){},t.QuoteFeed=t.QuoteFeed||function(){},t.QuoteFeed.prototype.fetch=function(e,t){this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},t.QuoteFeed.prototype.announceError=function(e,i){e.suppressErrors||i.suppressAlert||e.startDate||e.endDate||i.error&&t.alert("Error fetching quote:"+i.error)},t.QuoteFeed.prototype.multiFetch=function(e,t){return 0===e.length&&t([]),e[0].stx.driver.multiFetch(e,t)},t.QuoteFeed.Subscriptions=function(){F.D0f(),this.subscriptions=[]},t.inheritsFrom(t.QuoteFeed.Subscriptions,t.QuoteFeed),t.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(e){var t,i,a,r,n;a=e.getSymbols({"breakout-equations":!0}),r=this,a=a.filter((function(t){var i;return(i=e.quoteDriver.getQuoteFeed(t))&&i.engine==r}));for(var s=0;s<this.subscriptions.length;s++)this.subscriptions[s].match=!1;for(var o=0;o<a.length;o++)for("we","e","k","month"!=(n=(i=a[o]).interval)&&"week"!=n||e.dontRoll||("d","a","y",n="day"),i.interval=n,i.period=1,i.match=!1,isNaN(i.interval)||("m","in","ut","e",i.period=i.interval,i.interval=i.timeUnit,i.interval||(i.interval="minute")),delete i.periodicity,delete i.timeUnit,delete i.setSpan,s=0;s<this.subscriptions.length;s++){if((t=this.subscriptions[s]).symbol==i.symbol&&t.period==i.period&&t.interval==i.interval){i.match=!0,t.match=!0;break}t.symbol!=i.symbol?("period"!=i.reason&&(i.reason="symbol"),t.reason="symbol"):(i.reason="period",t.reason="period")}this.subscriptions=this.subscriptions.filter((function(t){return t.match||(t.stx||(t.stx=e),r.unsubscribe(t)),F.D0f(),t.match})),a.forEach((function(t){t.match||(t.stx||(t.stx=e),t.reason||(t.reason="initialize"),t.symbol!==e.chart.symbol&&(t.series=!0),r.subscribe(t),r.subscriptions.push(t))}))},t.QuoteFeed.Subscriptions.prototype.fetch=function(e,t){var i;i=this,this.fetchFromSource(e,(function(a){a.error||i.checkSubscriptions(e.stx),t(a)}))},t.QuoteFeed.Subscriptions.prototype.subscribe=function(e){console.log("subscribe",e)},t.QuoteFeed.Subscriptions.prototype.unsubscribe=function(e){console.log("unsubscribe",e)},t.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(e,t){console.log("Please provide implementation of fetchFromSource")},t.QuoteFeed.prototype.requiresImmediateRefresh=function(e){return!1},t.ChartEngine.prototype.attachQuoteFeed=function(e,i,a){var r;i||(i={}),"function"!=typeof e.fetchInitialData&&"function"!=typeof e.fetchUpdateData&&"function"!=typeof e.fetchPaginationData||("f","unct","io","n","function"!=typeof e.fetchPaginationData&&"function"!=typeof e.fetchUpdateData&&(i.noLoadMore=!0),e.v2QuoteFeed=!0,["multiFetch","announceError","requiresImmediateRefresh"].forEach((function(i){e[i]||!1===e[i]||(e[i]=t.QuoteFeed.prototype[i]),F.V0f()})),"function"==typeof e.subscribe&&(e.checkSubscriptions=t.QuoteFeed.Subscriptions.prototype.checkSubscriptions,e.subscriptions=[])),i.maximumTicks||(i.maximumTicks=e.maxTicks?e.maxTicks:2e4),(!i.bufferSize||i.bufferSize<0)&&(i.bufferSize=0),i.bufferSize=Math.round(i.bufferSize),i.intervalTimer=null,this.quoteDriver&&(!a&&this.quoteDriver.hasUnfilteredQuoteFeed?this.detachQuoteFeed():(r=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:e,behavior:i,filter:a}),r&&this.quoteDriver.quoteFeeds.push(r),this.quoteDriver.updateChartLoop(null,i))),this.quoteDriver||(this.quoteDriver=new t.ChartEngine.Driver(this,e,i,a)),a||(this.quoteDriver.hasUnfilteredQuoteFeed=!0)},t.ChartEngine.prototype.detachQuoteFeed=function(e){var t;if(t=this.quoteDriver){for(var i=t.quoteFeeds.length-1;i>=0;i--)e&&t.quoteFeeds[i].engine!=e||(t.die(t.quoteFeeds[i]),t.quoteFeeds.splice(i,1));t.quoteFeeds.length?e==t.quoteFeed&&(t.quoteFeed=t.quoteFeeds[0].quoteFeed,t.behavior=t.quoteFeeds[0].behavior):t=this.quoteDriver=null}},t.ChartEngine.Driver=function(e,i,a,r){this.stx=e,a||(a={}),this.quoteFeeds=[{engine:i,behavior:a,filter:r}],this.id=t.uniqueID(!0),this.behavior=a,this.quoteFeed=i,this.loadingNewChart=!1,this.updatingChart=!1,r||(this.hasUnfilteredQuoteFeed=!0),F.D0f(),this.updateChartLoop()},t.ChartEngine.Driver.prototype.die=function(e){var t;F.V0f();for(var i=0;i<this.quoteFeeds.length;i++)e&&this.quoteFeeds[i]!=e||(t=this.quoteFeeds[i].behavior).intervalTimer&&(clearInterval(t.intervalTimer),t.intervalTimer=-1)},t.ChartEngine.Driver.prototype.getQuoteFeed=function(e){var t;F.D0f(),e.symbolObject||(e.symbolObject={symbol:e.symbol});for(var i=0;i<this.quoteFeeds.length;i++)if((t=this.quoteFeeds[i]).behavior.generator==e.symbolObject.generator&&(!t.filter||t.filter(e)))return t;return null},t.ChartEngine.Driver.prototype.multiFetch=function(e,i){var a,r,n;function s(e,t,i){return F.V0f(),function(a){var r;t.results.push({dataCallback:a,params:e}),t.counter++,t.counter>=t.finished&&(r=t.results,t.results=[],i(r))}}0===e.length&&i([]),a={counter:0,finished:e.length,results:[]},F.V0f();for(var o=0;o<e.length;o++)(r=e[o]).stx.isEquationChart(r.symbol)?t.fetchEquationChart(r,s(r,a,i)):(n=this.getQuoteFeed(r))&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.SERIES,n.engine,r,s(r,a,i))},t.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var e=0;e<this.quoteFeeds.length;e++)this.quoteFeeds[e].checkSubscriptions&&this.quoteFeeds[e].checkSubscriptions(this.stx)},t.ChartEngine.Driver.prototype.loadDependents=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M;if(F.V0f(),n=this,!r)return s=0,o=[],l=[],h=function(e){F.V0f(),i&&++s>=n.quoteFeeds.length&&i(null)},c=function(t){++s<o.length||(F.D0f(),l.length||h(),l.forEach((function(t){F.D0f(),n.loadDependents(e,h,a,t.behavior)})))},n.quoteFeeds.forEach((function(e){e.behavior.generator?l.push(e):o.push(e)})),void o.forEach((function(t){F.V0f(),n.loadDependents(e,c,a,t.behavior)}));for(u in{},d=e.stx,g=(p=e.chart).series,d.masterData,y=[],v={},b=a==t.QuoteFeed.UPDATE,x=a==t.QuoteFeed.PAGINATION,S=t.shallowClone(e),g){if(C=(f=g[u]).parameters,!b){if(!e.future&&!1===f.moreAvailable)continue;if(e.future&&!0===f.upToDate)continue}if(!f.loading&&(!1!==C.loadData&&(!b&&!x||f.endPoints&&Object.keys(f.endPoints).length)&&(!C.data||C.data.useDefaultQuoteFeed)&&(m=C.symbolObject).symbol&&m.generator==r.generator&&(S.symbolObject=m,S.symbol=m.symbol,D=this.getQuoteFeed(S),r==(D&&D.behavior)))){A=!0,b||(f.loading=!0);for(var P=0;P<y.length;P++)t.symbolEqual(y[P],m)&&(A=!1);A&&(y.push(m),v[m.symbol]=f.endPoints)}}w=[];for(var _=0;_<y.length;_++)m=y[_],(k=t.shallowClone(e.originalState)).symbol=m.symbol,k.symbolObject=m,k.update||k.future?(k.endDate||(k.endDate=e.endDate),k.startDate=v[m.symbol].end):(k.startDate||(k.startDate=e.startDate),k.endDate=x&&!e.future?v[m.symbol].begin:e.endDate,k.ticks=e.ticks),w.push(k);if(!w.length&&b)return(T={appending:e.appending||e.originalState.update}).appending&&(T.appendToDate=e.startDate),d.createDataSet(null,null,T),e.nodraw||d.draw(),void(i&&i(null));this.multiFetch(w,(M=b,function(s){var o,l,h,c,u,g,m,y,v,b;o=null;for(var x=0;x<s.length;x++)if(!(h=(l=s[x]).dataCallback.error)&&0!==h){c=l.params.symbolObject,g=(u=l.dataCallback).quotes,m=u.moreAvailable,y=u.upToDate,v=[],d.getSeries&&(v=d.getSeries({symbolObject:c})),b=!1;for(var S=0;S<v.length;S++)f=v[S],M||(e.future?(f.upToDate=!0===y||y||g.length<=(l.params.startDate?1:0),d.isHistoricalModeSet&&g.length<2&&(f.mostRecentForwardAttempt=new Date)):f.moreAvailable=!1!==m&&(m||g.length>(l.params.endDate?1:0)),f.loading=!1),b=f.parameters.fillGaps||b;g=n.cleanup(d,f,g,a,e,b),d.updateChartData(g,p,{secondarySeries:c.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),g&&g.length&&(!o||o>g[0].DT)&&(o=g[0].DT)}s.length&&(d.createDataSet(null,null,{appending:e.originalState.update||e.future,appendToDate:o}),e.nodraw||d.draw(),a==t.QuoteFeed.INITIAL&&n.resetRefreshInterval(r.refreshInterval,r)),i&&i(null)}))},t.ChartEngine.Driver.prototype.cleanup=function(e,i,a,r,n,s){var o,l,h,c,u;return e.doCleanupDates(a,e.layout.interval),!n.missingBarsCreated&&a&&a.length&&e.cleanupGaps&&!1!==s&&(h=n.chart,i?(h=i,l=i.parameters.symbol||i.id):l=h.defaultPlotField,r!=t.QuoteFeed.PAGINATION||n.loadMoreReplace?r==t.QuoteFeed.UPDATE&&h.endPoints.end&&h.endPoints.end<a[0].DT&&("shif","t",u=e.getFirstLastDataRecord(e.masterData,l,!0),i&&(u=u[l]),a.unshift(u),o="shift"):h.endPoints.begin&&h.endPoints.begin>a[a.length-1].DT&&(c=e.getFirstLastDataRecord(e.masterData,l,!1),i&&(c=c[l]),a.push(c),o="pop"),a=e.doCleanupGaps(a,n.chart,{cleanupGaps:s,noCleanupDates:!0}),o&&a[o]()),a},t.ChartEngine.Driver.prototype.updateChart=function(e){var i,a,r,n,s,o,l,h,c;if(!this.updatingChart&&!this.loadingNewChart)for(var u in i=Object.keys(this.stx.charts).length,F.L4o(1),a=F.S4o(0,"0"),r=this.stx,n=r.layout.interval,s=r.layout.timeUnit,r.charts)(o=r.charts[u]).symbol&&(l=this.makeParams(o.symbol,o.symbolObject,o),h=this.getQuoteFeed(l),o.masterData&&o.masterData.length&&(l.startDate=o.endPoints.end),l.update=!0,l.originalState=t.shallowClone(l),e&&e!=l.behavior?this.loadDependents(l,null,t.QuoteFeed.UPDATE,e):(this.updatingChart=!0,c=d(this,l,o.symbol,h),r.isEquationChart(l.symbol)?t.fetchEquationChart(l,c):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.UPDATE,h.engine,l,c)));function d(e,o,l,h){return o.behavior.prefetchAction&&o.behavior.prefetchAction("updateChart"),F.D0f(),function(c){var u,d;a++,(u=o.chart).masterData,l!=u.symbol||n!=r.layout.interval||s!=r.layout.timeUnit||r.isHistoricalMode()?e.updatingChart=!1:(h!==e.getQuoteFeed(o)||c.error?h&&h.engine.announceError(o.originalState,c):(d=c.quotes,d=e.cleanup(r,null,d,t.QuoteFeed.UPDATE,o),r.updateChartData(d,u,{noCreateDataSet:!0,noCleanupDates:!0}),u.attribution=c.attribution),a==i&&(e.updatingChart=!1),o.behavior.callback&&o.behavior.callback(o),e.loadDependents(o,null,t.QuoteFeed.UPDATE,o.behavior))}}},t.ChartEngine.Driver.prototype.updateChartLoop=function(e,t){var i,a;if(t||(t=this.behavior),-1!=t.intervalTimer){t.intervalTimer&&clearInterval(t.intervalTimer),i=function(e,t){return F.D0f(),function(){F.V0f(),t.noUpdate||e.updateChart(t)}};for(var r=0;r<this.quoteFeeds.length;r++)t!=(a=this.quoteFeeds[r].behavior)||a.noUpdate||(e||0===e||(e=a.refreshInterval),e&&(t.intervalTimer=setInterval(i(this,a),1e3*e)))}},t.ChartEngine.Driver.prototype.resetRefreshInterval=function(e,t){(t||this.behavior).refreshInterval=e,this.updateChartLoop(null,t)},t.ChartEngine.Driver.prototype.pause=function(e){F.V0f(),this.paused={symbol:e,interval:this.behavior.refreshInterval},this.resetRefreshInterval(0)},t.ChartEngine.Driver.prototype.resume=function(){var{interval:e,symbol:i}=this.paused;t.symbolEqual(i,this.stx.chart.symbol)||(this.resetRefreshInterval(e),F.D0f(),this.paused=null)},t.ChartEngine.Driver.prototype.loadAll=function(e,t){var i,a;F.D0f(),i=this,a=0,function r(){return function(n){F.V0f(),n?t(n):i.stx.currentlyImporting||!e.moreAvailable&&e.upToDate?t(null):++a>20?("moreAvailable and upToDate not implemented"," correctly in quotefeed",console.warn("moreAvailable and upToDate not implemented correctly in quotefeed"),t()):(e.loadingMore=!1,i.checkLoadMore(e,!0,!0,r(),!0))}}()()},t.ChartEngine.Driver.prototype.checkLoadMore=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T=F;if(s=this.stx,o=this,e.loadingMore||this.loadingNewChart)return e.initialScroll=e.scroll,void(r&&r(null));if(s.isHistoricalMode()||(s.isHistoricalModeSet=!1),l=this.makeParams(e.symbol,e.symbolObject,e),s.currentlyImporting)r&&r(null);else{h=l.behavior,u=e.dataSet,T.A4o(57);var M=T.S4o(7,12,20,0);T.L4o(17);var P,_,L=T.S4o(875,16,55);if(p="1000"*M*(h.forwardPaginationRetryInterval||L),g=!1,T.D0f(),f=!1,e.dataSet.length)for(var E in e.series)(m=e.series[E]).loading||!1!==m.parameters.loadData&&(d=!m.mostRecentForwardAttempt||m.mostRecentForwardAttempt.getTime()+p<Date.now(),!1!==m.moreAvailable&&O(m)&&(g=!0),d&&!m.upToDate&&H(m)&&(f=!0));if(d=!e.mostRecentForwardAttempt||e.mostRecentForwardAttempt.getTime()+p<Date.now(),y=(O(e)||i)&&!1!==e.moreAvailable,v=(H(e)||i)&&!e.upToDate&&d,b=y||g,x=(s.isHistoricalModeSet||!e.upToDate)&&!b&&(v||f),S=s.layout.interval,C=s.layout.timeUnit,D=!1,A=h.findHeadOfData||e.masterData&&e.masterData.length,!h.noLoadMore&&A&&(x||!s.maxDataSetSize||e.dataSet.length<s.maxDataSetSize)&&(b||x)){if(e.initialScroll=e.scroll,e.loadingMore=!0,(l=this.makeParams(e.symbol,e.symbolObject,e)).pagination=!0,l.future=x,e.masterData&&e.masterData.length?(x?l.startDate=e.endPoints.end:l.endDate=e.endPoints.begin,x&&!l.startDate?("D","T",(w=s.getFirstLastDataRecord(e.masterData,"DT",!0))&&(l.startDate=w.DT)):b&&!l.endDate&&(w=s.getFirstLastDataRecord(e.masterData,"DT"))&&(l.endDate=w.DT)):l.endDate=new Date,l.originalState=t.shallowClone(l),l.nodraw=n,!y&&g||!v&&f)return this.loadingMore=!0,this.loadDependents(l,(function(t){e.loadingMore=!1,r&&r(t)}),t.QuoteFeed.PAGINATION),void(r&&r(null));(e.maximumForwardPagination||s.fetchMaximumBars[s.layout.aggregationType])&&(l.fetchMaximumBars=!0,!s.maxMasterDataSize||h.maximumTicks<s.maxMasterDataSize?l.ticks=h.maximumTicks:l.ticks=s.maxMasterDataSize),P=this,_=l,h.prefetchAction&&h.prefetchAction("checkLoadMore"),T.V0f(),k=function(e){var i,a,s,o,l,u,d,p,g;if(T.D0f(),i=P.stx,a=_.chart,_.symbol==a.symbol&&S==i.layout.interval&&C==i.layout.timeUnit)if(_.loadMore||(_.chart.loadingMore=!1),c!==P.getQuoteFeed(_)||e.error)P.quoteFeed.announceError(_.originalState,e),_.chart.loadingMore=!1,r&&r(e.error);else{if(e.quotes||(e.quotes=[]),s=e.quotes,o=a.masterData,(s=P.cleanup(i,null,s,t.QuoteFeed.PAGINATION,_)).length&&a.masterData&&a.masterData.length)if(_.future)(l=s[0]).DT&&l.DT==a.masterData[a.masterData.length-1].DT&&o.pop();else{T.L4o(8);var f=T.S4o(15,14);(u=s[s.length-f]).DT&&+u.DT==+a.masterData[0].DT&&s.pop()}_.future?(a.maximumForwardPagination=null,e.upToDate?a.upToDate=!0:!1===e.upToDate||s.length>1?a.upToDate=!1:(!s.length||1===s.length&&+_.startDate==+e.quotes[0].DT)&&(_.fetchMaximumBars?a.upToDate=!0:a.maximumForwardPagination=!0),i.isHistoricalModeSet&&s.length<2&&(a.mostRecentForwardAttempt=new Date)):e.moreAvailable||!1!==e.moreAvailable&&s.length?a.moreAvailable=!0:a.moreAvailable=!1,P.tickMultiplier=s.length?2:2*P.tickMultiplier,d=s[0]?s[0].DT:_.startDate,p=s[0]?s[s.length-1].DT:_.endDate,(!a.endPoints.begin||a.endPoints.begin>d)&&(a.endPoints.begin=d),(!a.endPoints.end||a.endPoints.end<p)&&(a.endPoints.end=p),a.loadingMore=!1,_.loadMoreReplace?i.setMasterData(s,a,{noCleanupDates:!0}):_.future?i.updateChartData(s,a,{noCreateDataSet:!0,noCleanupDates:!0}):t.addMemberToMasterdata({stx:i,chart:a,data:s,fields:["*"],noCleanupDates:!0}),_.future&&(g={appending:!0,appendToDate:s[0]&&s[0].DT}),i.createDataSet(void 0,void 0,g),n||i.draw(),h.callback&&h.callback(_),P.loadDependents(_,r,t.QuoteFeed.PAGINATION)}},s.isEquationChart(l.symbol)?t.fetchEquationChart(l,k):(x&&(l.appending=!0),(c=o.getQuoteFeed(l))&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,c.engine,l,k)),D=!0}!D&&r&&r(null)}function H(t){return!o.paused&&(!t.endPoints.end||e.scroll-e.maxTicks+1<h.bufferSize||s.tickFromDate(t.endPoints.end,e,null,!0)-u.length+e.scroll-e.maxTicks+2<h.bufferSize)}function O(t){return!o.paused&&(!t.endPoints.begin||u.length-e.scroll<h.bufferSize||u.length-e.scroll-s.tickFromDate(t.endPoints.begin,e)<h.bufferSize)}},t.ChartEngine.Driver.prototype.extendHistoricalData=function({from:e},i=(()=>{})){var a,r,{stx:n}=this,{chart:s,layout:o}=n,{masterData:l,dataSet:h}=s;var c,u,{interval:d,timeUnit:p}=o;if(a=this.makeParams(s.symbol,s.symbolObject,s),r=this.getQuoteFeed(a),F.V0f(),s.loadingMore||this.loadingNewChart||n.currentlyImporting||!l.length||!r||n.maxDataSetSize&&h.length>n.maxDataSetSize)return i(null);s.loadingMore=!0,a.originalState=Object.assign({},a),a.startDate=e,a.endDate=l[0].DT,t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,r.engine,a,(c=this,u=a,function({quotes:a,moreAvailable:r,error:l}){if(u.symbol===s.symbol&&d===o.interval&&p===o.timeUnit){if(s.loadingMore=!1,l)return i(l);a=c.cleanup(n,null,a,t.QuoteFeed.PAGINATION,u),s.moreAvailable="boolean"==typeof r?r:!!a.length,s.endPoints.begin=e,t.addMemberToMasterdata({stx:n,chart:s,data:a,fields:["*"],noCleanupDates:!0}),n.createDataSet(),n.draw()}}))},t.ChartEngine.Driver.prototype.barsToFetch=function(e){var i,a;return"w","e","e","k","mo","nt","h",t.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),i=this.stx.layout.interval,a=e.stx.layout.periodicity,"month"!=i&&"week"!=i||this.stx.dontRoll||("w","e","e","k",a*="week"==i?7:30),e.stx.chart.maxTicks*a*this.tickMultiplier},t.ChartEngine.Driver.determineStartDate=function(e,t,i){return this.determineStartOrEndDate(e,t,i,!0)},t.ChartEngine.Driver.determineStartOrEndDate=function(e,t,i,a){return a?e.startDate||t.previous(i):e.future?t.next(i):new Date},t.ChartEngine.Driver.prototype.makeParams=function(e,i,a){var r,n,s,o,l,h,c,u;n=(r=this.stx).layout.interval,s=this.barsToFetch({stx:r}),"month"!=n&&"week"!=n||r.dontRoll||(n="day"),l=(o=this.getQuoteFeed({interval:n,symbol:e,symbolObject:i}))&&o.behavior,(h=t.shallowClone(l)||{}).behavior=l,c=!1,F.D0f(),u=[],a.market&&a.market.getSessionNames&&(u=a.market.getSessionNames()),r.extendedHours?r.extendedHours.filter?c=!0:(c=r.layout.extended,u=u.filter((function(e){return F.V0f(),e.enabled||r.layout.marketSessions[e.name]}))):u=u.filter((function(e){return e.enabled}));for(var d=0;d<u.length;d++)u[d]=u[d].name;return t.extend(h,{stx:r,symbol:e,symbolObject:i,chart:a,interval:n,extended:c,period:1,ticks:s,additionalSessions:u,quoteDriverID:this.id},!0),h.symbolObject||(h.symbolObject={symbol:e}),isNaN(h.interval)||(h.period=parseInt(h.interval,10),h.interval=r.layout.timeUnit,h.interval||(h.interval="minute")),h},t.ChartEngine.Driver.prototype.newChart=function(e,i){var a,r,n,s,o,l,h,c,u,d,p;F.V0f(),a=this.stx,r=e.symbol,n=a.layout.interval,s=a.layout.timeUnit,(o=e.chart).moreAvailable=null,o.upToDate=null,o.loadingMore=!1,o.attribution=null,l=this.makeParams(r,e.symbolObject,o),t.extend(l,e,!0),h=this.getQuoteFeed(l),c=l.behavior,(a.fetchMaximumBars[a.layout.aggregationType]||e.fetchMaximumBars)&&(!a.maxMasterDataSize||c.maximumTicks<a.maxMasterDataSize?l.ticks=c.maximumTicks:l.ticks=a.maxMasterDataSize,l.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,l.originalState=t.shallowClone(l),d=this,p=l,c.prefetchAction&&c.prefetchAction("newChart"),u=function(o){var l,u,g,f;if(F.D0f(),l=p.chart,u=o.quotes,g=!1,r==l.symbol&&n==a.layout.interval&&s==a.layout.timeUnit){for(var m in d.loadingNewChart=!1,h!==d.getQuoteFeed(p)||o.error?h.engine.announceError(p.originalState,o):(u=d.cleanup(a,null,u,t.QuoteFeed.INITIAL,p),a.setMasterData(u,l,{noCleanupDates:!0}),l.endPoints={},l.endPoints.begin=u[0]?u[0].DT:p.startDate,l.endPoints.end=u[0]?u[u.length-1].DT:p.endDate,u?(l.moreAvailable=!1!==o.moreAvailable,l.upToDate=o.upToDate):(l.moreAvailable=!1,l.upToDate=!0),l.attribution=o.attribution,e.initializeChart&&a.initializeChart(),a.createDataSet(),g=!0),l.series)l.series[m].endPoints={},l.series[m].moreAvailable=null,l.series[m].upToDate=null;(f=l.masterData)&&f.length&&(p.startDate=f[0].DT,p.endDate=f[f.length-1].DT),c.callback&&c.callback(p),d.loadDependents(p,(function(){g&&!p.nodraw&&d.stx.home(),i&&i(o.error),d.stx.dispatch("newChart",{stx:d.stx,symbol:d.stx.chart.symbol,symbolObject:d.stx.chart.symbolObject,moreAvailable:d.stx.chart.moreAvailable,upToDate:d.stx.chart.upToDate,quoteDriver:d}),d.resetRefreshInterval(c.refreshInterval,c)}),t.QuoteFeed.INITIAL)}else i&&i("orphaned")},this.stx.isEquationChart(l.symbol)?t.fetchEquationChart(l,u):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.INITIAL,h.engine,l,u)},t.QuoteFeed.INITIAL=1,t.QuoteFeed.UPDATE=2,F.L4o(8),t.QuoteFeed.PAGINATION=F.S4o("3",0),t.QuoteFeed.SERIES=4,t.ChartEngine.Driver.fetchData=function(e,i,a,r){if(!a.symbol)return r({quotes:[]});i.v2QuoteFeed?"function"!=typeof i.subscribe?t.ChartEngine.Driver.fetchDataInContext(e,i,a,r):t.ChartEngine.Driver.fetchDataInContext(e,i,a,function(e){F.D0f(),e.error||this.checkSubscriptions(a.stx),r(e)}.bind(i)):(a.stx.convertToDataZone(a.startDate),a.stx.convertToDataZone(a.endDate),i.fetch(a,r))},t.ChartEngine.Driver.fetchDataInContext=function(e,i,a,r){var n,s,o,l,h,c,u,d,p;if("f","unction","func","t","io","n",!(h=a.stx).chart.market.newIterator)return"quoteFeed"," feature requires first activating market feature.",void console.error("quoteFeed feature requires first activating market feature.");switch(e===t.QuoteFeed.SERIES&&(a.series=!0,e=t.QuoteFeed.INITIAL,a.endDate&&!a.startDate||a.future?e=t.QuoteFeed.PAGINATION:a.startDate&&!a.endDate&&(e=t.QuoteFeed.UPDATE)),c=Math.min(a.ticks,a.maximumTicks),i.maxTicks&&(c=Math.min(c,i.maxTicks)),u=a.symbolObject.masterSymbol||a.symbol,e){case t.QuoteFeed.UPDATE:if(h.isHistoricalModeSet)return void(h.quoteDriver.updatingChart=!1);a.startDate?d=a.startDate:(d=new Date,F.A4o(33),d.setHours(0,0,F.S4o(1422637344,"0"),0)),"function"==typeof i.fetchUpdateData&&i.fetchUpdateData(u,h.convertToDataZone(d),a,r);break;case t.QuoteFeed.INITIAL:n={begin:l=a.endDate||new Date,interval:a.interval,periodicity:"tick"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(n),o=t.ChartEngine.Driver.determineStartDate(a,s,c),a.endDate&&(l=a.endDate),"function"==typeof i.fetchInitialData&&i.fetchInitialData(u,o,h.convertToDataZone(l),a,r);break;case t.QuoteFeed.PAGINATION:if("ti","c","k",n={begin:a.endDate||a.startDate,interval:a.interval,periodicity:"tick"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(n),p=t.ChartEngine.Driver.determineStartOrEndDate(a,s,c,!a.future),o=a.startDate||p,l=a.endDate||p,a.startDate?a.stx.convertToDataZone(o):a.stx.convertToDataZone(l),"function"==typeof i.fetchPaginationData){if(h.maxMasterDataSize&&h.maxMasterDataSize<=h.masterData.length)return;i.fetchPaginationData(u,o,l,a,(function(e){l>=Date.now()&&(h.isHistoricalModeSet=!1),r&&r(e)}))}break;default:console.error("Illegal fetchData constant")}}},y=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.addSeries=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D;if(r="ad",r+="d",r+="S",r+="eries",n="add-",n+="series",s="a",s+="ddS",s+="eri",s+="es",o=this.runPrepend(s,arguments))return o;function A(e){return F.D0f(),function(t){var r,n;t.error||(r=t.quotes,n=i.fillGaps,m.cleanupGaps||(n=!1),r=m.doCleanupGaps(r,m.chart,{cleanupGaps:n}),m.updateChartData(r,m.chart,{secondarySeries:h,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),c.loading=!1,c.moreAvailable=t.moreAvailable,c.upToDate=t.upToDate,w(m,c)),null===i.action||p.length||m.dispatch(y?"symbolImport":"symbolChange",{stx:m,symbol:e.symbol,symbolObject:e.symbolObject,action:i.action,id:c.id,parameters:i}),F.V0f(),a&&a.call(m,t.error,c)}}function w(a,r){var n,s,o,l;if("L","i","n","es",n=i.renderer||"Lines",s=i.name||e,!i.yAxis||i.yAxis instanceof t.ChartEngine.YAxis||y||(i.yAxis.name=s),i.renderer||i.name||i.color||i.chartType){if(!(o=a.getSeriesRenderer(s))){if(l={name:s,overChart:!1!==i.overChart,useChartLegend:!0},i.chartType?o=t.Renderer.produce(i.chartType,t.extend({highlightable:i.highlightable,dependentOf:i.dependentOf,panel:i.panel,yAxis:i.yAxis,baseline:i.baseline},l)):(t.ensureDefaults(i,l),o=new t.Renderer[n]({params:i})),!o)return;a.setSeriesRenderer(o)}o.attachSeries(e,i),!1!==i.loadData&&o.ready(),a.layout.symbols=a.getSymbols({"include-parameters":!0,"exclude-studies":!0})}}return l=e||null,h=e,e||(e=t.uniqueID()),i&&!0===i.panel&&(i.panel=e),(c={parameters:i?t.clone(i):{},yValueCache:[],display:l,id:e,loading:!i||!1!==i.loadData}).parameters.yAxis=i&&i.yAxis,(i=c.parameters).symbol&&(h=i.symbol),i.isComparison&&(i.shareYAxis=!0),!i.yAxis||i.yAxis instanceof t.ChartEngine.YAxis||(i.yAxis=new t.ChartEngine.YAxis(i.yAxis)),t.ensureDefaults(i,{chartName:this.chart.name,symbolObject:{symbol:h},panel:this.chart.panel.name,fillGaps:!1,action:n}),"display"in i&&(c.display=i.display),u=this.charts[i.chartName],d=i.symbolObject,h=i.symbol=d.symbol,c.display||(c.display=h||i.field),c.endPoints={},i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),i.isComparison&&void 0===i.gapDisplayStyle&&(i.gapDisplayStyle="transparent"),p=this.getSeries({symbolObject:d,chart:u,includeMaster:!0}),g=i.panel,this.panels[g]?i.yAxis||i.shareYAxis||(i.yAxis=new t.ChartEngine.YAxis({name:e,position:"none"})):((f=i.yAxis||new t.ChartEngine.YAxis).name=e,this.createPanel(e,g,null,null,f),this.preferences.dragging&&this.preferences.dragging.series||(i.highlightable=!1)),u.series[e]=c,m=this,y=this.currentlyImporting,!i.isComparison||!u.forcePercentComparison||i.panel!=u.panel.name||i.yAxis&&i.yAxis!=u.yAxis||this.setChartScale("percent"),(v=u.masterData)||(v=u.masterData=this.masterData=[]),b=v.length,F.V0f(),i.data&&!i.data.useDefaultQuoteFeed?A({symbol:h,symbolObject:d,action:i.action})({quotes:i.data}):p.length?(c.endPoints=p[0].endPoints,c.loading=p[0].loading,w(this),a&&setTimeout((function(){a.call(m,null,c)}),0)):this.quoteDriver&&!1!==i.loadData?(S=(x=this.quoteDriver).makeParams(h,d,u),b&&(S.startDate=v[0].DT,S.endDate=this.isHistoricalMode()?v[v.length-1].DT:new Date),S.stx.isEquationChart(S.symbol)?t.fetchEquationChart(S,A(S)):(C=x.getQuoteFeed(S))&&t.ChartEngine.Driver.fetchData(4,C.engine,S,A(S))):(D="symbolImpo",D+="rt",w(this),null===i.action||p.length||m.dispatch(y?D:"symbolChange",{stx:m,symbol:h,symbolObject:d,action:i.action,id:c.id,parameters:i}),a&&a.call(this,null,c)),this.runAppend(r,arguments),c},t.ChartEngine.prototype.getSeries=function(e){var i,a,r,n,s;for(var o in a=(i=e.chart?e.chart:this.chart).series,(r=e.symbolObject)||(r={symbol:e.symbol}),n=[],a)s=a[o],t.symbolEqual(r,s.parameters.symbolObject)&&n.push(s);return e.includeMaster&&t.symbolEqual(r,i.symbolObject)&&n.push({}),n},t.ChartEngine.prototype.modifySeries=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v;if(F.V0f(),r="Drawing.updateSourc",r+="e",!this.runPrepend("modifySeries",arguments)&&i&&("string"==typeof e?(s=e,n=(o=i.chartName?this.charts[i.chartName]:this.chart).series[s]):(s=(n=e).id,o=this.charts[n.parameters.chartName]),n)){for(var b in t.extend(n.parameters,i,!0),this.getRendererFromSeries(s).modifyRenderer(i),l=n.parameters,o.seriesRenderers){u=(c=o.seriesRenderers[b]).params,d=c.seriesParams;for(var x=0;x<d.length;++x)if(p=d[x],f=(g=this.panels[p.panel])&&g.yAxis.name,p.id===n.id){!0===l.panel&&(l.panel=l.dependentOf||l.name),u.panel=l.panel,i.yAxis&&(i.yAxis instanceof t.ChartEngine.YAxis||(i.yAxis=new t.ChartEngine.YAxis(i.yAxis)),u.yAxis=i.yAxis),l.panel!=p.panel&&u.name==f?this.electNewPanelOwner(p.panel):(m=this.getYAxisByName(l.panel,u.name))&&l.yAxis&&m.name!==l.yAxis.name&&(m.name=this.electNewYAxisOwner(m)),l.field||(l.field=null),c.attachSeries(s,t.ensureDefaults(l,p)),l.field||(l.field=l.subField),delete l.subField,!l.isComparison||!o.forcePercentComparison||l.panel!=o.panel.name||n.parameters.yAxis&&l.yAxis.name!=o.yAxis.name||this.setChartScale("percent"),h=c;break}}if(t.getFn(r)(this,n.parameters.symbol||s,null,n.parameters.panel),this.runAppend("modifySeries",arguments),!0!==a){y=h.getDependents(this);for(var S=0;S<y.length;S++)this.modifySeries(y[S].params.name,{panel:h.params.panel,yAxis:n.parameters.yAxis},!0);(v=o.seriesRenderers[h.params.dependentOf])&&(v.params.yAxis==n.parameters.yAxis&&v.params.panel==h.params.panel||this.modifySeries(h.params.dependentOf,{panel:h.params.panel,yAxis:n.parameters.yAxis},!0))}return this.draw(),n}},t.ChartEngine.prototype.deleteSeries=function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,g,f;if(a="delet",a+="e",a+="Se",a+="ries",r="ob",r+="ject",n="de",n+="leteS",n+="eri",n+="es",!this.runPrepend(n,arguments)){if(s=(i=i||{}).action?i.action:"remove-series",typeof e===r)o=e.id,t=t||this.charts[e.parameters.chartName];else{o=e,l=1134349515,h=-1181233713,c=2;for(var m=1;F.j9R(m.toString(),m.toString().length,74084)!==l;m++)t=t&&this.chart,c+=2;F.j9R(c.toString(),c.toString().length,93241)!==h&&(t=t||this.chart),t=t||this.chart}(u=t.series[o])&&(d=u.parameters.loadData,p=u.parameters.symbolObject,delete t.series[o],this.layout.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0}),g=this.getSeries({symbolObject:p,includeMaster:!0}),!1===d||g.length||this.cleanMasterData(p,t),(f=this.panels[u.parameters.panel])&&this.checkForEmptyPanel(f),this.createDataSet(),g.length||this.dispatch(this.currentlyImporting?"symbolImport":"symbolChange",{stx:this,symbol:p.symbol,symbolObject:p,id:o,action:s}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),F.V0f(),this.runAppend(a,arguments))}},t.ChartEngine.prototype.removeSeries=function(e,t){var i,a,r,n,s,o,l;if(F.V0f(),i="obj",i+="ect",!this.runPrepend("removeSeries",arguments)){for(var h in r=!1,typeof e===i?(a=e.id,t=t||this.charts[e.parameters.chartName]):(a=e,t=t||this.chart),t.seriesRenderers){n=t.seriesRenderers[h],o=(s=this.panels[n.params.panel])&&s.yAxis.name;for(var c=n.seriesParams.length-1;c>=0;c--)n.seriesParams[c].id===a&&(n.removeSeries(a),n.seriesParams.length<1&&(this.removeSeriesRenderer(n),n.params.name==o?this.electNewPanelOwner(n.params.panel):this.checkForEmptyPanel(n.params.panel)||(l=this.getYAxisByName(s,n.params.name))&&(l.name=l.studies[0]||l.renderers[1])),r=!0)}r||this.deleteSeries(a,t),this.resetDynamicYAxis(),this.draw(),this.resizeChart(),this.runAppend("removeSeries",arguments)}},t.Comparison=t.Comparison||function(){},t.Comparison.initialPrice=100,t.Comparison.getInitialPrice=function(e){var i,a,r,n;if(e.initialComparisonPrice)return e.initialComparisonPrice;if(e.initialComparisonPrice=100,"number"==typeof(i=t.Comparison.initialPrice)&&(e.initialComparisonPrice=i),"string"==typeof i&&(e.series[i]||""===i)){-1193523182,1338258417,a=2;for(var s=1;-1193523182!==F.j9R(s.toString(),s.toString().length,48620);s++)r="Close",a+=2;1338258417!==F.V9R(a.toString(),a.toString().length,69050)&&(r=""),e.defaultPlotField&&(e.highLowBars||(r=e.defaultPlotField));for(var o=e.dataSet.length-e.scroll-1;o<e.dataSet.length;o++)if(n=e.dataSet[o]){if(n[i]&&n[i][r]){e.initialComparisonPrice=n[i][r];break}if(""===i&&n[r]){e.initialComparisonPrice=n[r];break}}}return e.initialComparisonPrice},t.Comparison.priceToPercent=function(e,i,a,r,n){var{baseline:s}=t.Comparison;s&&n in s&&(s=s[n]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),s=s||a,F.L4o(8);var o=F.S4o(119,19);return Math.round((a-s)/s*o*1e4)/1e4},t.Comparison.percentToPrice=function(e,i,a,r,n){var{baseline:s}=t.Comparison;return F.D0f(),s&&n in s&&(s=s[n]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),s=s||1,F.A4o(97),F.i4o(1,s,100,a)},t.Comparison.priceToRelative=function(e,i,a,r,n){F.V0f();var{baseline:s}=t.Comparison,o=t.Comparison.getInitialPrice(i);return s&&n in s&&(s=s[n]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),F.A4o(98),F.S4o(a,o,s||a)},t.Comparison.relativeToPrice=function(e,i,a,r,n){var{baseline:s}=t.Comparison,o=t.Comparison.getInitialPrice(i);return s&&n in s&&(s=s[n]),s&&"object"==typeof s&&(s=s[i.defaultPlotField||"Close"]),F.A4o(98),F.D0f(),F.i4o(a,s||1,o)},t.Comparison.createComparisonSegmentInner=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M=F;for(r in"iqP","rev","C","lose","L","o","w",a=[],i.series)(!(o=i.series[r].parameters).yAxis&&o.shareYAxis||o.yAxis===i.yAxis)&&a.push(o.symbol);for(var P in l=["Close","Open","High","Low","iqPrevClose"],h=e.chart.highLowBars,i.defaultPlotField&&!h&&l.unshift(i.defaultPlotField),c=l[0],u=e.layout.studies)if(d=u[P],n=e.panels[d.panel],s=d.getYAxis(e),n&&n.yAxis==s){for(r in d.outputMap)l.push(r);for(var _=0;_<=2;_++)"_","h","i","st",l.push(d.name+"_hist"+(_||""));d.referenceOutput&&l.push(d.referenceOutput+" "+d.name)}for(var L in e.plugins)if((p=e.plugins[L]).transformOutputs)for(r in p.transformOutputs)l.push(r);i.initialComparisonPrice=null,M.V0f(),i.dataSegment=[],g=null,M.L4o(0);var E=M.i4o(1,0);f=i.dataSet.length-i.scroll-E,e.startComparisonsAtFirstVisibleBar&&(f+=1),M.A4o(51);var H=M.i4o(2,18,19,1);m=i.maxTicks+H;for(var O=0;O<=m;O++){if(O==m&&(O=-1),M.A4o(0),(y=M.i4o(O,f))<i.dataSet.length&&y>=0){if(b=(v=i.dataSet[y])[c],!g){if(0===b||null===b){if(O<0)break;continue}g=t.clone(v)}for(v.transform||(v.transform={cache:{},DT:v.DT,Date:v.Date}),g&&g[c]||!b||(g=t.clone(v)),t.Comparison.baseline=g,x=0;x<l.length;x++)((S=v[r=l[x]])||0===S)&&(v.transform[r]=i.transformFunc(e,i,S));for(x=0;x<a.length;x++)if(r=a[x],C=i.series[r],-1==O&&C&&C.parameters.isComparison)delete v.transform[r];else{D=v[r];for(var I=0;D&&I<l.length;I++)((A=D[l[I]])||0===A)&&((w=g[r]&&g[r][l[0]])||0===w||(g[r]||(g[r]={}),g[r][l[I]]=w=A*g[c]/v[c]),0!==w&&(k=g[c]||1,M.A4o(99),T=M.S4o(w,k,A),v.transform[r]||(v.transform[r]={}),v.transform[r][l[I]]=i.transformFunc(e,i,T)))}i.dataSegment.push(v)}else y<0&&i.dataSegment.push(null);if(O<0)break}},t.Comparison.priceFormat=function(e,t,i){var a,r,n=F;if("u","ndefine","d",null==i||isNaN(i))return"";if(a=t.yAxis.priceTick,r=e.internationalizer)a>=5?(n.L4o(9),i=r.percent.format(n.S4o(100,i))):a>=.5?(n.A4o(9),i=r.percent1.format(n.i4o(100,i))):a>=.05?(n.A4o(9),i=r.percent2.format(n.S4o(100,i))):a>=.005?(n.A4o(9),i=r.percent3.format(n.S4o(100,i))):(n.L4o(9),i=r.percent4.format(n.S4o(100,i)));else if(a>=5){n.L4o(100);var s=n.i4o(18,4,5280,4,3931);i=i.toFixed(0)+(977.35==s||"%")}else if(a>=.5){n.A4o(8);var o=n.S4o(11,10);i=i.toFixed(o)+"%"}else if(a>=.05)i=i.toFixed(2)+"%";else if(a>=.005){n.L4o(101);var l=n.S4o(1,20,0,23);n.A4o(0);var h=n.i4o(5,7118);n.L4o(102);var c=n.i4o(1137,3,3411,3422);n.L4o(103);var u=n.i4o(12,2,668654,4,27990);n.L4o(28);var d=n.i4o(17,153,21);i=i.toFixed(l)+(239.56!==h?"%":c!==u&&d)}else{n.L4o(104);var p=n.S4o(6,6,1,15,19);n.L4o(12);var g=n.i4o(2,14,6762);n.A4o(12);var f=n.S4o(12,46212,50820);n.L4o(29);n.S4o(107,15,1838);i=i.toFixed(p)+(792.47===g?29.46!=f?388.64:"p":"%")}return 0===parseFloat(i)&&"-"==i.charAt(0)&&(i=i.substring(1)),i},t.ChartEngine.prototype.setComparison=function(e,i,a){var r,n;if("per","c","e","nt","strin","g",i||(i=this.chart),"string"==typeof i&&(i=this.charts[i]),(a||""===a)&&(t.Comparison.initialPrice=a),!0===e){if(i.isComparison)return;e="percent"}switch(this.resetDynamicYAxis(),n=(r=i.panel.yAxis).priceFormatter==t.Comparison.priceFormat,e){case"relative":this.setTransform(i,t.Comparison.priceToRelative,t.Comparison.relativeToPrice),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSegment",i.isComparison=!0;break;case"percent":this.setTransform(i,t.Comparison.priceToPercent,t.Comparison.percentToPrice),n||(r.originalPriceFormatter={func:r.priceFormatter},r.priceFormatter=t.Comparison.priceFormat),r.whichSet="dataSegment",i.isComparison=!0;break;default:"da","t","aSe","t",this.unsetTransform(i),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSet",i.isComparison=!1}},t.ChartEngine.prototype.setChartScale=function(e){var i,a,r;F.D0f(),i=this.chart,e||(e="linear"),(a={percent:!0,relative:!0})[e]?this.setComparison(e,i,t.Comparison.initialPrice):a[this.layout.chartScale]&&this.setComparison(!1,i),r=this.layout.chartScale!==e,this.layout.chartScale=e,i.canvas&&this.draw(),r&&this.changeOccurred("layout")}},v=e=>{var t,i;function a(e){var t,i;if("t","ext","-align","font-","size",e.style)for(var r in t=getComputedStyle(e),i=["alignment-baseline","dominant-baseline","fill","fill-opacity","font-family","font-size","font-variant","font-weight","text-align","text-anchor"],F.V0f(),i.forEach((function(i){!e.style[i]&&t[i]&&(e.style[i]=t[i])})),e.children)a(e.children[r])}function r(e,t,r){var n,s,o,l,h,c,u;if("s",F.V0f(),"v","g",t||(t={}),[],"ciq-no-share",n=document.querySelector("body"),t.hide&&t.hide instanceof Array){","," ",s=t.hide.join(", "),o=document.querySelectorAll(s);for(var d=0;d<o.length;d++)o[d].classList.add("ciq-no-share")}for(n.classList.add("sharing"),e.draw(),l=e.chart.container.getElementsByTagName("svg"),h=[],c=0;c<l.length;c++)u=l[c],h.push(u.innerHTML),a(u);i(e.chart.container,{allowTaint:!1,logging:!1,width:t.width||null,height:t.height||null,backgroundColor:t.background||null,useCORS:!0}).then((function(e){for("sh","ar","ing",r&&r(null,t.data?e.toDataURL("image/png"):e),c=0;c<l.length;c++)l[c].innerHTML=h[c];n.classList.remove("sharing")})).catch((function(e){for("shari",F.D0f(),"n","g",r&&r(e),c=0;c<l.length;c++)l[c].innerHTML=h[c];n.classList.remove("sharing")}))}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Share=t.Share||function(){},t.Share.fullChart2PNG=function(e,a,n){if(e&&e.chart){if("undefined"==typeof html2canvas)return function(e){var a,r;if("undefined"!=typeof html2canvas)return i=html2canvas,e();if(a="html2can",a+="vas.m",a+="in.js","undefined"!=typeof requirejs)try{return r="h",r+="tml2canva",r+="s.mi",r+="n.js",requirejs([r],(function(t){return i=t,F.V0f(),e()}))}catch(e){console.warn("Require loading has failed, attempting to load html2canvas manually.")}t.loadScript(function(){var e,i;if(t.Share.html2canvasLocation)return t.Share.html2canvasLocation;e=document.getElementsByTagName("script");for(var a=0;a<e.length;a++)if((i=e[a]).src&&i.src.indexOf("share.js")>-1)return i.src.replace(/standard\/share\.js/,"")+"thirdparty/";return"js/thirdparty/"}()+a,(function(){return i=html2canvas,e()}))}((function(){return F.D0f(),r(e,a,n)}));i=html2canvas,F.D0f(),r(e,a,n)}},t.Share.createImage=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g;r="i",r+="m",r+="g",n="image",n+="/",s="ob",s+="jec",s+="t",o=[].slice.call(arguments),a=o.pop(),null!==i&&typeof i==s||(i={widthPX:o[1],heightPX:o[2],imageType:o[3]}),l=i.widthPX,h=i.heightPX,c=i.imageType,u=e.chart.canvas.height,d=e.chart.canvas.width,e.chart.canvas.style.height&&(u=t.stripPX(e.chart.canvas.style.height),d=t.stripPX(e.chart.canvas.style.width)),l&&h?(u=h,d=l):h?d=e.chart.canvas.width*(u/e.chart.canvas.height):l&&(d=l,u=e.chart.canvas.height*(l/e.chart.canvas.width)),p=c?n+c:"image/png",(g=document.createElement(r)).onload=function(){F.D0f(),t.Share.fullChart2PNG(e,{image:this,width:d,height:u,hide:i.hide},(function(e,t){if(e)F.A4o(0),console.warn(F.i4o(e,"Error producing canvas snapshot: "));else try{a(t.toDataURL(p))}catch(e){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),a(g.src)}}))},g.src=e.chart.canvas.toDataURL(p)},t.Share.uploadImage=function(e,i,a,r){var n;a||(a={}),a.image=e,n=t.postAjax(i,JSON.stringify(a),(function(e,t){200==e?r(null,t):r(e,null)})),F.D0f(),n||r(0,null)},t.Share.shareChart=function(e,i,a){t.Share.createImage(e,{},(function(r){var n,s,o,l,h,c=F;if("/up","load/",n=t.uniqueID(),s="https://share.chartiq.com",c.A4o(28),o=c.S4o("/upload/",n,s),i&&(i.host&&(s=i.host),i.path)){c.L4o(105);c.S4o(5606,6,5622,12);c.L4o(22);var u=c.i4o(1,20,333,6017);c.L4o(106);var d=c.i4o(12,10,34727964,5787995,10);c.A4o(0);var p=c.i4o(8,420);c.L4o(95);var g=c.S4o(10,404,132,2);o=s+i.path+(u==="2625">>d||(p===g||"/"))+n}l=e.getStartDateOffset(),h={id:n,image:r,config:{layout:e.exportLayout(),drawings:e.exportDrawings(),xOffset:l,startDate:e.chart.dataSegment[l].Date,endDate:e.chart.dataSegment[e.chart.dataSegment.length-1].Date,id:n,symbol:e.chart.symbol}},t.Share.uploadImage(r,o,h,(function(e,i){null!==e?t.alert("error sharing chart: ",e):(c.A4o(0),a(c.i4o(i,s)))}))}))}},b=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.setRange=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O,I,z,N,V=F;function R(e,i,a,r,n,s){var o,l,h,c;if(o=0,V.A4o(8),l=V.S4o(e,i),t.ChartEngine.isDailyInterval(a))"w","ee","k",o="month"==a?l/t.MONTH/r:"week"==a?l/t.WEEK/r:l/t.DAY/r;else if(!isNaN(a)){V.L4o(33),h=-V.S4o(815442560,"1210918771"),32766418,c=2;for(var u=1;V.V9R(u.toString(),u.toString().length,14533)!==h;u++)"millisecond"!=n?(V.L4o(107),o=V.S4o(l,r,a)):o="second"!=n?l-t.SECOND-(r-a):(l+t.MINUTE)*(r%a),c+=2;32766418!==V.V9R(c.toString(),c.toString().length,57359)&&("m","illisecon","d","millisecond"!=n?(V.A4o(107),o=V.i4o(l,r,a)):o="second"!=n?l-t.SECOND-(r-a):(l+t.MINUTE)*(r%a)),"millisecond"==n?(V.L4o(108),o=V.i4o(a,l,r)):o="second"==n?l/t.SECOND/(r*a):l/t.MINUTE/(r*a)}return Math.round(o)}if(a="st",a+="r",a+="in",a+="g",t.isEmpty(e)&&(e={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},V.A4o(8),i=arguments[V.i4o("4",0)]),this.staticRange&&(e.goIntoPast=e.goIntoFuture=!0),e.chart||(e.chart=this.chart),V.D0f(),void 0===e.padding){r=-218353195,n=-712880566,s=2;for(var j=1;V.j9R(j.toString(),j.toString().length,28247)!==r;j++)e.padding=0,s+=2;V.j9R(s.toString(),s.toString().length,43333)!==n&&(e.padding=1)}function Y(e){return e&&0===p?(l.scroll=T,d.setCandleWidth(M),d.layout.interval=P,d.layout.periodicity=_,d.layout.timeUnit=L,void(i&&i(e))):++p>10?(console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),void W()):void W()}function W(t){var a,r,n,s,u,p,g,f,m,y,v,b,x,S,C,D,A;if("to","da","y",void 0===t&&(t=null),a=0,r=0,n=new Date,s=e.base,u=e.periodicity,p=d.layout,e.goIntoFuture&&(!l.masterData.length||h>l.masterData[l.masterData.length-1].DT)&&(g=l.masterData.length?l.masterData.pop():{DT:h},f=d.doCleanupGaps([g,{DT:c}],l,{cleanupGaps:"gap",noCleanupDates:!0}),d.setMasterData(l.masterData.concat(f),l,{noCleanupDates:!0}),d.createDataSet(null,null,{appending:!0})),y=(m=l.dataSet).length,m&&0!==y){if("day"===s&&u&&"day"===u.interval)a=y<(b=e.multiplier)?0:y-b,V.L4o(8),r=V.i4o(y,1);else if("today"===s&&m[y-1].DT.getDate()<n.getDate()){(x=new Date(m[y-1].DT.getTime())).getTime(),V.A4o(8),v=V.i4o("0",0);for(var w=y-1;w>=0;w--)if(m[w]&&m[w].DT.getDate()!=x.getDate()){x=new Date(+m[w+1].DT),V.L4o(0),v=V.S4o(1,w);break}a=v,V.A4o(8),r=V.S4o(y,1)}else"all"!=e.base&&(h.getTime()>=m[0].DT.getTime()||e.goIntoPast)?a=d.tickFromDate(h,l,null,!0):(V.A4o(36),a=V.S4o(1522579648,"0")),"all"!=e.base&&(c.getTime()<=m[y-1].DT.getTime()||e.goIntoFuture)?(r=d.tickFromDate(c,l))>y-1&&r--:(V.A4o(8),r=V.i4o(y,1));if(V.A4o(29),(S=V.i4o(r,a,1))<1)i&&i(t);else{for(var k in C=e.padding||0,r<y-1&&(C=0),V.D0f(),D=(l.width-C)/S,d.setCandleWidth(D,l),V.L4o(109),l.scroll=V.S4o(S,r,y,1),d.micropixels=1,d.panels)d.calculateYAxisMargins(d.panels[k].yAxis);if(e.dontSaveRangeToLayout?delete p.range:(delete e.chart,delete p.setSpan,p.range=e),d.draw(),d.changeOccurred("layout"),!o){-1747754363,1960105403,A=2;for(var T=1;-1747754363!==V.V9R(T.toString(),T.toString().length,47503);T++)d.dispatch("periodicity",{stx:d,differentData:E,prevPeriodicity:{interval:P,periodicity:_,timeUnit:L}}),A+=2;1960105403!==V.j9R(A.toString(),A.toString().length,49866)&&d.dispatch("",{stx:d,differentData:E,prevPeriodicity:{interval:P,periodicity:_,timeUnit:L}})}i&&i(t)}}else i&&i(t)}if(o=!1,l=e.chart,h="string"==typeof e.dtLeft?new Date(e.dtLeft):e.dtLeft,c=new Date,e.dtRight&&(c=typeof e.dtRight===a?new Date(e.dtRight):e.dtRight),h||(u=this.standardMarketIterator(c,null,l),h=u.previous(l.maxTicks),e.periodicity||(o=!0)),l.inflectionPoint=h,this.layout.range={dtLeft:h,dtRight:c},d=this,p=0,this.quoteDriver){if(o)g=this.layout.interval,m=this.layout.timeUnit,f=this.layout.periodicity;else if(e.periodicity)g=(y=t.cleanPeriodicity(e.periodicity.period,e.periodicity.interval,e.periodicity.timeUnit)).interval,m=y.timeUnit,f=y.period;else if(v=c.getTime()-h.getTime(),this.autoPickCandleWidth.turnOn){C=0,C=this.autoPickCandleWidth.candleWidth?this.autoPickCandleWidth.candleWidth:this.chart.barsHaveWidth?5:2,D=l.width/C,g=(A=this.dynamicRangePeriodicityMap)[0].interval,f=1;for(var U=0;U<A.length;U++){if((k=v/A[U].rangeInMS)<D){A[U-1]?(g=A[U-1].interval,m=A[U-1].timeUnit,V.L4o(9),f=Math.ceil(V.S4o(D,w))):(g=A[U].interval,m=A[U].timeUnit,f=1);break}w=k}}else{b=this.staticRangePeriodicityMap,x=null;for(var B=0;B<b.length;B++)if(v/(S=b[B]).rangeInMS<1.001){x=S;break}g=x.interval,f=x.periodicity,m=x.timeUnit}T=this.chart.scroll,M=this.layout.candleWidth,P=this.layout.interval,_=this.layout.periodicity,L=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=R(c.getTime(),h.getTime(),g,f,m,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,E=this.needDifferentData({period:f,interval:g,timeUnit:m}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>h||this.chart.endPoints.end<c)&&(E=!0),!this.chart.masterData||!this.chart.masterData.length||E||e.forceLoad?(this.layout.interval=g,this.layout.periodicity=f,this.layout.timeUnit=m,this.layout.timeUnit||(H="m",H+="inut",H+="e",O="t",O+="i",O+="c",O+="k",t.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:"second"==this.layout.interval?this.layout.timeUnit="second":this.layout.interval!=O&&(this.layout.timeUnit=H)),I={symbol:l.symbol,symbolObject:l.symbolObject,chart:l,nodraw:!0},"tick"==this.layout.interval&&(I.startDate=h,I.endDate=c),this.displayInitialized||(I.initializeChart=!0),"month"!=(z={symbol:l.symbol,symbolObject:l.symbolObject,interval:this.layout.interval}).interval&&"week"!=z.interval||this.dontRoll||(z.interval="day"),N=Math.max(this.quoteDriver.getQuoteFeed(z).behavior.bufferSize+50,200),u=this.standardMarketIterator(h,null,l),I.startDate=new Date(u.previous(N).getTime()),u=this.standardMarketIterator(c,null,l),I.endDate=new Date(u.next(N).getTime()),I.endDate<Date.now()&&(this.isHistoricalModeSet=!0),this.clearCurrentMarketData(this.chart),clearTimeout(this.streamParameters.timeout),this.quoteDriver.newChart(I,Y)):(this.layout.interval==g&&this.layout.periodicity==f&&this.layout.timeUnit==m&&this.chart.dataSegment&&this.chart.dataSegment[0]&&this.chart.dataSegment[0].DT==l.inflectionPoint||(this.layout.interval=g,this.layout.periodicity=f,this.layout.timeUnit=m,this.createDataSet()),Y())}else W()},F.V0f(),t.ChartEngine.prototype.setSpan=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A=F;function w(e){return e.setHours(0),e.setMinutes(0),A.V0f(),e.setSeconds(0),A.L4o(36),e.setMilliseconds(A.S4o(2142380704,"0")),e}if(a="m",a+="ont",a+="h",r="y",r+="t",r+="d",n="ye",n+="a",n+="r",s=arguments[0],o=arguments[1],l=arguments[2],h=arguments[3],"object"==typeof e?(s=e.period?e.period:e.multiplier?e.multiplier:1,o=e.interval?e.interval:e.base?e.base:e.span?e.span:e.period,l=e.padding,h=e.chart):(e={period:s,interval:o,padding:l,chart:h},i=arguments[5]),h||(h=this.chart),c=h.market,"all"==(o=o.toLowerCase()))return e.dontSaveRangeToLayout=!0,void this.displayAll(e,i);function k(e,t){return A.V0f(),y?(7,t?e.setHours(e.getHours()+7):(e.setHours(e.getHours()-7),c.isMarketDate(e)||e.setDate(e.getDate()-2)),e):e}d=o,p=1,"today"==o?d="day":o==n&&(d="month",p=12),g=t.shallowClone(e),m=(f={begin:c.marketZoneNow(),interval:d,period:p}).begin,y=t.Market.Symbology.isForexSymbol(h.symbol),o===r?((m=w(m)).setMonth(0),A.L4o(60),m.setDate(A.S4o("1",0))):o===a?(m=w(new Date)).setMonth(m.getMonth()-s):"year"===o?(m=w(new Date)).setFullYear(m.getFullYear()-s):"week"===o?(m=w(new Date)).setDate(m.getDate()-7*s):"day"===o&&1==s&&c.isMarketDay()?(v=m.getHours(),b=m.getMinutes(),x=m.getSeconds(),S=m.getMilliseconds(),(m=(u=c.newIterator(f)).previous()).setHours(v,b,x,S),m=c._convertFromMarketTZ(m)):"today"===o?(f.begin=k(m,!0),u=c.newIterator(f),(c.isOpen()||c.getPreviousOpen().getDate()==m.getDate())&&u.next(),k(m=u.previous()),g.goIntoFuture=!0,g.dtRight=new Date(+m),g.dtRight.setDate(m.getDate()+1),g.dtRight=c._convertFromMarketTZ(g.dtRight),y||(m.setHours(u.market.zopen_hour),m.setMinutes(u.market.zopen_minute),m.setSeconds(0)),m=c._convertFromMarketTZ(m)):(C="d",C+="a",C+="y","day"==o&&(f.begin=k(m,!0)),u=c.newIterator(f),1==s&&s++,A.L4o(8),m=u.previous(A.i4o(s,1)),o==C&&(m=c._convertFromMarketTZ(k(m)))),g.dtLeft=m,g.maintainPeriodicity&&(g.periodicity={},g.periodicity.interval=this.layout.interval,g.periodicity.period=this.layout.periodicity),h.spanLock=!1,g.dontSaveRangeToLayout=!0,D=this,this.setRange(g,(function(t){D.layout.setSpan=e,D.changeOccurred("layout"),"today"==o&&(h.spanLock=!0),i&&i(t)}))},t.ChartEngine.prototype.getSpanCandleWidth=function(e){var t,i,a,r,n,s=F;if("w","e","e","k","d","ay",e&&e.base&&e.multiplier){t=parseFloat(e.multiplier),i=e.base,a=new Date,r=new Date,"year"==i?r.setFullYear(r.getFullYear()-t):"month"==i?r.setMonth(r.getMonth()-t):"day"==i?r.setDate(r.getDate()-t):"week"==i?r.setDate(r.getDate()-7*t):"YTD"==i&&(r.setMonth(0),r.setDate(1)),s.A4o(56);var o=s.S4o(1,985,15);s.A4o(8);var l=s.S4o(420,360);s.A4o(8);var h=s.i4o(67,7);s.A4o(17);var c=s.S4o(384,12,34);return n=(a.getTime()-r.getTime())/o/l/h/c,s.L4o(110),n=s.S4o(5,1160108e3,n,"7"),this.chart.width/n}},t.ChartEngine.prototype.displayAll=function(e,i){var a,r,n,{chart:s,layout:o}=this;function l(){var r;s.masterData&&s.masterData.length&&((r=t.clone(e)).dtLeft=s.endPoints.begin,r.dtRight=s.endPoints.end,r.periodicity={},r.periodicity.interval=o.interval,r.periodicity.period=o.periodicity,r.periodicity.timeUnit=o.timeUnit,a.setRange(r,(function(t){for(var r in a.layout.setSpan={base:e.base,multiplier:e.multiplier},a.changeOccurred("layout"),a.panels)a.calculateYAxisMargins(a.panels[r].yAxis);a.draw(),i&&i(t)})))}function h(e){F.D0f(),e||a.quoteDriver.loadAll(s,l)}e&&e.chart&&(s=e.chart),a=this,this.quoteDriver?(r=e.maintainPeriodicity?{period:o.periodicity,interval:o.interval,timeUnit:o.timeUnit}:{period:1,interval:"month",timeUnit:null},r=e.periodicity?e.periodicity:r,r=t.cleanPeriodicity(r.period,r.interval,r.timeUnit),n=this.needDifferentData(r),this.layout.periodicity=r.period,this.layout.interval=r.interval,this.layout.timeUnit=r.timeUnit,e.forceLoad||n?(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({nodraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},h)):s.moreAvailable||!s.upToDate?h():(this.createDataSet(),l())):l()}},x=e=>{var t;F.D0f(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.importLayout=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O,I,z;if(e){for(var N in a=this,r=[],"object"!=typeof i&&(i={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),n=this.layout,s=t.shallowClone(n),o=i.managePeriodicity,l=i.cb,h=i.seriesCB,c=i.noDataLoad,u=i.preserveTicksAndCandleWidth,d=null,this.exportDrawings&&(d=this.exportDrawings(),this.abortDrawings()),this.currentlyImporting=!0,n.studies)p="Studie",p+="s.r",p+="emoveStudy",g=n.studies[N],t.getFn(p)(this,g);for(v in this.overlays={},f=t.shallowClone(this.panels),this.panels={},m=t.clone(e),n.periodicity=s.periodicity,n.interval=s.interval,n.timeUnit=s.timeUnit,n.setSpan=s.setSpan,n.range=s.range,u?n.candleWidth=s.candleWidth:n.candleWidth||(n.candleWidth=8),this.setCandleWidth(n.candleWidth),n.flipped&&this.flipChart(n.flipped),S=function(e,t){return F.V0f(),e.index<t.index?-1:1},y=m.panels)"index"in y[v]||(S=null),(b=y[v]).name=v,r.push(b);if(n.panels={},C=null,r.length>0){D=-1963762780,A=-2049669533,w=2;for(var V=1;F.V9R(V.toString(),V.toString().length,53837)!==D;V++)S&&r.sort(S),w+=2;F.V9R(w.toString(),w.toString().length,70097)!==A&&S&&r.sort(S);for(var R=0;R<r.length;++R)x=(b=r[R]).yAxis?new t.ChartEngine.YAxis(b.yAxis):null,this.stackPanel(b.display,b.name,b.percent,b.chartName,x),b.soloing&&(C=this.panels[b.name])}for(var j in t.isEmpty(y)&&(k="c",k+="har",k+="t",this.stackPanel("chart",k,1,"chart")),this.resizeCanvas(),f)if(T=f[j],M=this.panels[j]){for(var Y in this.container.removeChild(M.holder),T.handle&&this.container.removeChild(T.handle),{holder:!0,subholder:!0,display:!0,icons:!0})M[Y]=T[Y];this.configurePanelControls(M),T.chart.panel==T&&(T.chart.panel=M)}else this.privateDeletePanel(T);for(var W in this.chart.panel=this.panels.chart,X(this.panels),t.extend(n,t.clone(m)),P=t.clone(n.studies),delete n.studies,P)_=P[W],t.getFn("Studies.addStudy")(this,_.type,_.inputs,_.outputs,_.parameters,_.panel);if(this.extendedHours&&this.extendedHours.prepare(n.extended,n.marketSessions),void 0===n.chartType&&(n.chartType="line"),this.setMainSeriesRenderer(),C&&this.panelSolo(C),this.adjustPanelPositions(),X(this.panels),this.storePanels(),!c){if(m.symbols&&m.symbols.length)return L={chart:this.chart},!u&&o&&m.range&&Object.keys(m.range).length?L.range=m.range:!u&&o&&m.setSpan&&Object.keys(m.setSpan).length?L.span=m.setSpan:o&&m.interval?L.periodicity={interval:m.interval,period:m.periodicity,timeUnit:m.timeUnit}:L.periodicity={interval:s.interval,period:s.periodicity,timeUnit:s.timeUnit},E=m.symbols[0].symbolObject||m.symbols[0].symbol,void this.loadChart(E,L,(function(e){var i;if(F.V0f(),!e){for(var r,n=1;n<m.symbols.length&&a.addSeries;++n)(r=m.symbols[n]).parameters||(r.parameters={}),i=t.clone(r.parameters),this.panels[i.panel]?a.addSeries(r.id,i,B):console.warn('Warning: Series "'+r.id+'" could not be imported due to a missing corresponding panel "'+i.panel+'"');m.chartScale&&a.setChartScale(m.chartScale)}U(e),l&&l.apply(null,arguments)}));if(o){if(!u&&this.setRange){if((H=m.range)&&Object.keys(H).length&&this.chart.symbol)return void this.setRange(H,(function(){U(),l&&l()}));if(m.setSpan&&Object.keys(m.setSpan).length&&this.chart.symbol)return void this.setSpan(m.setSpan,(function(){U(),l&&l()}))}return O=m.interval,I=m.periodicity,z=m.timeUnit,isNaN(I)&&(I=1),O||(O="day"),void this.setPeriodicity({period:I,interval:O,timeUnit:z},(function(){F.V0f(),U(),l&&l()}))}}o&&(n.periodicity=m.periodicity,n.interval=m.interval,n.timeUnit=m.timeUnit,n.setSpan=m.setSpan),this.createDataSet(),u||this.home(),U(),l&&l()}else i.cb&&i.cb();function U(e){var t,i,r;function n(){a.createDataSet(),X(a.panels),a.calculateYAxisPositions(),a.draw()}if("l","ayout",d&&a.importDrawings(d),a.currentlyImporting=!1,!e){for(var s in r=[],a.chart.series){if(!a.removeSeries)break;"study"==(i=a.chart.series[s]).parameters.bucket&&(t=!0,a.removeSeries(i),r.push(i))}for(var o=0;o<r.length;o++)i=r[o],a.addSeries(i.id,i.parameters,n);t||a.draw(),a.updateListeners("layout"),a.changeOccurred("layout")}}function B(){F.D0f(),a.calculateYAxisPositions(),X(a.panels),h&&h()}function X(e){for(var t,i=0;i<r.length;i++)n(t=r[i],"yaxisLHS"),n(t,"yaxisRHS");function n(t,i){var a,r,n,o;if(t[i]&&t[i].length&&(a=e[t.name])){r=a[i],n=new Array(r.length);for(var l=0;l<r.length;l++)(o=t[i].indexOf(r[l].name))>-1?n[o]=r[l]:n.push(r[l]);F.D0f(),n.length&&(a[i]=n.filter(s))}}function s(e){return!!e}a.chart.yAxis=a.chart.panel.yAxis,F.D0f()}},t.ChartEngine.prototype.exportLayout=function(e){var i,a,r,n,s,o;for(var l in i={},this.layout)"d","r","aw","ing","studies"!=l&&"panels"!=l&&"drawing"!=l?i[l]=t.clone(this.layout[l]):"studies"==l?i.studies={}:"panels"==l&&(i.panels={});for(var h in a=0,this.panels)!1!==(r=this.panels[h]).exportable&&((n=i.panels[h]={}).percent=r.percent,n.display=r.display,n.chartName=r.chart.name,n.soloing=r.soloing,n.index=a++,n.yAxis={name:r.yAxis.name,position:r.yAxis.position},r.yaxisLHS&&(n.yaxisLHS=u(r.yaxisLHS)),r.yaxisRHS&&(n.yaxisRHS=u(r.yaxisRHS)));for(var c in this.layout.studies)s=i.studies[c]={},o=this.layout.studies[c],s.type=o.type,s.inputs=t.clone(o.inputs),s.outputs=t.clone(o.outputs),s.panel=o.panel,s.parameters=t.clone(o.parameters);function u(e){var t;t=[],F.D0f();for(var i=0;i<e.length;i++)t.push(e[i].name);return t}return e?(i.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0,"exclude-generated":!0}),i.symbols.length&&i.symbols[0].symbolObject&&i.symbols[0].symbolObject.static&&delete i.symbols[0].symbolObject.static):delete i.symbols,i},t.ChartEngine.prototype.importPreferences=function(e){F.D0f(),t.extend(this.preferences,e),e.timeZone&&this.setTimeZone(this.dataZone,e.timeZone),e.language&&t.I18N&&t.I18N.localize(this,e.language),this.changeOccurred("preferences")},t.ChartEngine.prototype.exportPreferences=function(){return this.preferences}},S=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.ChartEngine&&(t.ChartEngine.prototype.rightClickOverlay=function(e,t){var i;this.runPrepend("rightClickOverlay",arguments)||((i=this.overlays[e]).editFunction?i.editFunction(t):this.removeOverlay(e),this.runAppend("rightClickOverlay",arguments))},t.ChartEngine.prototype.addOverlay=function(e){this.runPrepend("addOverlay",arguments)||(this.overlays[e.name]=e,this.runAppend("addOverlay",arguments))},t.ChartEngine.prototype.removeOverlay=function(e){var i,a,r,n,s;if(!this.runPrepend("removeOverlay",arguments)){if(i=this.overlays[e]){for(var o in this.overlays){a="F",a+="i",a+="e",a+="ld",r=this.overlays[o],n=[a],t.Studies&&(n=t.Studies.getFieldInputs(r));for(var l=0;l<n.length;l++)i.outputMap[r.inputs[n[l]]]&&this.removeOverlay(r.name)}this.cleanupRemovedStudy(i),this.panels[i.panel],delete this.overlays[e],this.checkForEmptyPanel(i.panel)}this.currentlyImporting||(s="layo",s+="ut",this.displaySticky(),this.createDataSet(),this.changeOccurred(s)),this.resetDynamicYAxis(),this.runAppend("removeOverlay",arguments)}},t.ChartEngine.prototype.cleanupRemovedStudy=function(e){if(e){for(var i in e.study.removeFN&&e.study.removeFN(this,e),this.plugins)i.indexOf("{"+e.id+"}")>-1&&delete this.plugins[i];this.layout.studies&&delete this.layout.studies[e.name],this.chart.state.studies.sorted=null,delete this.overlays[e.name];var{sd:a}=this.repositioningAnchorSelector||{};a&&a===e&&(this.repositioningAnchorSelector=null),F.D0f(),t.Studies&&t.Studies.removeStudySymbols(e,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}}),t.Studies=t.Studies||function(){},t.Studies.DEFAULT_INPUTS={Period:14},t.Studies.DEFAULT_OUTPUTS={Result:"auto"},t.Studies.sortForProcessing=e=>{var t,i;return t=[],(i=e.layout.studies)&&function t(i,a){F.D0f(),i.forEach((i=>{var r;-1==a.indexOf(i)&&((r=i.getDependents(e)).length&&t(r,a),a.unshift(i))}))}(Object.values(i),t),t},t.Studies.StudyDescriptor=function(e,i,a,r,n,s){var o;this.name=e,this.type=i,this.panel=a,this.inputs=r,this.outputs=n,this.parameters=s,this.outputMap={},this.min=null,this.max=null,this.startFrom=0,this.subField="Close",(o=t.Studies.studyLibrary[i])||("c","h","ar","t",o={},("chart"==a||!a&&s&&"chart"==s.chartName)&&(this.overlay=!0)),void 0===o.inputs&&(o.inputs=t.clone(t.Studies.DEFAULT_INPUTS)),void 0===o.outputs&&(o.outputs=t.clone(t.Studies.DEFAULT_OUTPUTS)),this.study=o,this.libraryEntry=o},t.Studies.StudyDescriptor.prototype.getYAxis=function(e){var t,i,a,r,n,s=F;if(t=this.yAxis,this.parameters&&(i=this.parameters.yaxisDisplayValue),!t){s.L4o(60),a=s.i4o("1273570566",0),748321001,r=2;for(var o=1;s.V9R(o.toString(),o.toString().length,40566)!==a;o++)n=e.panels[this.panel],r+=2;748321001!==s.j9R(r.toString(),r.toString().length,16683)&&(n=e.panels[this.panel]),n&&(t=e.getYAxisByName(n,i)||e.getYAxisByName(n,this.name)||n.yAxis)}return t||(t=e.getYAxisByName(e.chart.panel,i)||e.chart.panel.yAxis),s.D0f(),t},t.Studies.StudyDescriptor.prototype.getContext=function(e){return F.V0f(),e.chart.context},t.Studies.StudyDescriptor.prototype.getDependents=function(e,i){var a,r,n;for(var s in a=[],e.layout.studies)if((r=e.layout.studies[s])!=this){n=t.Studies.getFieldInputs(r);for(var o=0;o<n.length;o++)if(r.inputs[n[o]].includes(this.name)){if(i&&r.parameters&&r.parameters.panelName)continue;a.push(r),a=a.concat(r.getDependents(e,i));break}}return a},t.Studies.StudyDescriptor.prototype.undraggable=function(e){var t,i,a=F;if(a.D0f(),t=this.study.attributes){1141092571,1396638395,i=2;for(var r=1;1141092571!==a.j9R(r.toString(),r.toString().length,82056);r++){if(t.panelName&&t.panelName.hidden)return!0;if(t.yaxisDisplayValue&&t.yaxisDisplayValue.hidden)return!0;a.A4o(2),i+=a.S4o(1,"2")}if(1396638395!==a.j9R(i.toString(),i.toString().length,89028)){if(t.panelName||t.panelName.hidden)return!1;if(t.yaxisDisplayValue||t.yaxisDisplayValue.hidden)return!1}}return!1},t.Studies.StudyDescriptor.prototype.appendFutureTicks=function(e,t){var i,a,r,n;if(F.D0f(),(i=e.chart.scrubbed).length){for(a=e.standardMarketIterator(i[i.length-1].DT),r=t.length-1;r>=0;r--){for(var s in n=t[r])if(n[s]||0===n[s]){r=-1;break}if(-1==r)break;t.pop()}for(r=0;r<t.length;r++)(n=t[r]).DT||(n.DT=a.next()),n.displayDate||e.setDisplayDate(n),n.futureTick=!0,i.push(n)}},t.Studies.generateID=function(e,i,a,r,n){var s,o,l,h,c,u=F;if(s=t.Studies.studyLibrary[i],u.L4o(28),o=u.i4o(n||i,"",""),s&&s.customRemoval)return o;if(!t.isEmpty(a)){for(var d in l=!0,a)"f","i","e","ld",["id","display","Shading","Anchor Selector"].includes(d)||"field"!=(h=a[d])&&(h=h.toString(),void 0!==t.Studies.prettify[h]&&(h=t.Studies.prettify[h]),l?(" ","(",l=!1,o+=" ("):h&&(o+=","),o+=h);l||(o+=")")}if(r&&0===r.indexOf(o))return r;if(e.layout.studies&&e.layout.studies[o])for(var p=2;p<50;p++)if(u.L4o(28),c=u.S4o("-",p,o),!e.layout.studies[c]){o=c;break}return o},t.Studies.DialogHelper=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k;function T(e){var t,a,r,n,s=F;t={},a=e.defaults,r=2;for(var o=1;1852870318!==s.V9R(o.toString(),o.toString().length,62286);o++)n={name:e.name,heading:i.translateIf(e.label),defaultValue:a[8],value:e.value,options:t,type:""},s.L4o(2),r+=s.S4o(1,"2");473768311!==s.j9R(r.toString(),r.toString().length,31625)&&(n={name:e.name,heading:i.translateIf(e.label),defaultValue:a[1],value:e.value,options:t,type:""}),n={name:e.name,heading:i.translateIf(e.label),defaultValue:a[0],value:e.value,options:t,type:"select"};for(var l=0;l<a.length;l++)t[a[l]]=i.translateIf(a[l]);return void 0!==e.color&&(n.defaultColor=i.defaultColor,n.color=e.color),n}function M(e){return F.V0f(),{name:e.name,heading:i.translateIf(e.label),defaultValue:e.defaults,value:e.value,type:"checkbox"}}for(var P in"u","ndef","i","ned","u","ndefin","e","d",i=this.stx=e.stx,a=this.sd=e.sd,this.name=a?a.type:e.name,this.signal=1,this.inputs=[],this.outputs=[],this.parameters=[],void 0===(r=this.libraryEntry=a?a.study:t.Studies.studyLibrary[e.name]).inputs&&(r.inputs=t.clone(t.Studies.DEFAULT_INPUTS)),void 0===r.outputs&&(r.outputs=t.clone(t.Studies.DEFAULT_OUTPUTS)),s=(n=a&&i.panels[a.panel]?i.panels[a.panel]:i.chart.panel).chart,this.title=i.translateIf(r.name),this.attributes=t.clone(r.attributes),this.attributes||(this.attributes={}),this.attributes)for(var _ in o=this.attributes[P])"function"==typeof o[_]&&(o[_]=o[_].call(a));for(var L in l=[],F.V0f(),h=i.layout.studies,c=[],a&&(c=Array.prototype.concat(a,a.getDependents(i))),h)if(!(c.indexOf(h[L])>-1))for(var E in h[L].outputMap)l.push(E);function H(e){var t;if("alias"==A)for(var a in t=1,i.panels){if(a==e)return a,"Panel "+t.toString();t++}return e}function O(e,t){var i;(i=this).attributes[e]||(i.attributes[e]={}),t&&(i.attributes[e].hidden=!0)}for(var I in r.inputs)if(u={},this.inputs.push(u),u.name=I,u.heading=i.translateIf(I),d=r.inputs[I],a&&a.inputs&&void 0!==a.inputs[I]&&null!==a.inputs[I]?u.value=a.inputs[I]:u.value=r.inputs[I],u.defaultInput=r.inputs[I],this.attributes[I]||(this.attributes[I]=t.Studies.inputAttributeDefaultGenerator(u.defaultInput)),d.constructor==Number)u.type="number";else if(d.constructor==String)if(p=t.Studies.movingAverageHelper(i,u.defaultInput))u.type="select",u.defaultInput=p,(g=t.Studies.movingAverageHelper(i,u.value))||(g=u.value),u.value=g,u.options=t.Studies.movingAverageHelper(i,"options");else if("field"==d){"sele","c","t",u.type="select",u.options={},f=["Open","High","Low","Close","Adj_Close","hl/2","hlc/3","hlcc/4","ohlc/4",s.defaultPlotField].concat(l);for(var z=0;z<f.length;z++)m=f[z],u.options[m]=i.translateIf(m);"field"==u.value&&(u.value="Close"),"field"==u.defaultInput&&("C","l","ose",u.defaultInput="Close")}else"tim","e","hh:mm",":ss","te","x","t",u.type="text","yyyy-mm-dd"==this.attributes[I].placeholder?u.type="date":"hh:mm:ss"==this.attributes[I].placeholder&&(u.type="time");else if(d.constructor==Boolean)"che","ckb","ox",u.type="checkbox",!0!==u.value&&"true"!=u.value&&"on"!=u.value||(u.value=!0);else if(d.constructor==Array){u.type="select",u.options={};for(var N=0;N<d.length;N++)u.options[d[N]]=i.translateIf(d[N]);u.value.constructor==Array&&(u.value=u.value[0]),this.attributes[I].defaultSelected?u.defaultInput=this.attributes[I].defaultSelected:(F.A4o(60),u.defaultInput=d[F.i4o("0",0)])}this.dateTimeInputs=[];for(var V=0;V<this.inputs.length;V++)if("date"==(y=this.inputs[V]).type){v=y.name.substring(0,y.name.indexOf(" Date"));for(var R=0;R<this.inputs.length;R++)if("t","i","m","e","time"==(b=this.inputs[R]).type&&b.name==v+" Time"){this.dateTimeInputs.push(v);break}}for(I in this.adjustInputTimesForDisplayZone(),r.outputs)"a","u","t","o",(x={name:I,heading:i.translateIf(I)}).color=x.defaultOutput=r.outputs[I],a&&a.outputs&&a.outputs[I]&&(x.color=a.outputs[I]),"auto"==x.color&&(x.color=i.defaultColor),this.outputs.push(x);S=a?a.parameters:null,r.parameters&&(C=r.parameters.init)&&(void 0!==C.studyOverZonesEnabled&&(D={name:"studyOverZones",heading:i.translateIf("Show Zones"),defaultValue:C.studyOverZonesEnabled,value:C.studyOverZonesEnabled},S&&(S.studyOverZonesEnabled||!1===S.studyOverZonesEnabled)&&(D.value=S.studyOverZonesEnabled),D.type="checkbox",this.parameters.push(D)),void 0!==C.studyOverBoughtValue&&("t","e","x","t","OverBou","ght",D={name:"studyOverBought",heading:i.translateIf("OverBought"),defaultValue:C.studyOverBoughtValue,value:C.studyOverBoughtValue,defaultColor:C.studyOverBoughtColor,color:C.studyOverBoughtColor},S&&S.studyOverBoughtValue&&(D.value=S.studyOverBoughtValue),S&&S.studyOverBoughtColor&&(D.color=S.studyOverBoughtColor),"auto"==D.color&&(D.color=i.defaultColor),D.type="text",this.parameters.push(D)),void 0!==C.studyOverSoldValue&&("t","e","x","t","O","ver","Sold",D={name:"studyOverSold",heading:i.translateIf("OverSold"),defaultValue:C.studyOverSoldValue,value:C.studyOverSoldValue,defaultColor:C.studyOverSoldColor,color:C.studyOverSoldColor},S&&S.studyOverSoldValue&&(D.value=S.studyOverSoldValue),S&&S.studyOverSoldColor&&(D.color=S.studyOverSoldColor),"auto"==D.color&&(D.color=i.defaultColor),D.type="text",this.parameters.push(D)),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})),A=this.panelSelect=e.panelSelect,w=this.axisSelect=e.axisSelect,e.addWhenDone&&(w=A=!1),(w||A)&&(a||(a=t.Studies.addStudy(i,e.name,null,null,{calculateOnly:!0}),t.Studies.removeStudy(i,a)),A&&("P","a","nel",this.parameters.push(T({label:"Panel",name:"panelName",defaults:function(){var e;for(var t in(e=[]).push("Auto"),i.panels)t==a.panel&&S&&S.panelName||e.push(H(t));return i.checkForEmptyPanel(a.panel,!0,a)||e.push("New panel"),e}(),value:S&&S.panelName?H(S.panelName):"Auto"}),M({label:"Show as Underlay",name:"underlay",defaults:!1,value:a.underlay||a.parameters&&a.parameters.underlayEnabled}))),k=i.getYAxisByName(n,a.name),w&&("a","uto","s","hared","Y","-","Axis",this.parameters.push(T({label:"Y-Axis",name:"yaxisDisplay",defaults:function(){var e,t;e=n.yaxisLHS.concat(n.yaxisRHS),F.V0f(),(t=[]).push("default","right","left","none","shared");for(var i=0;i<e.length;i++)e[i]!=k&&t.push(e[i].name);return t}(),value:S&&S.yaxisDisplayValue||k&&k.position||(k?"default":"shared"),color:k&&k.textStyle?k.textStyle:"auto"}),M({label:"Invert Y-Axis",name:"flipped",defaults:!1,value:S&&void 0!==S.flippedEnabled?S.flippedEnabled:!!k&&k.flipped}))),O.call(this,"flippedEnabled",!k&&a.panel!=a.name),O.call(this,"underlayEnabled",r.underlay),O.call(this,"panelName",null===r.seriesFN),O.call(this,"yaxisDisplayValue",null===r.seriesFN||r.yAxis&&r.yAxis.noDraw))},t.Studies.DialogHelper.prototype.updateStudy=function(e){var i,a,r,n;for(var s in i={},a=this.sd,(r=this.libraryEntry)||(r={}),a||(a=r),i.inputs=t.clone(a.inputs),i.outputs=t.clone(a.outputs),i.parameters=t.clone(a.parameters),this.adjustInputTimesForDisplayZone(e),e.parameters&&e.parameters.panelName&&(e.parameters.panelName=function(e){var t,i;if("alias"==this.panelSelect&&(t=(i=e.match(/.* (\d)/))&&i[1]))for(var a in this.stx.panels)if(!--t)return a;return e}.call(this,e.parameters.panelName)),F.V0f(),t.extend(i,e),i.parameters||(i.parameters={}),a=i.inputs&&i.inputs.id?t.Studies.replaceStudy(this.stx,i.inputs.id,this.name,i.inputs,i.outputs,i.parameters,null,a.study):t.Studies.addStudy(this.stx,this.name,i.inputs,i.outputs,i.parameters,null,a.study),n=new t.Studies.DialogHelper({stx:this.stx,sd:a,axisSelect:this.axisSelect,panelSelect:this.panelSelect}))"signa","l","signal"!=s&&(this[s]=n[s]);this.signal*=-1},t.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(e){var i,a,r,n,s,o,l,h,c=F;if(this.stx.displayZone)for(var u=0;u<this.dateTimeInputs.length;u++){for(i=this.dateTimeInputs[u],o="",e&&e.inputs&&(" ","Date",c.L4o(0),r=e.inputs[c.i4o(" Date",i)],c.A4o(0),r&&(o=r),(n=e.inputs[c.S4o(" Time",i)])&&(o+=n)),a=0;a<this.inputs.length;a++)" T","i","me",s=this.inputs[a],r||""===r||s.name!=i+" Date"?n||""===n||s.name!=i+" Time"||(o+=s.value):o=s.value+o;if((o=o.replace(/\D/g,"")).length<12)return;if(l=t.strToDateTime(o),!isNaN(l.valueOf()))if(e)" T","i","m","e",e.inputs||(e.inputs={}),h=t.convertTimeZone(l,this.stx.displayZone),c.L4o(0),e.inputs[c.S4o(" Date",i)]=t.yyyymmdd(h),c.L4o(0),e.inputs[c.i4o(" Time",i)]=t.hhmmss(h);else for(h=t.convertTimeZone(l,null,this.stx.displayZone),a=0;a<this.inputs.length;a++)" ","Da","t","e",(s=this.inputs[a]).name==i+" Date"&&(s.value=t.yyyymmdd(h)),s.name==i+" Time"&&(s.value=t.hhmmss(h))}},t.Studies.prepareStudy=function(e,i,a){var r=F;if(void 0===i.calculateFN&&(i.useRawValues=!0),t.isEmpty(a.outputMap))for(var n in a.outputs)if(i.useRawValues)a.outputMap[n]=n;else{r.L4o(111);var s=r.S4o(4,2787,6,2,5);r.A4o(17);var o=r.i4o(77885,12,7081);r.A4o(17);var l=r.i4o(1154,15,81);a.outputMap[n+(s>=o?l:" ")+a.name]=n}},t.Studies.rejiggerDerivedStudies=function(e,i,a){var r,n,s,o,l,h;r=i.name,i.panel,n=i.getDependents(e);for(var c=0;c<n.length;c++)if(s=n[c],l=(o=t.clone(s.inputs)).id){!1,h=t.Studies.getFieldInputs(s);for(var u=0;u<h.length;u++)o[h[u]]=o[h[u]].replace(r,a);delete t.Studies.replaceStudy(e,l,s.type,o,s.outputs,t.extend(s.parameters,{rejiggering:!0}),null,s.study).parameters.rejiggering}},t.Studies.removeStudySymbols=function(e,t){if(e.series)for(var i in e.series)t.deleteSeries(e.series[i],null,{action:"remove-study"})},t.Studies.replaceStudy=function(e,i,a,r,n,s,o,l){var h,c,u,d,p;for(u in s||(s={}),i&&(s.replaceID=i),i=s.replaceID,h=e.layout.studies[i],t.Studies.removeStudySymbols(h,e),h.attribution&&e.removeFromHolder(h.attribution.marker),e.quoteDriver&&e.quoteDriver.updateSubscriptions(),r&&(r.id==r.display&&delete r.display,delete r.id),(c=t.Studies.addStudy(e,a,r,n,s,o,l)).highlight=h.highlight,c.uniqueId=h.uniqueId,d={},e.layout.studies)u==i?d[c.name]=c:d[u]=e.layout.studies[u];for(u in e.layout.studies=d,d={},e.overlays)u==i?(c.overlay||c.underlay)&&(d[c.name]=c):d[u]=e.overlays[u];if(e.overlays=d,e.overlays[c.name]||!c.overlay&&!c.underlay||e.addOverlay(c),e.checkForEmptyPanel(h.panel),!s.rejiggering){e.initializeDisplay(e.chart),t.Studies.rejiggerDerivedStudies(e,h,c.inputs.id,c.panel),1883388231,-1888117486,p=2;for(var g=1;1883388231!==F.V9R(g.toString(),g.toString().length,36360);g++)e.changeOccurred(""),p+=2;-1888117486!==F.j9R(p.toString(),p.toString().length,79772)&&e.changeOccurred("layout"),e.currentlyImporting||s.calculateOnly||!c.chart.dataSet||e.createDataSet(null,c.chart),e.draw()}return t.transferObject(h,c),e.layout.studies[c.name]=h,e.overlays[c.name]=h,e.chart.state.studies.sorted=null,h},t.Studies.addStudy=function(e,i,a,r,n,s,o){var l,h,c,u,d,p,g,f,m,y,v,b,x=F;if("abo","rt",l=o||t.Studies.studyLibrary[i],n||(n={}),x.V0f(),l){if(l.inputs){for(var S in h=t.clone(l.inputs))h[S]instanceof Array&&(l.attributes&&l.attributes[S]&&l.attributes[S].defaultSelected?h[S]=l.attributes[S].defaultSelected:h[S]=h[S][0]);a=t.extend(h,a)}l.outputs&&(r=t.extend(t.clone(l.outputs),r)),297232804,-742083192,c=2;for(var C=1;297232804!==x.j9R(C.toString(),C.toString().length,61338);C++)u=l.parameters,c+=2;-742083192!==x.j9R(c.toString(),c.toString().length,21606)&&(u=l.parameters),u&&u.init&&(n=t.extend(t.clone(u.init),n)),u&&!n.display&&(n.display=u.display)}if(a||(a=t.clone(t.Studies.DEFAULT_INPUTS)),r||(r=t.clone(t.Studies.DEFAULT_OUTPUTS)),n.chartName||(n.chartName="chart"),"Auto"!=n.panelName&&"Default panel"!=n.panelName||(n.panelName=""),a.Period<1&&(a.Period=1),d=null,e.layout.studies||(e.layout.studies={}),!(d=l&&l.initializeFN?l.initializeFN(e,i,a,r,n,s,o):t.Studies.initializeFN(e,i,a,r,n,s,o)))return"CIQ.Studies.addStudy: initializeFN()"," returned null for ",x.L4o(0),void console.log(x.i4o(i,"CIQ.Studies.addStudy: initializeFN() returned null for "));if("abort"!==d){if(o=d.study,d.chart=e.charts[n.chartName],d.type=i,d.permanent=o.permanent,d.customLegend=o.customLegend,d.uniqueId=t.uniqueID(),t.Studies.prepareStudy(e,o,d),(p=e.chart.state.studies)||(p=e.chart.state.studies={}),p.sorted=null,n.replaceID?(g=!0,delete n.replaceID):(e.layout.studies[d.inputs.id]=d,(d.overlay||d.underlay)&&e.addOverlay(d),e.currentlyImporting||n.calculateOnly||!d.chart.dataSet||e.createDataSet(null,d.chart)),e.quoteDriver&&e.quoteDriver.updateSubscriptions(),n.calculateOnly)return e.changeOccurred("layout"),d;if(f=e.panels[d.panel],m=!1,(y=!(d.overlay||d.underlay))&&o.horizontalCrosshairFieldFN&&(f.horizontalCrosshairField=o.horizontalCrosshairFieldFN(e,d)),e.editCallback?m=!0:y?e.callbackListeners.studyPanelEdit&&e.callbackListeners.studyPanelEdit.length&&(m=!0):e.callbackListeners.studyOverlayEdit&&e.callbackListeners.studyOverlayEdit.length&&(m=!0),m){for(var D in n.editMode=!0,v=!1,d.inputs)if("id"!=D&&"display"!=D){v=!0;break}if(!v)for(var A in d.outputs){v=!0;break}v&&("un","def","ine","d",void 0!==d.study.edit?d.study.edit&&(R=e,j=d,Y=a,W=r,b=function(){t.clearCanvas(R.chart.tempCanvas,R),j.study.edit(j,{stx:R,inputs:Y,outputs:W,parameters:n})},e.setPanelEdit(f,b),d.editFunction=b):y?e.editCallback?("ch","art",_=e,L=d,E=a,H=r,b=function(){var e;e=_.editCallback(_,L),t.clearCanvas(_.chart.tempCanvas,_),x.V0f(),t.Studies.studyDialog(_,i,e,{inputs:E,outputs:H,parameters:n})},"chart"!=f.name&&e.setPanelEdit(f,b)):(w=e,k=d,T=a,M=r,P=n,b=function(){x.D0f(),t.clearCanvas(w.chart.tempCanvas,w),w.dispatch("studyPanelEdit",{stx:w,sd:k,inputs:T,outputs:M,parameters:P})},"chart"!=f.name&&(e.setPanelEdit(f,b),d.editFunction=b)):(O=e,I=d,z=a,N=r,V=n,b=function(e){t.clearCanvas(O.chart.tempCanvas,O),O.dispatch("studyOverlayEdit",{stx:O,sd:I,inputs:z,outputs:N,parameters:V,forceEdit:e})},d.editFunction=b))}var w,k,T,M,P,_,L,E,H,O,I,z,N,V,R,j,Y,W;return e.changeOccurred("layout"),g||e.draw(),d}},t.Studies.removeStudy=function(e,t){var i,a,r,n,s;if(a=(i=e.panels[t.panel])&&i.yAxis.name,(t.overlay||t.underlay)&&e.removeOverlay(t.name),r=e.panels[t.panel],t.attribution&&e.removeFromHolder(t.attribution.marker),e.cleanupRemovedStudy(t),r&&!e.checkForEmptyPanel(r)){a==t.name&&e.electNewPanelOwner(r),-1470736376,1761309049,n=2;for(var o=1;-1470736376!==F.V9R(o.toString(),o.toString().length,42162);o++)s=e.getYAxisByName(t.panel,t.name),n+=2;1761309049!==F.j9R(n.toString(),n.toString().length,40330)&&(s=e.getYAxisByName(t.panel,t.name)),s&&(s.name=s.studies[1]||s.renderers[0])}F.V0f(),e.draw(),e.resizeChart()},t.Studies.getPanelFromFieldName=function(e,i){var a,r,n,s,o;if(!(a=t.Studies.getFieldInputs(i)).length)return null;if(!(r=e.layout.studies))return null;for(var l in n={},F.D0f(),r)for(var h in r[l].outputMap)n[h]=r[l].panel;for(var c=0;c<a.length;c++)if((s=i.inputs[a[c]])&&(o=n[s]))return o;return null},t.Studies.createLibraryHash=function(){return Object.keys(t.Studies.studyLibrary).join("|")},t.Studies.displayStudies=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y;if(a&&(i.studyLibraryHash=t.Studies.createLibraryHash()),r=e.layout.studies)for(var v in(n={})[i.name]=!0,r)if((o=(s=r[v]).study)&&(l=s.underlay||s.parameters&&s.parameters.underlayEnabled,!(a&&!l||!a&&l)))if(!(h=t.clone(o.renderer))||h instanceof Array||(h=[h]),c=e.panels[s.panel]){if(c.chart==i&&!c.hidden)if(n[c.name]||(u=s.permanent||!e.manageTouchAndMouse,c.closeX?("n","o","n","e",u&&(c.closeX.style.display="none")):c.close&&u&&(c.close.style.display="none"),c.edit&&u&&(c.edit.style.display="none"),n[c.name]=u),d=s.chart.dataSegment,s.panel!=s.parameters.chartName||s.parameters&&s.parameters.panelName||(p=t.Studies.getPanelFromFieldName(e,s))&&s.panel!=p&&(s.panel=p),void 0===o.seriesFN){if(h){s.overlay||t.Studies.createYAxis(e,s,d,c);for(var b=0;b<h.length;b++){for(var x in g=h[b],s.outputMap)s.outputMap[x]==g.field&&(g.field=x);if(g.field){if(g.panel=s.panel,f=g.binding)for(var S in f)(m=t.Studies.determineColor(s.outputs[f[S]]))&&"auto"!=m&&(g[S]=m);g.yAxis=null,(y=t.Renderer.produce(g.type,g)).stx=e,y.attachSeries(null,g).draw()}}}else t.Studies.displaySeriesAsLine(e,s,d);c&&t.Studies.displayError(e,s)}else o.seriesFN&&c&&(o.seriesFN(e,s,d),t.Studies.displayError(e,s))}else e.currentlyImporting&&delete r[v]},t.Studies.displayError=function(e,t,i){var a,r;t.error&&(a=i&&i.panel?i.panel:t.panel,r=!0===t.error?e.translateIf("Not enough data to compute ")+e.translateIf(t.study.name):e.translateIf(t.error),!i||"center"===i.h&&"bottom"===i.v?(F.D0f(),e.displayErrorAsWatermark(a,r)):e.watermark(a,i))},t.Studies.calculateMinMaxForDataPoint=function(e,t,i){var a,r,n;a=Number.MAX_VALUE,F.L4o(57);var s=F.S4o(13,7,19,0);r=Number.MAX_VALUE*s;for(var o=0;o<i.length;o++)null!=(n=i[o][t])&&(isNaN(n)||(a=Math.min(n,a),r=Math.max(n,r)));return{min:a,max:r}},t.Studies.getYAxisParameters=function(e,t){var i,a,r;return i={},(a=e.layout.studies&&e.layout.studies[t.name])&&((r=a.study).yaxis||r.yAxisFN?i.noDraw=!0:(r.parameters&&r.parameters.excludeYAxis&&(i.noDraw=!0),i.ground=r.yAxis&&r.yAxis.ground,t&&("bypass"!=r.range&&("0 to 100"==r.range?i.range=[0,100]:"-1 to 1"==r.range?i.range=[-1,1]:"0 to max"==r.range?i.range=[0,Math.max(0,t.high)]:(r.centerline||0===r.centerline)&&(i.range=[Math.min(r.centerline,t.low),Math.max(r.centerline,t.high)])),i.range&&(t.low=i.range[0],t.high=i.range[1]),a.min&&(t.min=a.min),a.max&&(t.max=a.max),a.parameters&&a.parameters.studyOverZonesEnabled&&(i.noDraw=!0)))),i},t.Studies.doPostDrawYAxis=function(e,i){var a,r,n,s;for(var o in F.V0f(),e.layout.studies)a=e.layout.studies[o],(r=e.panels[a.panel])&&!r.hidden&&a.getYAxis(e)==i&&(n=a.study,i.name==a.name&&(n.yaxis&&n.yaxis(e,a),n.yAxisFN&&n.yAxisFN(e,a)),t.Studies.drawZones(e,a),a.error||((s=n.centerline)||0===s||null!==s&&i.highValue-1e-12>0&&i.lowValue+1e-12<0)&&t.Studies.drawHorizontal(e,a,null,s||0,i))},t.Studies.displaySeriesAsLine=function(e,i,a){var r;if(a.length&&(F.V0f(),(r=e.panels[i.panel])&&!r.hidden))for(var n in i.outputMap)t.Studies.displayIndividualSeriesAsLine(e,i,r,n,a)},t.Studies.displaySeriesAsHistogram=function(e,t,i){var a,r,n,s,o,l,h,c,u,d;if(i.length&&(a=e.panels[t.panel])&&!a.hidden){for(var p in r=[],t.outputMap)(n=t.outputs[t.outputMap[p]])&&(s=.3,"object"==typeof n&&(s=n.opacity,n=n.color),o={field:p,fill_color_up:n,border_color_up:n,fill_color_down:n,border_color_down:n},t.underlay&&(o.opacity_up=o.opacity_down=s||.3),r.push(o));l=t.getYAxis(e),c=(h=t.inputs).WidthFactor,t.study&&t.study.parameters&&("und","efin","ed",void 0!==(u=t.study.parameters).widthFactor&&(c=u.widthFactor)),d={name:t.name,type:h.HistogramType?h.HistogramType:"overlaid",panel:t.panel,yAxis:l,widthFactor:c||.5,bindToYAxis:!0,highlight:t.highlight},e.drawHistogram(d,r)}},t.Studies.displayIndividualSeriesAsLine=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x;if("t","rans","p","arent","s","tring",a.height||(a.height=a.bottom-a.top),s=i.getContext(e),o=i.outputs[i.outputMap[r]]){if(s.save(),"string"==typeof o&&(o={color:o,width:1}),s.lineWidth=o.width||1,"auto"==(l=o.color)&&(l=e.defaultColor),s.strokeStyle=l,h=o.pattern,s.setLineDash(t.borderPatternToArray(s.lineWidth,h)),s.lineDashOffset=0,c=0,u=i.study,d=i.getYAxis(e),c=e.decimalPlacesFromPriceTick(d.priceTick,d.idealTickSizePixels),(i.overlay||i.underlay)&&(c=null),(d.decimalPlaces||0===d.decimalPlaces)&&(c=d.decimalPlaces),p=null,i.parameters&&(p=i.parameters.label),(g=u.parameters)||(g={}),f="step"==g.plotType,i.series)for(var S in i.series)"s","tep",(m=i.series[S].parameters.type)&&(F.A4o(71),f=F.S4o(m,"step"));g.noLabels&&(p=!1),i.noSlopes||!1===i.noSlopes||(i.noSlopes=g.noSlopes),i.extendToEnd||!1===i.extendToEnd||(i.extendToEnd=g.extendToEnd),y=p||e.preferences.labels&&!1!==p,!1===(v=i.gaplines)&&(v="transparent"),b=i.inputs.Symbol,x=v?e.getGapColorFunction(b,r,o,v):null,e.plotDataSegmentAsLine(r,a,{yAxis:d,skipTransform:e.panels[i.panel].name!=i.chart.name,label:y,labelDecimalPlaces:c,noSlopes:i.noSlopes,step:f,alignStepToSide:i.alignStepToSide,extendToEndOfLastBar:i.extendToEndOfLastBar,width:i.lineWidth,extendToEndOfDataSet:i.extendToEnd,gapDisplayStyle:v,highlight:i.highlight},x),u.appendDisplaySeriesAsLine&&u.appendDisplaySeriesAsLine(e,i,n,r,a),s.restore()}},t.Studies.drawHorizontal=function(e,t,i,a,r,n){var s,o,l;s=e.panels[t.panel],o=e.getBackgroundCanvas().context,s&&(n||(n=r.textStyle),F.V0f(),(l=e.pixelFromPrice(a,s,r))>r.top&&l<r.bottom&&e.plotLine(s.left,s.right,l,l,n,"segment",o,!1,{opacity:n&&n.opacity?n.opacity:.5}))},t.Studies.displayHistogramWithSeries=function(e,i,a){var r;e.panels[i.panel],r=.5,F.D0f(),i.underlay&&(r=.3),t.Studies.createHistogram(e,i,a,!1,r),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.drawZones=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P=F;if("stx_grid_bor","der","b","order","l","e","ft","a","u","t","o","a","u","t","o","R","e","sul","t",i.parameters&&i.parameters.studyOverZonesEnabled){if(r=parseFloat(i.parameters.studyOverSoldValue),n=parseFloat(i.parameters.studyOverBoughtValue),s=i.parameters.studyOverSoldColor,o=i.parameters.studyOverBoughtColor,(l=i.zoneOutput)||(l="Result"),(h=t.Studies.determineColor(i.outputs[l]))&&"auto"!=h&&!t.isTransparent(h)||(h=e.defaultColor),s||(s=h),s&&"auto"!=s&&!t.isTransparent(s)||(s=e.defaultColor),P.D0f(),o||(o=h),o&&"auto"!=o&&!t.isTransparent(o)||(o=e.defaultColor),c=e.panels[i.panel],d=(u=i.getYAxis(e)).displayBorder,!1===e.axisBorders&&(d=!1),!0===e.axisBorders&&(d=!0),0===u.width&&(d=!1),p=e.getYAxisCurrentPosition(u,c),P.A4o(71),g=P.i4o(p,"left"),(f=u.justifyRight)||!1===f||(f=e.chart.yAxis.justifyRight||!1===e.chart.yAxis.justifyRight?e.chart.yAxis.justifyRight:g),m=Math.round(u.left+(g?u.width:0))+.5,y=d?3:0,b=(v=e.getBackgroundCanvas().context).fillStyle,v.globalAlpha=.2,e.startClip(c.name,!0),v.beginPath(),x=Math.round(e.pixelFromPrice(n,c,u))+.5,v.strokeStyle=o,v.moveTo(c.left,x),v.lineTo(c.right,x),v.stroke(),v.closePath(),v.beginPath(),S=Math.round(e.pixelFromPrice(r,c,u))+.5,v.strokeStyle=s,v.moveTo(c.left,S),v.lineTo(c.right,S),v.stroke(),v.closePath(),(C=new t.Plotter).newSeries("border","stroke",e.canvasStyle("stx_grid_border")),d&&("bo","rde","r",D=g?m-y:m-.5,A=g?m+.5:m+y,C.moveTo("border",D,x),C.lineTo("border",A,x),C.moveTo("border",D,S),C.lineTo("border",A,S)),v.fillStyle=b,w={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:l+" "+i.name,yAxis:u,opacity:.3},!i.highlight&&e.highlightedDraggable&&(w.opacity*=.3),t.preparePeakValleyFill(e,t.extend(w,{threshold:n,direction:u.flipped?-1:1,color:o})),t.preparePeakValleyFill(e,t.extend(w,{threshold:r,direction:u.flipped?1:-1,color:s})),v.globalAlpha=1,!(i.study&&i.study.yaxis||(d&&("b","or","der","bor","de","r",k=Math.round(u.bottom)+.5,C.moveTo("border",m,u.top),C.lineTo("border",m,k),C.draw(v,"border")),0===u.width))){"l","e","f","t","r","i","ght",e.canvasFont("stx_yaxis",v),e.canvasColor("stx_yaxis",v),v.textAlign=f?"right":"left",P.L4o(8);var _=P.i4o(6,4);if(T=e.getCanvasFontSize("stx_yaxis")/_,g){if(M=u.left+3,f){P.L4o(112);var L=P.i4o(20,12,13,27,237);M=u.left+u.width-y-L}}else{P.A4o(70);var E=P.i4o(0,29,14,12);M=u.left+y+E,f&&(M=u.left+u.width)}x>u.top+T&&(v.fillStyle=o,v.fillText(n,M,x)),S<u.bottom-T&&(v.fillStyle=s,v.fillText(r,M,S)),v.fillStyle=b}e.endClip(),v.globalAlpha=1,u.name==i.name&&(u.yAxisPlotter=new t.Plotter)}},t.Studies.createHistogram=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w=F;s=e.panels[i.panel],o=i.getContext(e),l=i.getYAxis(e),e.startClip(s.name),w.V0f(),w.L4o(3);var k=w.S4o(4,6);(h=e.layout.candleWidth-k)<2&&(h=1),w.A4o(33),c=e.pixelFromPrice(w.i4o(69088512,"0"),s,l),l.min>0&&(c=e.pixelFromPrice(l.min,s,l)),r&&(c=Math.floor(s.top+s.height/2)),u=i.name+"_hist",e.canvasColor("stx_histogram"),d=o.fillStyle,(n||0===n)&&(o.globalAlpha=n),!i.highlight&&e.highlightedDraggable&&(o.globalAlpha*=.3),p=null,g=null,f=i.outputs;for(var T=0;T<a.length;T++)if("Decreasing"," ","Bar",m=a[T]){if(m.candleWidth&&(h=Math.floor(Math.max(1,m.candleWidth-2))),y=Math.floor(e.pixelFromBar(T,s.chart)-h/2),v=Math.floor(h),null===p){w.L4o(12);var M=w.i4o(14,13,0);p=(b=e.tickFromPixel(y,s.chart)-M)<0?g:e.pixelFromPrice(e.chart.dataSet[b][u],s,l)-c}else p=g;g=e.pixelFromPrice(m[u],s,l)-c,x=t.Studies.determineColor(f["Decreasing Bar"]),S=t.Studies.determineColor(f["Increasing Bar"]),C=t.Studies.determineColor(f["Positive Bar"]),D=t.Studies.determineColor(f["Negative Bar"]),A=l.flipped,o.fillStyle=d,x&&(A?g<p:g>p)?o.fillStyle=x:S&&(A?g>p:g<p)?o.fillStyle=S:C&&(A?g>0:g<0)?o.fillStyle=C:D&&(A?g<0:g>0)&&(o.fillStyle=D),o.fillRect(y,c,v,Math.floor(g))}o.globalAlpha=1,e.endClip()},t.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:"wma","welles wilder":"smma",true:"y",false:"n"},t.Studies.prettyRE=/^.*\((.*?)\).*$/,t.Studies.prettyDisplay=function(e){var i,a;if(!(i=t.Studies.prettyRE.exec(e)))return e;if(a=i[1]){for(var r in t.Studies.prettify)a=a.replace(r,t.Studies.prettify[r]);e=e.replace(i[1],a)}return e},t.Studies.getFieldInputs=function(e){var t,i;for(var a in F.V0f(),t=[],i=e.study.inputs)"field"==i[a]&&t.push(a);return t},t.Studies.initializeFN=function(e,i,a,r,n,s,o){var l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M=F;if(a||(a={}),n||(n={}),a.id||(a.id=t.Studies.generateID(e,i,a,n.replaceID,n.display)),a.display||(a.display=a.id),l=new t.Studies.StudyDescriptor(a.id,i,a.id,a,r,n),a.Period&&(M.L4o(27),l.days=Math.max(M.i4o("1",2147483647),parseInt(l.inputs.Period,10))),o?(o.inputs||(o.inputs=l.study.inputs),o.outputs||(o.outputs=l.study.outputs),l.study=o):o=l.study,o.display&&(a.display=o.display),"string"==typeof n.panelName&&(s=n.panelName),s==a.id||s&&!e.panelExists(s)){1790988035,M.A4o(8),h=M.i4o("2025308698",0),c=2;for(var P=1;1790988035!==M.j9R(P.toString(),P.toString().length,10581);P++)l.underlay=l.overlay=!1,c+=2;M.j9R(c.toString(),c.toString().length,41724)!==h&&(l.underlay=l.overlay=!0)}if("Own panel"!=s&&"New panel"!=s||(s=null),u=l.overlay||a.Overlay||!1!==l.overlay&&o.overlay,d=l.underlay||a.Underlay||!1!==l.underlay&&o.underlay,u&&n.underlayEnabled&&(d=!0),d&&(l.underlay=!0),!d&&e.chart.panel&&s==e.chart.panel.name&&(u=!0),u&&(l.overlay=!0),(!0===(p=e.preferences.dragging)||p&&p.study)&&(l.overlay=!0),s?n.panelName=s:u||d||(s=a.id),n.calculateOnly)return(u||d)&&(e.panels[n.panelName]?l.panel=n.panelName:l.panel=t.Studies.getPanelFromFieldName(e,l)||n.chartName),l;if(g={},(f=e.layout.studies[n.replaceID])&&(g={outputMap:t.clone(f.outputMap),panel:f.panel}),l.panel="",s?("defa","ult",m="d",m+="efault",y="sha",y+="re",y+="d",v="r",v+="ig",v+="ht",(b=t.Studies.smartMovePanel(e,l.inputs,s,n.replaceID,"New panel"==n.panelName))&&(l.panel=b.name),!n.yaxisDisplayValue||["left",v,"none",y,m].includes(n.yaxisDisplayValue)||e.getYAxisByName(b,n.yaxisDisplayValue)||(n.yaxisDisplayValue="default")):(u||d)&&(l.panel=t.Studies.getPanelFromFieldName(e,l)||n.chartName),l.panel||(x=o.panelHeight||null,(S=n.yAxis||o.yAxis||{}).name=l.inputs.id,l.panel=l.inputs.id,e.createPanel(l.inputs.display,l.panel,x,n.chartName,new t.ChartEngine.YAxis(S))),l.parameters&&l.parameters.panelName&&(l.parameters.panelName=l.panel),C=e.panels[l.panel],D=o?t.clone(o.yAxis):null,((A=n.yAxis||D)||{}).ground&&(A["initialMargin"+(A.flipped?"Top":"Bottom")]=0),(w=t.Studies.smartCreateYAxis(e,C,l.inputs.id,n.yaxisDisplayValue,A))&&(w.name==n.replaceID&&(w.name=l.inputs.id),n.replaceID||w.name!==l.name||e.calculateYAxisMargins(w),w.allowSharing=!n.yAxis&&!o.yAxis,w.width="none"==w.position?0:t.ChartEngine.YAxis.prototype.width,"shared"==n.yaxisDisplayValue||"default"==n.yaxisDisplayValue?delete n.yaxisDisplayValue:(D&&t.ensureDefaults(w,D),w.name==l.name&&("a","uto",!(D||{}).textStyle&&!n.yaxisDisplayColor||"auto"==n.yaxisDisplayColor?delete w.textStyle:n.yaxisDisplayColor&&(w.textStyle=t.colorToHex(n.yaxisDisplayColor)),void 0===(D||{}).justifyRight&&(w.justifyRight=null),void 0!==n.flippedEnabled&&(w.flipped=n.flippedEnabled))),w!=C.yAxis?w.displayGridLines=!1:w!=e.chart.yAxis&&(w.displayGridLines=e.displayGridLinesInStudies)),e.calculateYAxisPositions(),f){for(var _ in k=!1,e.drawingObjects)T=e.drawingObjects[_],g.outputMap&&g.outputMap.hasOwnProperty(T.field)?(T.field=T.field.replace(n.replaceID,l.inputs.id),l.parameters&&l.parameters.panelName?T.panelName=l.parameters.panelName:T.panelName=l.panel,k=!0):g.panel&&g.panel==T.panelName&&(T.panelName=T.panelName.replace(n.replaceID,l.inputs.id),k=!0);k&&e.changeOccurred("vector")}return l},t.Studies.smartMovePanel=function(e,t,i,a,r){var n,s,o,l;return F.V0f(),s=t.id,a&&(n=e.layout.studies[a]),n&&(o=e.panels[n.panel])&&o.yAxis.name==a&&((r||i!=a&&i!=s)&&!e.checkForEmptyPanel(o.name,!0,n)?(e.electNewPanelOwner(o),(l=n.getYAxis(e)).name==a&&e.electNewYAxisOwner(l)):i!=a&&e.panels[i]||(s!=o.name&&e.modifyPanel(o,{name:s,display:t.display}),i=s)),e.panels[i]},t.Studies.smartCreateYAxis=function(e,i,a,r,n){var s,o,l,h,c,u;return"shar","e","d","def","a","u","lt",s="l",s+="e",F.D0f(),s+="f",s+="t",o=n||{},l=e.getYAxisByName(i,a),!r&&n&&(r=n.position),[s,"right","none"].indexOf(r)>-1||void 0===r&&n?(!l||l.isShared(e)?(t.extend(o,{name:a,position:r}),l||e.currentlyImporting||i==i.chart.panel||i.yAxis.studies.length||i.yAxis.renderers.length?(h=l==i.yAxis,l&&(l.name=e.electNewYAxisOwner(l)),(c=l||i.yAxis).lockScale&&t.extend(o,{zoom:c.zoom,scroll:c.scroll,lockScale:!0}),l=e.addYAxis(i,new t.ChartEngine.YAxis(o)),h&&(i.yAxis=l)):(l=i.yAxis,t.extend(l,o))):(n&&t.extend(l,n),l.position=r,l.name=a),l):r&&"default"!==r&&"shared"!==r&&r!==i.yAxis.name?((u=e.getYAxisByName(i,r))&&l==i.yAxis&&!l.isShared(e)&&(i.yAxis=u),l&&l.isShared(e)?l.name=e.electNewYAxisOwner(l):l!==i.yAxis&&e.deleteYAxisIfUnused(i,l),u):"shared"==r||r==i.yAxis.name||i.yAxis.allowSharing&&(!l||l.allowSharing)?(l&&(l!==i.yAxis&&l.isShared(e)?l.name=e.electNewYAxisOwner(l):(delete l.position,e.deleteYAxisIfUnused(i,l))),e.resizeChart(),i.yAxis):(t.extend(o,{name:a}),l&&(l.name=e.electNewYAxisOwner(l)),!l||l.name?l=e.addYAxis(i,new t.ChartEngine.YAxis(o)):(t.extend(l,o),delete l.position),l)},t.Studies.calculateVolume=function(e,i){var a,r,n;if("vol undr"==i.type){if(!e||!e.chart.dataSet)return;a=e.layout,r=i.parameters.removeStudy,n=a.volumeUnderlay,a.volumeUnderlay=!r,n!=a.volumeUnderlay&&e.changeOccurred("layout"),r&&t.Studies.removeStudy(e,i)}i.outputMap={},i.outputMap.Volume=""},t.Studies.MA=function(e,i,a,r,n,s,o,l){var h,c=F;c.A4o(113);c.i4o(160835,1,19,8465,8459);c.L4o(31);c.S4o(7136,8,8037);c.A4o(8);c.S4o(49959,44408);c.A4o(114);c.i4o(19,19,9638,2,9);c.L4o(66);c.i4o(148,3,140,6,10);c.L4o(115);c.S4o(20,19,1069,1,10);(h=new t.Studies.StudyDescriptor(n+" "+o.name,"ma",o.panel)).chart=o.chart,h.days=parseInt(i,10),c.D0f(),h.startFrom=o.startFrom,l&&(h.subField=l),h.inputs={},e&&(h.inputs.Type=e),a&&(h.inputs.Field=a),r&&(h.inputs.Offset=parseInt(r,10)),t.Studies.calculateMovingAverage(s,h)},t.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tma:"triangular",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tma:"Triangular",triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}},t.Studies.movingAverageHelper=function(e,i){var a;if(F.D0f(),"options"==i){for(var r in a={},t.Studies.movingAverage.translations)a[r]=e.translateIf(t.Studies.movingAverage.translations[r]);return a}return t.Studies.movingAverage.conversions[i]},t.Studies.createVolumeChart=function(e,i,a){var r,n,s,o,l,h,c,u,d,p=F;r=i.panel,i.inputs,n=i.underlay,s=i.overlay,o=t.Studies.determineColor(i.outputs["Up Volume"]),l=t.Studies.determineColor(i.outputs["Down Volume"]),h=n?"stx_volume_underlay":"stx_volume",p.L4o(0),e.setStyle(p.i4o("_up",h),"color",o),p.L4o(0),e.setStyle(p.S4o("_down",h),"color",l),c=[{field:i.volumeField||"Volume",fill_color_up:e.canvasStyle(h+"_up").color,border_color_up:e.canvasStyle(h+"_up").borderLeftColor,opacity_up:e.canvasStyle(h+"_up").opacity,fill_color_down:e.canvasStyle(h+"_down").color,border_color_down:e.canvasStyle(h+"_down").borderLeftColor,opacity_down:e.canvasStyle(h+"_down").opacity,color_function:i.colorFunction}],u=c[0],n||"rgb(184, 44, 12)"!==u.border_color_down||("#0","00000",u.border_color_down="#000000",u.border_color_up="#000000"),d={name:"Volume",panel:r,yAxis:i.getYAxis(e),widthFactor:1,bindToYAxis:!0,highlight:i.highlight},t.extend(d,i.study.parameters),t.extend(d,i.parameters),e.colorByCandleDirection&&!i.colorFunction&&(u.color_function=function(e){var t,i;return p.V0f(),{fill_color:(t=e.Open)>(i=e.Close)?u.fill_color_down:u.fill_color_up,border_color:t>i?u.border_color_down:u.border_color_up,opacity:t>i?u.opacity_down:u.opacity_up}}),e.drawHistogram(d,c)},t.Studies.calculateStandardDeviation=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m=F;if("Sta","ndard Deviat","ions","_M","A","Moving Averag","e Ty","pe","C","l","os","e",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var y in(r=i.inputs.Field)&&"field"!=r||(r="Close"),(n=i.inputs["Moving Average Type"])||(n=i.inputs.Type),t.Studies.MA(n,i.days,r,i.inputs.Offset,"_MA",e,i),s=0,m.A4o(2),o=m.i4o(1,"0"),l=0,(h=Number(i.inputs["Standard Deviations"]))<0&&(h=2),c=i.name,i.outputs)m.L4o(28),c=m.S4o(" ",c,y);for(u=i.startFrom-1,p=0;u>=0&&p<i.days;u--,p++)"o","b","je","ct",(d=a[u][r])&&"object"==typeof d&&(d=d[i.subField]),isNaN(d)&&(d=0),s+=Math.pow(d,2),o+=d;for(u=i.startFrom;u<a.length;u++)if("_M","A"," ","o","bj","ect",(d=(g=a[u])[r])&&"object"==typeof d&&(d=d[i.subField]),d||0===d||(d=0),m.L4o(8),s+=Math.pow(d,m.S4o("2",0)),o+=d,!(u<i.days-1)&&(u>=i.days&&((f=a[u-i.days][r])&&"object"==typeof f&&(f=f[i.subField]),isNaN(f)&&(f=0),s-=Math.pow(f,2),o-=f),(l=g["_MA "+i.name])||0===l)){m.A4o(116);var v=m.S4o(0,32,3,10);m.L4o(65);var b=m.S4o(4,0,2,8);g[c]=Math.sqrt((s+i.days*Math.pow(l,v)-b*l*o)/i.days)*h}}},t.Studies.calculateMovingAverage=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v;if("Cl","os","e","s","i","mp","le","sim","pl","e","m","a",i.chart.scrubbed){if("ma"!=(a=i.inputs.Type)&&"sma"!=a&&a||(a="simple"),a in(r=t.Studies.movingAverage.typeMap))return t.Studies["calculateMovingAverage"+r[a]](e,i);if("simple"===a){for(var b in n=i.chart.scrubbed,s=0,o=[],l=i.name,i.outputs)F.L4o(28),l=F.S4o(" ",l,b);for((h=i.inputs.Field)&&"field"!=h||(h="Close"),c=parseInt(i.inputs.Offset,10),isNaN(c)&&(c=0),g=i.startFrom,F.D0f(),f=c,u=i.startFrom-1;u>=0;u--)if((d=n[u][h])&&"object"==typeof d&&(d=d[i.subField]),d||0===d)if(f>0)f--,g=u;else{if(o.length==i.days-1)break;s+=d,o.unshift(d)}for(o.length<i.days-1&&(o=[],g=0),m=[],u=g;u<n.length;u++)(d=n[u][h])&&"object"==typeof d&&(d=d[i.subField]),y=u+c>=0&&u+c<n.length?n[u+c]:null,d||0===d?(s+=d,o.push(d),o.length>i.days&&(s-=o.shift()),v=o.length==i.days?s/i.days:null,y?y[l]=v:u+c>=n.length&&((p={})[l]=v,m.push(p))):y?y[l]=null:u+c>=n.length&&((p={})[l]=null,m.push(p));i.appendFutureTicks(e,m)}}},t.Studies.calculateMovingAverageExponential=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x=F;i=t.inputs.Type,a=t.chart.scrubbed,r=0,n=0,s=0,x.L4o(87);var S=x.i4o(7,4,8,13,60);x.L4o(65);var C=x.i4o(15,5,6,17);(o="2"*S/(t.days+C),"welles wilder"===i||"smma"===i)&&(x.L4o(117),o=x.S4o(19,350,10,19)/t.days);for(var D in l=null,h=t.name,t.outputs)x.A4o(28),h=x.i4o(" ",h,D);for((c=t.inputs.Field)&&"field"!=c||(c="Close"),u=parseInt(t.inputs.Offset,10),isNaN(u)&&(x.A4o(33),u=x.S4o(1507308096,"0")),g=t.startFrom,f=u,d=t.startFrom-1;d>=0;d--)if((p=a[d][h])||0===p){if(null===l&&(l=p),s=t.days,f<=0)break;f--,g=d}for(null===l&&(l=g=0),x.V0f(),m=[],d=g;d<a.length;d++)(p=a[d][c])&&"object"==typeof p&&(p=p[t.subField]),y=d+u>=0&&d+u<a.length?a[d+u]:null,p||0===p?(s==t.days-1?v=n=(r+=p)/t.days:s<t.days-1?(r+=p,x.A4o(118),n=x.i4o(1,r,s),v=null):0===s?(n=r+=p,v=null):(l||0===l)&&(x.L4o(116),v=n=x.i4o(p,l,l,o)),l=n,s++):v=null,y?y[h]=v:d+u>=a.length&&((b={})[h]=v,m.push(b));t.appendFutureTicks(e,m)},t.Studies.calculateMovingAverageVIDYA=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b=F;i.inputs.Type,a=i.chart.scrubbed,b.L4o(119);var x=b.i4o(9,28,19,54);b.L4o(92);var S=b.i4o(8,1458156504,13,3);for(var C in r=x/(i.days+("1">>S)),n=null,s=i.name,i.outputs)b.L4o(28),s=b.S4o(" ",s,C);for((o=i.inputs.Field)&&"field"!=o||(o="Close"),i.std=new t.Studies.StudyDescriptor(i.name,"sdev",i.panel),i.std.chart=i.chart,i.std.days=5,i.std.startFrom=i.startFrom,i.std.inputs={Field:o,"Standard Deviations":1,Type:"ma"},i.std.outputs={_STD:null},t.Studies.calculateStandardDeviation(e,i.std),t.Studies.MA("ma",20,"_STD "+i.name,0,"_MASTD",e,i),l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),d=i.startFrom,p=l,h=i.startFrom-1;h>=0;h--)if((c=a[h][s])||0===c){if(null===n&&(n=c),p<=0)break;p--,d=h}for(null===n&&(n=d=0),g=[],h=d;h<a.length;h++)"_","MAST","D"," ",(c=(f=a[h])[o])&&"object"==typeof c&&(c=c[i.subField]),m=h+l>=0&&h+l<a.length?a[h+l]:null,c||0===c?(f["_MASTD "+i.name]||0===f["_MASTD "+i.name])&&(y=f["_STD "+i.name]/f["_MASTD "+i.name],b.L4o(120),n=v=b.i4o(1,c,n,r,r,y,y),h<i.days&&(v=null),m?m[s]=v:h+l>=a.length&&((u={})[s]=v,g.push(u))):m?m[s]=null:h+l>=a.length&&((u={})[s]=null,g.push(u));i.appendFutureTicks(e,g)},t.Studies.calculateMovingAverageTriangular=function(e,i){var a,r,n,s,o,l,h,c,u,d=F;for(var p in"T","RI","2","sim","pl","e","si","mple","f","ie","l","d",a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),d.V0f(),n=Math.ceil(i.days/2),t.Studies.MA("simple",n,r,0,"TRI1",e,i),i.days%2==0&&n++,t.Studies.MA("simple",n,"TRI1 "+i.name,0,"TRI2",e,i),s=i.name,i.outputs)d.L4o(28),s=d.i4o(" ",s,p);o=parseInt(i.inputs.Offset,10),isNaN(o)&&(o=0),l=o;for(var g=i.startFrom-1;g>=0;g--)if((h=a[g][s])||0===h){if(!(l>0))break;l--}for(c=[],g++;g<a.length;g++)g+o>=0&&("T","RI","2"," ",g+o<a.length?(d.L4o(0),a[d.S4o(o,g)][s]=a[g]["TRI2 "+i.name]):((u={})[s]=a[g]["TRI2 "+i.name],c.push(u)));i.appendFutureTicks(e,c)},t.Studies.calculateMovingAverageWeighted=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v=F;i=t.chart.scrubbed,v.L4o(33),a=v.S4o(156185216,"0"),r=0,(n=t.inputs.Field)&&"field"!=n||(n="Close"),v.A4o(121);var b=v.S4o(12,1,11,1);v.L4o(8);var x=v.i4o(38,36);for(var S in s=t.days*(t.days+b)/x,o=t.name,t.outputs)v.L4o(28),o=v.S4o(" ",o,S);for(l=parseInt(t.inputs.Offset,10),isNaN(l)&&(l=0),d=[],p=t.startFrom,g=l,h=t.startFrom-1;h>=0;h--)if((c=i[h][n])&&"object"==typeof c&&(c=c[t.subField]),c||0===c)if(g>0)g--,p=h;else{if(d.length==t.days-1)break;d.unshift(c)}for(d.length<t.days-1&&(d=[],p=0),h=0;h<d.length;h++){v.L4o(7),a+=(h+v.S4o(0,19,9,170))*d[h],r+=d[h]}for(f=[],h=p;h<i.length;h++)(c=i[h][n])&&"object"==typeof c&&(c=c[t.subField]),m=h+l>=0&&h+l<i.length?i[h+l]:null,c||0===c?(d.push(c),d.length>t.days&&(a-=r,r-=d.shift()),a+=d.length*c,r+=c,y=h<t.days-1?null:a/s,m?m[o]=y:h+l>=i.length&&((u={})[o]=y,f.push(u))):m?m[o]=null:h+l>=i.length&&((u={})[o]=null,f.push(u));t.appendFutureTicks(e,f)},t.Studies.calculateStudyATR=function(e,t){var i,a,r,n,s,o,l,h=F;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{h.D0f(),r=0,n=t.name;for(var c=Math.max(t.startFrom,1);c<i.length;c++)if("A","T","R ",s=i[c],h.L4o(8),o=i[h.S4o(c,1)],l=s.trueRange,o["Sum True Range "+n]&&(h.L4o(0),r=o[h.S4o(n,"Sum True Range ")]),r+=l,c>a&&(h.A4o(8),r-=i[h.i4o(c,a)][h.S4o(n,"True Range ",h.A4o(0))]),h.A4o(0),s[h.i4o(n,"True Range ")]=l,h.L4o(0),s[h.i4o(n,"Sum True Range ")]=r,c==a)h.A4o(0),s[h.i4o(n,"ATR ")]=h.i4o(a,r,h.A4o(9));else if(c>a){h.L4o(122);var u=h.i4o(3,3,6);h.L4o(0),s[h.i4o(n,"ATR ")]=(o["ATR "+n]*(a-u)+l)/a}}},t.Studies.displayPSAR2=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y=F;for(var v in r=e.panels[i.panel],s=(n=i.getYAxis(e))==e.chart.panel.yAxis,e.startClip(r.name),o=i.getContext(e),l="squarewave"==i.inputs["Plot Type"],i.outputs){h=v+" "+i.name,o.beginPath(),c=e.layout.candleWidth,u=Math.max(3,Math.floor(e.chart.tmpWidth/2));for(var b=0;b<a.length;b++)(d=a[b])&&(d[h]||0===d[h])&&(d.candleWidth&&(c=d.candleWidth),s&&d.transform&&(d=d.transform),p=e.pixelFromBar(b,r.chart),l&&(y.A4o(9),p-=y.S4o(2,c)),g=e.pixelFromTransformedValue(d[i.referenceOutput?i.referenceOutput+" "+i.name:h],r,n),0!==b&&a[b-1]&&(a[b-1][h]||0===a[b-1][h])||o.moveTo(p,g),l?(o.lineTo(p,g),y.L4o(0),o.lineTo(y.S4o(c,p),g),a[b+1]&&(y.L4o(0),f=a[y.i4o(1,b)],s&&f.transform&&(f=f.transform),f[h]||0===f[h]||(y.A4o(0),o.lineTo(y.S4o(c,p),e.pixelFromTransformedValue(f[i.referenceOutput?i.referenceOutput+" "+i.name:h],e.panels[i.panel],n))))):(y.A4o(123),o.moveTo(y.i4o(p,u,2),g),y.A4o(37),o.lineTo(y.i4o(u,p,2),g)));o.lineWidth=1,i.highlight&&(o.lineWidth=3),"auto"==(m=t.Studies.determineColor(i.outputs[v]))&&(m=e.defaultColor),o.strokeStyle=m,!i.highlight&&e.highlightedDraggable&&(o.globalAlpha*=.3),o.stroke(),o.closePath(),o.lineWidth=1}y.V0f(),e.endClip()},t.Studies.inputAttributeDefaultGenerator=function(e){return e||0===e?e.constructor==Number?Math.floor(e)==e?e>0?{min:1,step:1}:{step:1}:e>0?{min:0,step:.01}:{step:.01}:(F.D0f(),{}):{}},t.Studies.getMarketOffset=function({stx:e,localQuoteDate:i,shiftToDateBoundary:a}){var r,n,s,o,l,h,c,u,d,p,g=F;if(r="U",r+="T",r+="C",n="Market",n+=".Symbolog",n+="y.isForexM",n+="etal",arguments.length>1){o=-1995894011,l=1759673888,h=2;for(var f=1;g.V9R(f.toString(),f.toString().length,10967)!==o;f++)e=arguments[1],i=arguments[6],s=arguments[3],h+=2;g.V9R(h.toString(),h.toString().length,2988)!==l&&(e=arguments[0],i=arguments[1],s=arguments[6]),e=arguments[0],i=arguments[1],s=arguments[2]}var{symbol:m}=e.chart;c=t.getFn(n)(m),void 0===s&&(s=t.getFn("Market.Symbology.isForexSymbol")(m)),g.D0f(),u=e.chart.market?s?"America/New_York":e.chart.market.market_tz:null,g.A4o(29);var y=g.i4o(60010,16,6);return d=new Date(i.getTime()+i.getTimezoneOffset()*y),u&&-1!=u.indexOf(r)||(d=t.convertTimeZone(d,"UTC",u)),p=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()).getTime()-i.getTime(),a&&s&&(g.A4o(124),p+=g.S4o(c?6:7,1e3,60,60)),p},t.Studies.getStudyList=function(e){var i,a;for(var r in i={},a={},t.extend(a,e),t.Studies.studyLibrary)a[r]||(i[t.Studies.studyLibrary[r].name]=r);return i},t.Studies.determineColor=function(e){return"ob","j","ect",e?"object"==typeof e?e.color:e:null},t.Studies.calculateGenericEnvelope=function(e,t,i,a,r,n){var s,o,l,h,c,u,d,p=F;i||(i=0),n||(n=0),a&&"field"!=a||(a="Close"),r||(r=a),s=t.chart.scrubbed,(o=t.inputs.Field)&&"field"!==o||(o="Close");for(var g=t.startFrom;s&&g<s.length;g++)"Bandw","idth "," ","T","op"," ","obj","ec","t","ob","j","e","ct",(l=s[g])&&l[a]&&((h=l[o])&&"object"==typeof h&&(h=h.Close),(c=l[a])&&"object"==typeof c&&(c=c[t.subField]),(u=l[r])&&"object"==typeof u&&(u=u[t.subField]),p.L4o(88),d=p.S4o(u,i,n),p.L4o(0),l[t.type+" Top "+t.name]=p.S4o(d,c),p.A4o(8),l[t.type+" Bottom "+t.name]=p.S4o(c,d),l[t.type+" Median "+t.name]=c,l["Bandwidth "+t.name]=c?200*d/c:0,p.A4o(125),l["%b "+t.name]=p.S4o(50,1,c,h,d))},t.Studies.displayChannel=function(e,i,a){var r,n,s,o=F;if(i.inputs["Channel Fill"]){for(var l in r={panelName:i.panel},i.outputs)if("C","ha","nn","el","H","ig","h","Top"==(n=l.split(" ").pop())||"High"==n){o.L4o(126);o.i4o(3,4284,5780,12,7);o.A4o(0);var h=o.i4o(7,9233);o.L4o(56);var c=o.i4o(1050,2100,1048);o.A4o(70);var u=o.S4o(5073,34,10,17);o.L4o(13);var d=o.i4o(7,4,35,6);r.topBand=l+(150.59>=h?240.03:8050!=c?u==="564.23"*d?"E":" ":"b")+i.name}else if("Bottom"==n||"Low"==n){o.A4o(22);o.i4o(173,13,346,370);o.A4o(92);var p=o.S4o(18,1120,13,6723);o.L4o(0);o.S4o(2,499);o.A4o(96);o.S4o(13,11276,19,12,1553);r.bottomBand=l+(110.99!==p?" ":"r")+i.name}else"Median"!=n&&"Channel"!=n||(r.color=t.Studies.determineColor(i.outputs[l]));i.parameters&&i.parameters.opacity?r.opacity=i.parameters.opacity:r.opacity=.2,s=e.panels[i.panel],r.skipTransform=s.name!=i.chart.name,r.yAxis=i.getYAxis(e),!i.highlight&&e.highlightedDraggable&&(r.opacity*=.3),t.prepareChannelFill(e,r)}t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.initAnchorHandle=function(e,t){var{handle:i}=t;i||(e.controls.anchorHandles||(e.controls.anchorHandles={}),e.controls.anchorHandles[t.uniqueId]?({handle:i}=e.controls.anchorHandles[t.uniqueId]):("d","iv",(i=document.createElement("div")).classList.add("stx_anchor_handle"),i.setAttribute(t.uniqueId,""),e.controls.anchorHandles[t.uniqueId]={handle:i,sd:t},e.controls.chartControls.parentElement.appendChild(i)),t.anchorHandle=i)},t.Studies.removeAnchorHandle=function(e,t){var{handle:i}=(e.controls.anchorHandles||{})[t.uniqueId]||{};i&&(delete e.controls.anchorHandles[t.uniqueId],i.remove())},t.Studies.repositionAnchor=function(e,a){var r,n,s,o,l,h,{currentAnchorTime:c,uniqueId:u}=a,{hoverTick:d}=e.repositioningAnchorSelector||{},{dataSet:p,market:g}=e.chart;e.controls.anchorHandles||(e.controls.anchorHandles={});var{anchorHandles:f}=e.controls;if(r={},d||0===d){if("Anchor"," Dat","e",d>=p.length)return;if(n=!a.inputs.hasOwnProperty("Anchor Date"),s=p[d].DT,o=t.Studies.getMarketOffset({stx:e,localQuoteDate:s,shiftToDateBoundary:!0}),c&&n&&new Date(s.getTime()+o).getDate()!==new Date(c.getTime()+o).getDate())return;g.market_def&&g.market_def.market_tz&&(s=new i.Date(s,g.market_def.market_tz)),l=!n&&t.dateToStr(s,"YYYY-MM-dd"),r={"Anchor Time":t.dateToStr(s,"HH:mm:ss")},l&&(r["Anchor Date"]=l)}h=t.Studies.replaceStudy(e,a.inputs.id,a.type,Object.assign(a.inputs,r),a.outputs,a.parameters,a.panel),f[u]&&(f[u].sd=h),e.draw()},t.Studies.cancelRepositionAnchor=function(e){var{sd:i,tapToAdd:a}=e.repositioningAnchorSelector||{};i&&(a&&t.Studies.removeStudy(e,i),F.V0f(),e.repositioningAnchorSelector=null,e.draw())},t.Studies.displayAnchorHandleAndLine=function(e,a,r){var n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S=F;n=(e.repositioningAnchorSelector||{}).sd===a;var{hoverTick:C}=n&&e.repositioningAnchorSelector,{chart:D,panels:A,cy:w}=e,{market:k={},symbol:T}=D;s=A[a.panel];var{top:M,right:P,left:_,height:L,subholder:E}=s,{bottom:H}=s.yAxis,{inputs:O,anchorHandle:I,currentAnchorTime:z,lineWidth:N=1}=a,{backgroundColor:V,borderLeftColor:R}=e.canvasStyle("stx_anchor_handle"),[j,Y,W=0]=(O["Anchor Time"]||"").split(":"),[U,B,X]=(O["Anchor Date"]||"").split("-");o=!O["Anchor Date"],l=t.getFn("Market.Symbology.isForexSymbol")(T),h=(C||0===C)&&(e.chart.dataSet[C]||{}).DT,c=t.Studies.getMarketOffset({stx:e,localQuoteDate:r[r.length-1].DT,shiftToDateBoundary:!0}),u=z&&h&&o&&new Date(h.getTime()+c).getDate()!==new Date(z.getTime()+c).getDate();var{floatDate:q,anchorHandles:Q={}}=e.controls;d=Q[a.uniqueId]||{};var{highlighted:Z}=d,[G,J]=k.getNormalOpen().split(":").map((e=>(S.V0f(),parseInt(e))));p=t=>{var i;return i=t?e.tickFromDate(t,null,null,!0):C,[e.pixelFromTick(i,D),i]},g={y0:M,y1:H,type:"line",confineToPanel:s};var[K]=p();if(K&&(K-=.5,e.plotLine(Object.assign(g,{x0:K,x1:K,color:u?R:V,pattern:[6,6],lineWidth:1,opacity:u?.5:1})),t.efficientDOMUpdate(q.style,"visibility",""),e.updateChartAccessories()),I){"so","l","id","Anchor D","ate",f=o?new Date(r[r.length-1].DT):t.strToDate(O["Anchor Date"]),k.market_def&&k.market_def.market_tz&&(f=new i.Date(f,k.market_def.market_tz)),o||(S.A4o(127),f.setFullYear(U,S.i4o(B,"1"),X)),f.setHours(j,Y,W),(m=l&&(f.getHours()>G||f.getHours()===G&&f.getMinutes()>=J))&&f.setDate(f.getDate()-1);var[$,ee]=p(f);(y=new Date(f)).setHours(...k.getNormalClose().split(":")),m&&y.setDate(y.getDate()+1);var[te]=y&&p(y)||[];if(o&&($>P||te>P)){v=new Date(f);do{v.setDate(v.getDate()-1)}while(k&&!k.isMarketDate(v));var[ie,ae]=p(v);ie>_&&(f=v,$=ie,ee=ae)}if($-=.5,e.plotLine(Object.assign(g,{x0:$,x1:$,color:V,pattern:"solid",lineWidth:N,opacity:Z||a.highlight?1:.5})),d.currentPixel=$,Z){"p","x",I.style.display="",S.L4o(119);var re=S.S4o(2,28,14,19);S.A4o(22);var ne=S.S4o(4,3,20,2);S.L4o(128);var se=S.i4o(4,4,11,2);I.style.height=Math.max(Math.min(re,L/ne),se)+"px",b=I.getBoundingClientRect(),x=Math.max(Math.min(w-b.height/2,H-3-b.height),M+3),S.A4o(0),I.style.top=S.i4o("px",x),S.L4o(129);var oe=S.i4o(6,1,12,0,20);I.style.left=(C||0===C?K:$)-b.width/oe+"px",E.style.cursor="ew-resize"}else I.style.display="none",E.style.cursor="auto";a.currentAnchorTime=f,a.currentAnchorTick=ee}},t.Studies.studyScriptLibrary={},t.Studies.studyLibrary=t.Studies.studyLibrary||{},t.extend(t.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!0,calculateFN:t.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:t.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"True Range":{name:"True Range",calculateFN:t.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!0},seriesFN:t.Studies.createVolumeChart,calculateFN:t.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}}})},C=e=>{var t;F.V0f(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.Driver?(t.ChartEngine.Driver.Lookup=function(e){},t.ChartEngine.Driver.Lookup.prototype.acceptText=function(e,t,i,a){F.D0f(),this.cb}):("symbolLook","upBase feature requires first activ","ating quoteFeed"," feature.",console.error("symbolLookupBase feature requires first activating quoteFeed feature."))},D=e=>{var t;F.V0f(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ThemeHelper=t.ThemeHelper||function(e){var i,a;this.params=e,a="#FF",a+="FFF",a+="F",(i=e.stx).chart.container&&(a=getComputedStyle(i.chart.container).backgroundColor,t.isTransparent(a)&&(a=i.containerColor)),this.settings.chart.Background.color=t.hexToRgba(a),this.settings.chart["Grid Lines"].color=t.hexToRgba(i.canvasStyle("stx_grid").color),this.settings.chart["Grid Dividers"].color=t.hexToRgba(i.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=t.hexToRgba(i.canvasStyle("stx_xaxis").color),this.settings.chartTypes["Candle/Bar"].up.color=t.hexToRgba(i.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=t.hexToRgba(i.canvasStyle("stx_candle_down").color),this.settings.chartTypes["Candle/Bar"].up.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_even").color),this.settings.chartTypes["Candle/Bar"].up.border=t.hexToRgba(i.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=t.hexToRgba(i.canvasStyle("stx_candle_down").borderLeftColor),t.isTransparent(i.canvasStyle("stx_candle_up").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].up.border=null),t.isTransparent(i.canvasStyle("stx_candle_down").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].down.border=null),this.settings.chartTypes.Line.color=t.hexToRgba(i.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=t.hexToRgba(i.canvasStyle("stx_mountain_chart").backgroundColor),this.settings.chartTypes.Mountain.basecolor=t.hexToRgba(i.canvasStyle("stx_mountain_chart").color)},t.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},t.ThemeHelper.prototype.update=function(e){var i,a;function r(t,a,r){for(var n in i[t])e.setStyle(n,a,r)}e||(e=this.params.stx),i={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},e.chart.container.style.backgroundColor=this.settings.chart.Background.color,e.defaultColor="",r("stx_grid","color",this.settings.chart["Grid Lines"].color),r("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color),r("stx_xaxis","color",this.settings.chart["Axis Text"].color),(a=this.settings.chartTypes["Candle/Bar"]).even||(a.even={color:null,wick:t.hexToRgba(e.canvasStyle("stx_candle_shadow_even").color),border:null}),r("stx_candle_up","color",a.up.color),r("stx_candle_down","color",a.down.color),r("stx_candle_even","color",a.even.color),r("stx_shadow_up","color",a.up.wick),r("stx_shadow_down","color",a.down.wick),r("stx_shadow_even","color",a.even.wick),e.setStyle("stx_candle_up","borderLeftColor",a.up.border),e.setStyle("stx_candle_down","borderLeftColor",a.down.border),r("stx_line_chart","color",this.settings.chartTypes.Line.color),e.setStyle("stx_mountain_chart","borderTopColor",t.hexToRgba(this.settings.chartTypes.Mountain.color,1)),e.setStyle("stx_mountain_chart","backgroundColor",t.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),e.setStyle("stx_mountain_chart","color",t.hexToRgba(this.settings.chartTypes.Mountain.basecolor,.01)),e.draw()},t.ChartEngine.prototype.setThemeSettings=function(e){var i;F.V0f(),this.styles={},this.chart.container.style.backgroundColor="",this.defaultColor="",e&&((i=new t.ThemeHelper({stx:this})).settings=e,i.update()),this.updateListeners("theme"),this.changeOccurred("theme"),this.displayInitialized&&(this.headsUpHR(),this.clearPixelCache(),this.updateListeners("theme"),this.draw())}},A=e=>{var t,i;F.D0f(),t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":"Africa/Casablanca","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":"Europe/Moscow","(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":"Asia/Kamchatka","(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":"Pacific/Chatham","(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"},function(){var e,a,r,n,s,o,l,h,c,u;F.V0f(),e=("undefined"!=typeof window?window:null)||("undefined"!=typeof global?global:{}),i.VERSION="0.4.11",a=e.$||e.jQuery||e.Zepto,r=e.fleegix,n=i.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=i.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],o={},l={},h={};for(var d=0;d<s.length;d++)o[s[d].substr(0,3)]=d;for(d=0;d<n.length;d++)l[n[d].substr(0,3)]=d;Array.prototype.indexOf,c=function(e,t){var i,a,r,n=F;if("numbe","r","number"!=typeof e)throw n.A4o(0),n.S4o(e,"not a number: ");if(n.D0f(),n.A4o(76),i=n.i4o(1e3,e),r=(a=e.toString()).length,i&&r>t)return n.L4o(8),a.substr(n.S4o(r,t),r);for(a=[a];r<t;)a.unshift("0"),r++;return a.join("")},u=function(e){if("GE","T","g","e","t","und","efined","unde","fined","URL must be sp","ecified",e){if(!e.url)throw new Error("URL must be specified");if("async"in e||(e.async=!0),!(r&&void 0!==r.xhr||a&&void 0!==a.ajax))throw"Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or ","define ","your own transport mechanism for downloa","ding zone files.",new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return e.async?r&&r.xhr?r.xhr.send({url:e.url,method:"get",handleSuccess:e.success,handleErr:e.error}):a.ajax({url:e.url,dataType:"text",method:"GET",error:e.error,success:e.success}):("tex","t",r&&r.xhr?r.xhr.doReq({url:e.url,async:!1}):a.ajax({url:e.url,async:!1,dataType:"text"}).responseText)}},i.ruleCache={},i.Date=function(){var e,t,a,r,n,s,o,l,h;if(e="str",e+="ing",t="s",t+="tr",t+="in",t+="g",this===i)throw"timezoneJS.Date object must be constructed with 'new'";switch(a=Array.prototype.slice.apply(arguments),r=null,n=null,s=[],o=!1,"[object Array]"===Object.prototype.toString.call(a[0])&&(F.L4o(8),a=a[F.i4o("0",0)]),typeof a[a.length-1]===t&&(o=Date.parse(a[a.length-1].replace(/GMT[+-]\d+/,"")),(isNaN(o)||null===o)&&(n=a.pop())),l=!1,a.length){case 0:r=new Date;break;case 1:r=new Date(a[0]),typeof a[0]==e&&-1==a[0].search(/[+-][0-9]{4}/)&&-1==a[0].search(/Z/)&&-1==a[0].search(/T/)&&(l=!0);break;case 2:r=new Date(a[0],a[1]),l=!0;break;default:for(var c=0;c<7;c++)s[c]=a[c]||0;r=new Date(s[0],s[1],s[2],s[3],s[4],s[5],s[6]),l=!0}if(isNaN(r.getTime()))throw h="Inv",h+="alid date",new Error(h);this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=n||null,l?this.setFromDateObjProxy(r):this.setFromTimeProxy(r.getTime(),n)},t.extend(i.Date.prototype,{getDate:function(){return this.date},getDay:function(){return F.D0f(),this._day},getFullYear:function(){return this.year},getMonth:function(){return F.D0f(),this.month},getYear:function(){F.L4o(65);var e=F.i4o(7,30400,28495,2);return this.year-e},getHours:function(){return F.D0f(),this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return F.D0f(),this.minutes},getSeconds:function(){return F.V0f(),this.seconds},getUTCDate:function(){return F.V0f(),this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return F.V0f(),this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return F.V0f(),this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return F.V0f(),this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return F.D0f(),this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return F.V0f(),this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return F.D0f(),this._timeProxy+60*this.getTimezoneOffset()*1e3},getTimezone:function(){return F.D0f(),this.timezone},getTimezoneOffset:function(){return F.V0f(),this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return F.V0f(),this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var e;return F.V0f(),this._useCache?this._tzInfo:(this.timezone?("E","tc/","UTC",e="Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:i.timezone.getTzInfo(this._timeProxy,this.timezone)):e={tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=e,this._useCache=!0,e)},getUTCDateProxy:function(){var e;return e=new Date(this._timeProxy),F.V0f(),e.setUTCMinutes(e.getUTCMinutes()+this.getTimezoneOffset()),e},setDate:function(e){return this.setAttribute("date",e),F.V0f(),this.getTime()},setFullYear:function(e,t,i){return"y","e","ar",F.D0f(),void 0!==i&&this.setAttribute("date",1),this.setAttribute("year",e),void 0!==t&&this.setAttribute("month",t),void 0!==i&&this.setAttribute("date",i),this.getTime()},setMonth:function(e,t){return this.setAttribute("month",e),void 0!==t&&this.setAttribute("date",t),this.getTime()},setYear:function(e){return"y","e","ar",0<=(e=Number(e))&&e<=99&&(F.L4o(27),e+=F.i4o("1900",2147483647)),this.setUTCAttribute("year",e),this.getTime()},setHours:function(e,t,i,a){return this.setAttribute("hours",e),void 0!==t&&this.setAttribute("minutes",t),void 0!==i&&this.setAttribute("seconds",i),F.D0f(),void 0!==a&&("mill","iseconds",this.setAttribute("milliseconds",a)),this.getTime()},setMinutes:function(e,t,i){return this.setAttribute("minutes",e),F.D0f(),void 0!==t&&this.setAttribute("seconds",t),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(e,t){return this.setAttribute("seconds",e),void 0!==t&&("millise","cond","s",this.setAttribute("milliseconds",t)),this.getTime()},setMilliseconds:function(e){return F.D0f(),this.setAttribute("milliseconds",e),this.getTime()},setTime:function(e){if(isNaN(e))throw"Units must ","be ","a ","number.",new Error("Units must be a number.");return this.setFromTimeProxy(e,this.timezone),this.getTime()},setUTCFullYear:function(e,t,i){return void 0!==i&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",e),void 0!==t&&this.setUTCAttribute("month",t),F.V0f(),void 0!==i&&("da","te",this.setUTCAttribute("date",i)),this.getTime()},setUTCMonth:function(e,t){return F.V0f(),this.setUTCAttribute("month",e),void 0!==t&&this.setUTCAttribute("date",t),this.getTime()},setUTCDate:function(e){return F.D0f(),"d","a","te",this.setUTCAttribute("date",e),this.getTime()},setUTCHours:function(e,t,i,a){return"h","o","ur","s",this.setUTCAttribute("hours",e),void 0!==t&&this.setUTCAttribute("minutes",t),void 0!==i&&this.setUTCAttribute("seconds",i),void 0!==a&&this.setUTCAttribute("milliseconds",a),this.getTime()},setUTCMinutes:function(e,t,i){return F.D0f(),this.setUTCAttribute("minutes",e),void 0!==t&&this.setUTCAttribute("seconds",t),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(e,t){return"s","econds",this.setUTCAttribute("seconds",e),void 0!==t&&("m","il","lisecond","s",this.setUTCAttribute("milliseconds",t)),this.getTime()},setUTCMilliseconds:function(e){return F.D0f(),"millis","e","c","onds",this.setUTCAttribute("milliseconds",e),this.getTime()},setFromDateObjProxy:function(e){this.year=e.getFullYear(),this.month=e.getMonth(),this.date=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this._day=e.getDay(),this._dateProxy=e,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(e,t){var a,r;F.V0f(),a=new Date(e),r=t?i.timezone.getTzInfo(e,t,!0).tzOffset:a.getTimezoneOffset(),a.setTime(e+6e4*(a.getTimezoneOffset()-r)),this.setFromDateObjProxy(a)},setAttribute:function(e,t){var i;if("s","e","t","F","ull",F.D0f(),"Ye","ar",isNaN(t))throw new Error("Units must be a number.");(i=this._dateProxy)["set"+("year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1))](t),this.setFromDateObjProxy(i)},setUTCAttribute:function(e,t){var i,a;if("se","tUTC",isNaN(t))throw"Units must ","be a number.",new Error("Units must be a number.");i="year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1),(a=this.getUTCDateProxy())["setUTC"+i](t),a.setUTCMinutes(a.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(a.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(e){var t;t=this.getTimezoneInfo().tzOffset,F.V0f(),this.timezone=e,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+t)},removeTimezone:function(){this.timezone=null,F.D0f(),this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new i.Date(this.getTime(),this.timezone):new i.Date(this.getTime())},toGMTString:function(){return"E","tc","/GMT",F.V0f(),this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return"E",F.V0f(),"tc/U","TC",this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z"},toJSON:function(){return F.D0f(),this.toISOString()},toDateString:function(){return F.D0f(),this.toString("EEE MMM dd yyyy")},toTimeString:function(){return this.toString("H:mm k")},toString:function(e,t){var a,r,s,o;return e||(e="yyyy-MM-ddTHH:mm:ss.SSS"),a=e,r=t?i.timezone.getTzInfo(this.getTime(),t):this.getTimezoneInfo(),s=this,F.D0f(),t&&(s=this.clone()).setTimezone(t),o=s.getHours(),a.replace(/a+/g,(function(){return F.D0f(),"k"})).replace(/y+/g,(function(e){return F.V0f(),c(s.getFullYear(),e.length)})).replace(/d+/g,(function(e){return F.D0f(),c(s.getDate(),e.length)})).replace(/m+/g,(function(e){return c(s.getMinutes(),e.length)})).replace(/s+/g,(function(e){return F.V0f(),c(s.getSeconds(),e.length)})).replace(/S+/g,(function(e){return F.D0f(),c(s.getMilliseconds(),e.length)})).replace(/h+/g,(function(e){return c(o%12==0?12:o%12,e.length)})).replace(/M+/g,(function(e){var t,a;return F.D0f(),t=s.getMonth(),(a=e.length)>3?i.Months[t]:a>2?i.Months[t].substring(0,a):(F.L4o(0),c(F.i4o(1,t),a))})).replace(/k+/g,(function(){return o>=12?("P","M",o>12&&(F.A4o(1),o-=F.S4o(4,"12")),"PM"):"AM"})).replace(/H+/g,(function(e){return F.V0f(),c(o,e.length)})).replace(/E+/g,(function(e){return F.V0f(),n[s.getDay()].substring(0,e.length)})).replace(/Z+/gi,(function(){return r.tzAbbr}))},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(e,t,i){var a,r,n=F;++t>12&&(n.A4o(9),a=parseInt(n.S4o(12,t),10),n.A4o(74),t=n.S4o(12,t),e+=a),t<=2&&(e-=1,n.L4o(27),t+=n.S4o("12",2147483647)),n.L4o(131),a=Math.floor(n.i4o(e,0,"100")),n.A4o(8);var s=n.i4o(32,30);n.A4o(8);var o=n.S4o(8,4);r=s-a+Math.floor(a/o),n.A4o(0);var l=n.S4o(4402,314);n.L4o(132);var h=n.i4o(16,3,3,14,9);n.L4o(28);var c=n.i4o(7,11,1506);return Math.floor(365.25*(e+l))+Math.floor(30.6001*(t+h))+i+r-c},getLocalOffset:function(){return F.D0f(),this._dateProxy.getTimezoneOffset()}},!0),i.timezone=new function(){var e,t,a;function r(e){var t,i,a=F;t=c(e),i="-"===e.charAt(0)?-1:1,a.A4o(0);var r=a.S4o(56,4);a.A4o(0);var n=a.S4o(857,143);return t=i*(((60*t[0]+t[1])*r+t[2])*n),a.L4o(133),a.S4o(1e3,t,60)}function n(e,t){return F.A4o(8),-Math.ceil(F.S4o(t,e))}function s(t,i){var a,r,n,o,l=F;for("nu","mbe","r",a="number"==typeof t?t:new Date(+t).getTime(),r=i,n=e.zones[r];"string"==typeof n;)r=n,n=e.zones[r];if(l.V0f(),!n){if(!e.loadedZones.backward)return"backwar","d",e.loadZoneFile("backward"),s(t,i);if(r&&r!==i)return e.lazyLoadZoneFiles(r),s(t,r);p(r)}if(0===n.length)throw"No Zone f","oun","d for '",l.A4o(49),new Error(l.S4o(i,"No Zone found for '","' on ",t));for(var h=n.length-1;h>=0&&!((o=n[h])[3]&&a>o[3]);h--);return l.L4o(135),n[l.S4o("1",h)]}function c(e){var t,i;return t=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,(i=e.match(t))[1]=parseInt(i[1],10),F.V0f(),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function d(i){var r,n,s,o;return(r=a[i])?r:(n=i.split("/")[0],F.V0f(),(s=t[n])?s:"string"==typeof(o=e.zones[i])?d(o):e.loadedZones.backward?void p(i):(e.loadZoneFile("backward"),d(i)))}function p(e){throw"' is either inco","rrect, or not loaded in the timezone registry.",F.A4o(28),new Error(F.S4o(e,"' is either incorrect, or not loaded in the timezone registry.","Timezone '"))}function g(e){var t,i,a,r,n=F;if(e[3])return t=parseInt(e[3],10),i=11,n.A4o(2),n.D0f(),a=n.i4o(1,"31"),e[4]&&(i=o[e[4].substr(0,3)],a=parseInt(e[5],10)||1),r=e[6]?c(e[6]):[0,0,0],n.A4o(8),[t,i,a,r[0],r[1],r[n.i4o("2",0)]]}e=this,t={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},a={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"},this.zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=d,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(e){var t,i;for(var a in"nor","thamerica",t={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",e)t[a]=e[a];return this.loadZoneFiles(i,t)},this.loadZoneFiles=function(e,t){var i,a;if(a=0,"string"==typeof e)return this.loadZoneFile(e,t);i=(t=t||{}).callback,t.callback=function(){++a===e.length&&"function"==typeof i&&i()};for(var r=0;r<e.length;r++)this.loadZoneFile(e[r],t)},this.loadZoneFile=function(t,i){if(void 0===this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");var a,r,n;if(!this.loadedZones[t])return F.D0f(),this.loadedZones[t]=!0,a=t,r=i,F.D0f(),n=e.zoneFileBasePath+"/"+a,r&&r.async?e.transport({async:!0,url:n,success:function(t){return F.D0f(),e.parseZones(t)&&"function"==typeof r.callback&&r.callback()},error:function(){throw F.D0f(),F.L4o(28),new Error(F.S4o(n,"' zoneinfo files","Error retrieving '"))}}):e.parseZones(e.transport({url:n,async:!1}))},this.loadZoneJSONData=function(t,i){var a;F.D0f(),a=function(t){for(var i in(t=JSON.parse(t)).zones)e.zones[i]=t.zones[i];for(var a in t.rules)e.rules[a]=t.rules[a]};for(var r=1;-462141396!==F.V9R(r.toString(),r.toString().length,51210);r++)return i?a(e.transport({url:t,async:!0})):e.transport({url:t,success:a});if(-1462372798!==F.j9R(2..toString(),2..toString().length,79659))return i?a(e.transport({url:t,async:!1})):e.transport({url:t,success:a})},this.loadZoneDataFromObject=function(t){if(t){for(var i in t.zones)e.zones[i]=t.zones[i];for(var a in t.rules)e.rules[a]=t.rules[a]}},this.getAllZones=function(){var e;for(var t in e=[],this.zones)e.push(t);return F.V0f(),e.sort()},this.parseZones=function(t){var i,a,n,s,o,l=F;if(!t)return!1;i=t.split("\n"),l.V0f(),a=[],s=null,o=null;for(var h=0;h<i.length;h++)if((n=i[h]).match(/^\s/)&&("Zon","e ",l.A4o(28),n=l.S4o(s,n,"Zone ")),(n=n.split("#")[0]).length>3)switch((a=n.split(/\s+/)).shift()){case"Zone":if(s=a.shift(),e.zones[s]||(e.zones[s]=[]),a.length<3)break;a.splice(3,a.length,g(a)),a[3]&&(a[3]=Date.UTC.apply(null,a[3])),a[0]=-r(a[0]),e.zones[s].push(a);break;case"Rule":o=a.shift(),e.rules[o]||(e.rules[o]=[]),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||a[1],a[5]=c(a[5]),l.L4o(8),a[l.S4o("6",0)]=r(a[6]),e.rules[o].push(a);break;case"Link":if(e.zones[a[1]]){l.L4o(0);var u=l.S4o(1,0);throw new Error("Error with Link "+a[u]+". Cannot create link of a preexisted zone.")}isNaN(a[0])?e.zones[a[1]]=a[0]:(l.A4o(27),e.zones[a[l.i4o("1",2147483647)]]=parseInt(a[0],10))}return!0},this.transport=u,this.getTzInfo=function(t,a,r){var c,u,d,p,g,f;return this.lazyLoadZoneFiles(a),u=+(c=s(t,a))[0],F.V0f(),(d=function(t,a,r,s){var c,u,d,p,g,f,m,y,v,b,x,S,C,D=F;if(c="number"==typeof t?new Date(t):t,u=a[1],d=a[0],p=u.match(/^([0-9]):([0-9][0-9])$/)){D.L4o(57);var A=D.S4o(6,24,14,17);D.A4o(46);var w=D.i4o(3,5,8,80,11);D.L4o(0);var k=D.i4o(55,5);D.L4o(134);var T=D.i4o(11,9,6,1,24);D.A4o(122);var M=D.i4o(13,2,6);return[-1e6,"max","-","Jan",1,[0,0,0],parseInt(p[A],w)*k+parseInt(p[T],M),"-"]}if(g=function(e,t,i){var a;if(a=0,"u"===t||"g"===t||"z"===t)a=0;else if("s"===t)a=d;else{if("w"!==t&&t)throw D.A4o(0),new Error(D.i4o(t,"unknown type "));a=n(d,i[6])}return D.L4o(2),a*=D.S4o(1e3,60),new Date(e.getTime()+a)},f=function(e,t){var i,a,r,n,s,c,u;return D.L4o(60),i=e[D.i4o("0",0)],D.L4o(1),r=(a=e[D.i4o(0,"1")])[5],h[i]||(h[i]={}),h[i][a]?n=h[i][a]:(isNaN(a[4])?("last"===a[4].substr(0,4)?(n=new Date(Date.UTC(i,o[a[3]]+1,1,r[0]-24,r[1],r[2],0)),s=l[a[4].substr(4,3)],c="<="):(n=new Date(Date.UTC(i,o[a[3]],a[4].substr(5),r[0],r[1],r[2],0)),s=l[a[4].substr(0,3)],c=a[4].substr(3,2)),u=n.getUTCDay(),">="===c?n.setUTCDate(n.getUTCDate()+(s-u+(s<u?7:0))):n.setUTCDate(n.getUTCDate()+(s-u-(s>u?7:0)))):n=new Date(Date.UTC(i,o[a[3]],a[4],r[0],r[1],r[2],0)),h[i][a]=n),t&&(n=g(n,r[3],t)),n},m=function(e,t){var i;i=[];for(var a=0;t&&a<t.length;a++)t[a][0]<=e&&(t[a][1]>=e||t[a][0]===e&&"only"===t[a][1]||"max"===t[a][1])&&i.push([e,t[a]]);return i},y=function(e,t,i){var a,n;return e instanceof Date?i&&(e=g(e,r?"u":"w",i)):(a=e[0],n=e[1],e=!i&&h[a]&&h[a][n]?h[a][n]:f(e,i)),t instanceof Date?i&&(t=g(t,r?"u":"w",i)):(a=t[0],n=t[1],t=!i&&h[a]&&h[a][n]?h[a][n]:f(t,i)),e=Number(e),t=Number(t),D.L4o(8),D.V0f(),D.i4o(e,t)},v=c.getUTCFullYear(),(x=i.ruleCache[s])||(x=i.ruleCache[s]={}),(b=x[v])||(D.A4o(8),(b=(b=m(D.i4o(v,1),e.rules[u])).concat(m(v,e.rules[u]))).sort(y),x[v]=b),!b||!b.length)return null;for(var P=b.length-1;P>=0;P--)if(P>0?(D.L4o(8),S=b[D.i4o(P,1)][1]):S=null,(C=b[P])[2]||(C[2]=f(C,S)),y(c,C,S)>=0)return C[1];return null}(t,c,r,a))&&(u=n(u,d[6])),p=d,{tzOffset:u,tzAbbr:(g=c[2]).indexOf("%s")>-1?(f=p?"-"===p[7]?"":p[7]:"S",g.replace("%s",f)):g.indexOf("/")>-1?g.split("/",2)[p&&p[6]?1:0]:g}},this.lazyLoadZoneFiles=function(e){var t;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(t=d(e)))throw new Error("Not a valid timezone ID.");this.loadZoneFiles(t)}}}}.call("undefined"!=typeof window?window:void 0),i.timezone.loadingScheme=i.timezone.loadingSchemes.MANUAL_LOAD,i.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","+00/+01",15406956e5],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,"Namibia","%s",null]],"Africa/Johannesburg":[[-120,"","SAST",null]],"Africa/Tunis":[[-60,"","CE%sT",null]],"Antarctica/Troll":[[0,"Troll","%s",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,"","+04/+05",null]],"Asia/Dhaka":[[-360,"","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"","C%sT",null]],"Asia/Hong_Kong":[[-480,"","HK%sT",null]],"Asia/Taipei":[[-480,"","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"","J%sT",null]],"Asia/Amman":[[-120,"Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"","K%sT",null]],"Asia/Pyongyang":[[-510,"-","KST",15254766e5],[-540,"-","KST",null]],"Asia/Beirut":[[-120,"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-345,"-","+0545",null]],"Asia/Karachi":[[-300,"","PK%sT",null]],"Asia/Hebron":[[-120,"Palestine","EE%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Damascus":[[-120,"Syria","EE%sT",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"","AC%sT",null]],"Australia/Perth":[[-480,"","AW%sT",null]],"Australia/Eucla":[[-525,"AW","+0845/+0945",null]],"Australia/Brisbane":[[-600,"","AE%sT",null]],"Australia/Adelaide":[[-570,"AS","AC%sT",null]],"Australia/Hobart":[[-600,"AT","AE%sT",null]],"Australia/Melbourne":[[-600,"AV","AE%sT",null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Australia/Lord_Howe":[[-630,"LH","+1030/+11",null]],"Pacific/Fiji":[[-720,"Fiji","+12/+13",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-840,"-","+14",null]],"Pacific/Noumea":[[-660,"","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[[660,"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,"","+13/+14",null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:"Etc/UTC","Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[0,"EU","WE%sT",null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,"C-Eur","ME%sT",null]],EET:[[-120,"EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"America/Thule":[[240,"Thule","A%sT",null]],"Europe/Helsinki":[[-120,"EU","EE%sT",null]],"Europe/Paris":[[-60,"EU","CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-120,"-","EET",null]],"Europe/Moscow":[[-180,"-","MSK",null]],"Europe/Volgograd":[[-180,"-","+03",1540692e6],[-240,"-","+04",16090344e5],[-180,"-","+03",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-360,"-","+06",null]],"Asia/Novosibirsk":[[-420,"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,"-","+07",null]],"Asia/Irkutsk":[[-480,"-","+08",null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-600,"-","+10",null]],"Asia/Magadan":[[-660,"-","+11",null]],"Asia/Srednekolymsk":[[-660,"-","+11",null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-180,"-","+03",null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[540,"US","AK%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,"-","MST",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,"Canada","A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,"Mexico","M%sT",null]],"America/Costa_Rica":[[360,"","C%sT",null]],"America/Havana":[[300,"Cuba","C%sT",null]],"America/Port-au-Prince":[[300,"Haiti","E%sT",null]],"America/Panama":[[300,"-","EST",null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,"Chile","-04/-03",null]],"America/Punta_Arenas":[[180,"-","-03",null]],"America/Bogota":[[300,"","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,"-","-02",null]],"America/Montevideo":[[180,"","-03/-02",null]],"America/Caracas":[[240,"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Europe/Simferopol":"Europe/Moscow","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Morocco:[[2013,2018,"-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2018,"-","Mar","lastSun",[2,0,0,null],60,"-"],[2017,"only","-","May","21",[3,0,0,null],0,"-"],[2017,"only","-","Jul","2",[2,0,0,null],60,"-"],[2018,"only","-","May","13",[3,0,0,null],0,"-"],[2018,"only","-","Jun","17",[2,0,0,null],60,"-"],[2019,"only","-","May","5",[3,0,0,null],-60,"-"],[2019,"only","-","Jun","9",[2,0,0,null],0,"-"],[2020,"only","-","Apr","19",[3,0,0,null],-60,"-"],[2020,"only","-","May","31",[2,0,0,null],0,"-"],[2021,"only","-","Apr","11",[3,0,0,null],-60,"-"],[2021,"only","-","May","16",[2,0,0,null],0,"-"],[2022,"only","-","Mar","27",[3,0,0,null],-60,"-"],[2022,"only","-","May","8",[2,0,0,null],0,"-"],[2023,"only","-","Mar","19",[3,0,0,null],-60,"-"],[2023,"only","-","Apr","30",[2,0,0,null],0,"-"],[2024,"only","-","Mar","10",[3,0,0,null],-60,"-"],[2024,"only","-","Apr","14",[2,0,0,null],0,"-"],[2025,"only","-","Feb","23",[3,0,0,null],-60,"-"],[2025,"only","-","Apr","6",[2,0,0,null],0,"-"]],Namibia:[[1994,2017,"-","Sep","Sun>=1",[2,0,0,null],0,"CAT"],[1995,2017,"-","Apr","Sun>=1",[2,0,0,null],-60,"WAT"]],Troll:[[2005,"max","-","Mar","lastSun",[1,0,0,"u"],120,"+02"],[2004,"max","-","Oct","lastSun",[1,0,0,"u"],0,"+00"]],EUAsia:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],Iran:[[2017,2019,"-","Mar","21",[24,0,0,null],60,"-"],[2017,2019,"-","Sep","21",[24,0,0,null],0,"-"],[2020,"only","-","Mar","20",[24,0,0,null],60,"-"],[2020,"only","-","Sep","20",[24,0,0,null],0,"-"],[2021,2023,"-","Mar","21",[24,0,0,null],60,"-"],[2021,2023,"-","Sep","21",[24,0,0,null],0,"-"],[2024,"only","-","Mar","20",[24,0,0,null],60,"-"],[2024,"only","-","Sep","20",[24,0,0,null],0,"-"],[2025,2027,"-","Mar","21",[24,0,0,null],60,"-"],[2025,2027,"-","Sep","21",[24,0,0,null],0,"-"]],Zion:[[2013,"max","-","Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Jordan:[[2014,"max","-","Mar","lastThu",[24,0,0,null],60,"S"],[2014,"max","-","Oct","lastFri",[0,0,0,"s"],0,"-"]],Lebanon:[[1993,"max","-","Mar","lastSun",[0,0,0,null],60,"S"],[1999,"max","-","Oct","lastSun",[0,0,0,null],0,"-"]],Palestine:[[2016,2018,"-","Mar","Sat>=24",[1,0,0,null],60,"S"],[2016,2018,"-","Oct","Sat>=24",[1,0,0,null],0,"-"],[2019,"only","-","Mar","29",[0,0,0,null],60,"S"],[2019,"only","-","Oct","Sat>=24",[0,0,0,null],60,"-"],[2020,"max","-","Mar","Sat>=24",[0,0,0,null],60,"S"],[2020,"max","-","Oct","Sat>=24",[1,0,0,null],60,"-"]],Syria:[[2012,"max","-","Mar","lastFri",[0,0,0,null],60,"S"],[2009,"max","-","Oct","lastFri",[0,0,0,null],0,"-"]],AS:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],AT:[[2001,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],AV:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],AN:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],LH:[[2008,"max","-","Apr","Sun>=1",[2,0,0,null],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,null],30,"-"]],Fiji:[[2014,2018,"-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2015,"max","-","Jan","Sun>=12",[3,0,0,null],0,"-"],[2019,"only","-","Nov","Sun>=8",[2,0,0,null],60,"-"],[2020,"only","-","Dec","20",[2,0,0,null],60,"-"],[2021,"max","-","Nov","Sun>=8",[2,0,0,null],60,"-"]],NZ:[[2007,"max","-","Sep","lastSun",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,"s"],60,"-"],[2008,"max","-","Apr","Sun>=1",[2,45,0,"s"],0,"-"]],WS:[[2012,"max","-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max","-","Sep","lastSun",[3,0,0,null],60,"-"]],Eire:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max","-","Mar","lastSun",[2,0,0,"s"],60,"S"],[1996,"max","-","Oct","lastSun",[2,0,0,"s"],0,"-"]],Thule:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],US:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[[2002,"max","-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2002,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Cuba:[[2012,"max","-","Nov","Sun>=1",[0,0,0,"s"],0,"S"],[2013,"max","-","Mar","Sun>=8",[0,0,0,"s"],60,"D"]],Haiti:[[2017,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2017,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Brazil:[[2008,2017,"-","Oct","Sun>=15",[0,0,0,null],60,"-"],[2016,2019,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2018,"only","-","Nov","Sun>=1",[0,0,0,null],60,"-"]],Chile:[[2016,2018,"-","May","Sun>=9",[3,0,0,"u"],0,"-"],[2016,2018,"-","Aug","Sun>=9",[4,0,0,"u"],60,"-"],[2019,"max","-","Apr","Sun>=2",[3,0,0,"u"],0,"-"],[2019,"max","-","Sep","Sun>=2",[4,0,0,"u"],60,"-"]],Para:[[2010,"max","-","Oct","Sun>=1",[0,0,0,null],60,"-"],[2013,"max","-","Mar","Sun>=22",[0,0,0,null],0,"-"]]}})},w=e=>{var t,i;function a(e,i,a){var r;e.layout.crosshair||(t.ChartEngine.crosshairY=0,t.ChartEngine.crosshairX=0,e.cx=e.backOutX(0),e.cy=e.backOutY(0),e.findHighlights(null,!0),t.ChartEngine.crosshairY=a,t.ChartEngine.crosshairX=i,r=e.container.getBoundingClientRect(),e.top=r.top,e.left=r.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e.cx=e.backOutX(i),e.cy=e.backOutY(a),e.currentPanel&&e.currentPanel.chart.dataSet&&(e.crosshairTick=e.tickFromPixel(e.cx,e.currentPanel.chart),e.crosshairValue=e.adjustIfNecessary(e.currentPanel,e.crosshairTick,e.valueFromPixel(e.cy,e.currentPanel))),e.headsUpHR()),e.findHighlights(!0),e.draw()}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.touchSingleClick=function(e,i,r){var n,s;return n=this,s=arguments,F.D0f(),function(){F.V0f(),function(){var e,n,o;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",s))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;if(i<this.left||i>this.right||r<this.top||r>this.bottom)return;e=this.backOutY(t.ChartEngine.crosshairY),n=this.backOutX(t.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(e),o=this.currentVectorParameters.vectorType,t.Drawing&&o&&t.Drawing[o]&&(new t.Drawing[o]).dragToDraw||(this.drawingClick(this.currentPanel,n,e)||a(this,i,r),this.currentVectorParameters.vectorType||("t","a","p",this.activeMarker&&this.activeMarker.click({cx:n,cy:e,panel:this.currentPanel})||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:n,y:e})))}this.runAppend("touchSingleClick",s)}.apply(n,s)}},t.ChartEngine.prototype.touchDoubleClick=function(e,i,r){var n,s;if(n="do",n+="ubleTap",s="touchDo",s+="ub",s+="l",s+="eClick",!this.runPrepend(s,arguments)&&!this.editingAnnotation)return t.ChartEngine.drawingLine?this.undo():void(this.activeDrawing||(a(this,i,r),this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:r,panel:this.currentPanel})||this.dispatch(n,{stx:this,finger:e,x:i,y:r}),this.runAppend("touchDoubleClick",arguments)))},t.ChartEngine.prototype.startProxy=function(e){var t;if(this.touchPointerType=e.pointerType,"touch"==this.touchPointerType){this.mouseMode=!1,this.touches[this.touches.length]={pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY},this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],1==this.touches.length&&(this.gesturePointerId=e.pointerId),534835719,1907631215,t=2;for(var i=1;534835719!==F.V9R(i.toString(),i.toString().length,67086);i++)this.touchstart(e),t+=2;1907631215!==F.j9R(t.toString(),t.toString().length,38312)&&this.touchstart(e)}else this.mouseMode=!0},t.ChartEngine.prototype.moveProxy=function(e){e.pointerType&&"touch"!=e.pointerType?this.mouseMode=!0:(this.mouseMode=!1,this.touchmove(e))},t.ChartEngine.prototype.endProxy=function(e){var t;if("tou","ch","touch"==this.touchPointerType){this.mouseMode=!1,F.D0f(),t=this.touches.length;for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==e.pointerId){this.touches.splice(i,1);break}if(i==t)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],this.touchend(e)}else this.mouseMode=!0},t.ChartEngine.prototype.msMouseMoveProxy=function(e){F.V0f(),!this.touches.length&&this.mouseMode&&this.mousemove(e)},t.ChartEngine.prototype.msMouseDownProxy=function(e){this.mouseMode&&(F.V0f(),this.mousedown(e))},t.ChartEngine.prototype.msMouseUpProxy=function(e){this.mouseMode&&(F.D0f(),this.mouseup(e))},t.ChartEngine.prototype.iosMouseMoveProxy=function(e){this.touching||this.mousemove(e)},t.ChartEngine.prototype.iosMouseDownProxy=function(e){this.touching?this.mouseMode=!1:(this.mouseMode=!0,this.mousedown(e))},t.ChartEngine.prototype.iosMouseUpProxy=function(e){this.touching||(F.D0f(),this.mouseup(e))},t.ChartEngine.prototype.touchmove=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O,I,z,N,V,R,j=F;if(this.displayInitialized&&""===this.openDialog&&!0!==t.ChartEngine.ignoreTouch){if(i=[],(!this.overYAxis||this.controls&&this.controls.crossX&&"none"!=this.controls.crossX.style.display)&&(e&&e.preventDefault&&e.cancelable&&this.captureTouchEvents&&e.preventDefault(),e&&e.stopPropagation()),a=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=a,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=a,this.clicks.e2MS-this.clicks.s2MS<25)return;if(e.pointerType||(e.pointerType=this.touchPointerType),t.isSurface){if(this.mouseMode)return;e.pointerId||(e.pointerId=this.gesturePointerId);for(var Y=0;Y<this.touches.length;Y++)if(this.touches[Y].pointerId==e.pointerId){if(r=Math.abs(this.touches[Y].pageX-e.clientX),n=Math.abs(this.touches[Y].pageY-e.clientY),j.A4o(35),!Math.sqrt(j.i4o(r,n,n,r)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[Y].pageX==e.clientX&&this.touches[Y].pageY==e.clientY)return;this.touches[Y].pageX=this.touches[Y].clientX=e.clientX,this.touches[Y].pageY=this.touches[Y].clientY=e.clientY;break}if(0===Y)this.movedPrimary=!0;else{s=813333502,o=-1145084065,l=2;for(var W=1;j.j9R(W.toString(),W.toString().length,68779)!==s;W++)this.movedSecondary=!1,l+=2;j.V9R(l.toString(),l.toString().length,12883)!==o&&(this.movedSecondary=!0)}if(Y==this.touches.length)return;this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],i=this.touches.length?this.touches:this.changedTouches}else i=e.touches,this.changedTouches=e.changedTouches;if(!(1==i.length&&Math.pow(this.clicks.x-i[0].clientX,2)+Math.pow(this.clicks.y-i[0].clientY,2)<=16||(h=this.crosshairXOffset,c=this.crosshairYOffset,u=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,d=!this.layout.crosshair&&!u&&!this.touchNoPan,("pen"==e.pointerType||d||this.activeDrawing&&"freeform"==this.activeDrawing.name)&&(h=c=0),this.runPrepend("touchmove",arguments)))){if(t.ChartEngine.resizingPanel)return p=(f=i[0]).clientX,g=f.clientY,j.A4o(0),void this.mousemoveinner(j.i4o(h,p),j.S4o(c,g));if(-1!=this.moveB&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=i[0].pageX,j.V0f(),1!=i.length||this.twoFingerStart){if(2==i.length){if(!this.allowZoom||this.activeDrawing&&!this.allowDrawingZoom)return;if(!this.displayCrosshairs)return;S=(x=i[0]).clientX,C=x.clientY,A=(D=i[1]).clientX,w=D.clientY,j.A4o(136),m=Math.sqrt(j.S4o(A,w,S,w,A,C,S,C)),j.L4o(8);var U=j.i4o(22,20);if(this.pinchingCenter=(Math.min(S,A)-Math.max(S,A))/U,k=Math.round(this.gestureStartDistance-m),d&&(j.L4o(33),this.pinchingScreen=j.i4o(2022927136,"5")),this.clearPixelCache(),this.pinchingScreen<2){if(t.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(S<this.pt.x1&&A<this.pt.x2||S>this.pt.x1&&A>this.pt.x2||C<this.pt.y1&&w<this.pt.y2||C>this.pt.y1&&w>this.pt.y2)j.L4o(8),this.pinchingScreen=j.i4o("0",0);else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:S,x2:A,y1:C,y2:w},0===this.pinchingScreen)this.grabMode="pan",j.L4o(0),this.mousemoveinner(j.i4o(h,S),j.S4o(c,C)),this.gestureStartDistance=m;else if(this.grabStartValues){if(T=Math.asin((Math.max(w,C)-Math.min(w,C))/m),Math.abs(k)<12&&!d){if(this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else this.moveCount=0;if(T<1||!this.goneVertical&&T<1.37){if(!this.currentPanel)return;M=this.currentPanel.chart,this.goneVertical=!1,m=this.pt.x2-this.pt.x1,P=this.grabStartValues.t2-this.grabStartValues.t1||1,j.A4o(7);var B=j.S4o(21,5,18,193);if(_=this.grabStartValues.t1+P/B,j.L4o(9),L=Math.abs(j.S4o(P,m)),!1===M.allowScrollFuture&&!1===M.allowScrollPast&&(L=Math.max(L,M.width/M.dataSet.length)),E=this.layout.candleWidth,this.setCandleWidth(L,M),M.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(E,M);this.micropixels=0,H=this.pixelFromTick(Math.round(_),M),O=this.pt.x1-this.left+Math.round(m/2),j.L4o(8),I=j.S4o(H,O),j.L4o(9),z=j.i4o(L,I),N=Math.round(z),M.scroll-=N,j.L4o(8),this.microscroll=j.S4o(N,z),this.micropixels=L*this.microscroll,this.draw()}else if(V=this.grabStartYAxis,this.goneVertical=!0,V){if(V.zoom=this.grabStartZoom+(this.gestureStartDistance-m),this.grabStartZoom<V.height){if(V.zoom>=V.height){j.L4o(8);var X=j.S4o(19,18);V.zoom=V.height-X}}else if(V.zoom<=V.height){j.A4o(12);var q=j.i4o(13,29,17);V.zoom=V.height+q}this.draw()}this.updateChartAccessories()}}else if(3==i.length&&t.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;R=i[0].clientX,m=this.grabStartX-R,j.L4o(137);var Q=j.i4o(6,4,35,10,70);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(m/Q),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else j.A4o(27),p=(y=i[j.S4o("0",2147483647)]).clientX,g=y.clientY,this.pinchingScreen=0,j.L4o(0),this.mousemoveinner(j.i4o(h,p),j.i4o(c,g)),v=this.whichPanel(g),b=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=g<=this.top+b&&g>=b-this.xaxisHeight+this.top&&this.insideChart,this.overYAxis=!!v&&((p>=v.right||p<=v.left)&&this.insideChart);this.runAppend("touchmove",arguments)}}},F.D0f(),t.ChartEngine.prototype.touchstart=function(e){var i,r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b,x,S,C,D,A,w,k,T,M,P,_,L,E,H,O,I,z,N=F;if(!t.ChartEngine.ignoreTouch){if(t.isSurface)this.movedPrimary=!1,this.movedSecondary=!1;else{this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,i=2068942723,r=-1523675985,n=2;for(var V=1;N.V9R(V.toString(),V.toString().length,31253)!==i;V++)this.touches=e.touches,n+=2;N.j9R(n.toString(),n.toString().length,24973)!==r&&(this.touches=e.touches),this.touches=e.touches,this.changedTouches=e.changedTouches}if(!t.ChartEngine.resizingPanel&&(s=this.crosshairXOffset,o=this.crosshairYOffset,"pen"==this.touchPointerType&&(s=o=0),!this.runPrepend("touchstart",arguments))){var R,j,Y,{layout:W}=this,{vectorType:U}=this.currentVectorParameters;if(l=W.crosshair&&""!==U||U,this.manageTouchAndMouse&&e&&e.preventDefault&&e.cancelable&&this.captureTouchEvents&&e.preventDefault(),this.hasDragged=!1,N.L4o(60),this.doubleFingerMoves=N.i4o("0",0),this.moveCount=0,this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(g="flo",g+="ati",g+="n",g+="g",this.touchMoveTime=Date.now(),N.L4o(33),f=this.touches[N.i4o(514001440,"0")],u=f.clientX,d=f.clientY,this.moveA=u,this.moveB=-1,""===this.openDialog&&(this.registerPointerEvent({x:u,y:d,time:this.touchMoveTime},"down"),1!=this.changedTouches.length||this.isDoubleClick(!0)||t.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY})),m=this.container.getBoundingClientRect(),this.top=m.top,this.left=m.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length&&(y=this.backOutY(d),this.currentPanel=this.whichPanel(y)),this.currentPanel||(this.currentPanel=this.chart.panel),p=this.currentPanel,u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){this.insideChart=!0,v=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=d<=this.top+v&&d>=this.top+v-this.xaxisHeight,this.overYAxis=u>=this.left+p.right||u<=this.left+p.left,b=-1,this.cy=this.backOutY(d),this.cx=this.backOutX(u),this.crosshairTick=this.tickFromPixel(this.cx,p.chart),this.crosshairValue=this.adjustIfNecessary(p,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var B=0;B<this.drawingObjects.length;B++)if((x=this.drawingObjects[B]).highlighted){if(b<0&&(b=B),S=x.highlighted,this.findHighlights(!0),B==b&&x.highlighted&&!x.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(x):this.findHighlights(!1,!0));this.anyHighlighted=!0,x.highlighted=S}}else this.insideChart=!1;if(!this.insideChart||l||W.headsUp===g||W.headsUp&&W.headsUp.floating||U||this.touchNoPan){N.L4o(2),P=N.S4o(1,"356440979"),_=-299067068,L=2;for(var X=1;N.j9R(X.toString(),X.toString().length,7718)!==P;X++)this.grabbingScreen=!1,L+=2;if(N.V9R(L.toString(),L.toString().length,9462)!==_&&(this.grabbingScreen=!0),this.insideChart&&p.subholder===e.target&&(E=this.currentVectorParameters.vectorType,t.Drawing&&E&&t.Drawing[E]&&(new t.Drawing[E]).dragToDraw))return this.userPointerDown=!0,t.ChartEngine.crosshairX=u,t.ChartEngine.crosshairY=d,p&&p.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(t.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(p,this.crosshairTick,this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(p,this.backOutX(u),this.backOutY(d)),void this.headsUpHR()}else{s=o=0;var{baselineHelper:q}=this;if(q.size&&this.findBaselineHandle(e,!0))return;if(this.controls.anchorHandles){C=Object.values(this.controls.anchorHandles),D=!1;for(var Q=0;Q<C.length;Q++){A=C[Q];var{handle:Z,sd:G}=A;w=this.resolveX(this.cx),k=this.resolveY(this.cy);var{left:J,top:K,right:$,bottom:ee}=Z.getBoundingClientRect();T=this.preferences.highlightsTapRadius,N.L4o(8),(M=t.boxIntersects(N.S4o(J,T),K,N.i4o(T,$,N.A4o(0)),ee,w,k,w,k))&&(this.repositioningAnchorSelector={sd:G},Z.classList.add("stx-grab"),D=!0),A.highlighted=M}if(D)return}for(h in this.panels)if((c=this.panels[h]).highlighted)return void this.grabHandle(c);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),p.chart.spanLock=!1,this.yToleranceBroken=!1,N.L4o(0),this.grabStartX=N.i4o(s,u),N.L4o(0),this.grabStartY=N.S4o(o,d),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=p.chart.scroll,this.grabStartScrollY=p.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart&&this.swipeStart(p.chart),this.grabStartYAxis=this.whichYAxis(p,this.backOutX(u)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((j=this,N.D0f(),function(){N.V0f(),j.grabbingHand()}),100)}1==this.touches.length&&(l?U||p.subholder!==e.target||(N.A4o(0),this.mousemoveinner(N.i4o(s,u),N.i4o(o,d))):(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer((R=this,()=>a(R,u,d)))))}if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart)return;for(h in O=(H=this.touches[1]).clientX,I=H.clientY,this.panels)if((c=this.panels[h]).highlighted)return void this.grabHandle(c);p=this.currentPanel,N.A4o(136),this.gestureStartDistance=Math.sqrt(N.S4o(O,I,u,I,O,d,u,d)),this.pt={x1:u,x2:O,y1:d,y2:I},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),p.chart.spanLock=!1,N.L4o(0),this.grabStartX=N.i4o(s,u),N.A4o(0),this.grabStartY=N.i4o(o,d),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=p.chart.scroll,this.grabStartScrollY=p.yAxis.scroll,this.grabStartPanel=p,this.swipeStart&&this.swipeStart(p.chart),this.grabStartCandleWidth=W.candleWidth,this.grabStartYAxis=this.whichYAxis(p,this.backOutX((u+O)/2))||p.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,p),y2:this.valueFromPixel(this.pt.y2-this.top,p),t1:this.tickFromPixel(this.pt.x1-this.left,p.chart),t2:this.tickFromPixel(this.pt.x2-this.left,p.chart)},this.twoFingerStart=!0,setTimeout((Y=this,function(){Y.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;z=this.touches[0].clientX,this.grabStartX=z,this.grabStartPeriodicity=W.periodicity}this.runAppend("touchstart",arguments)}}},t.ChartEngine.prototype.touchend=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m=F;if(m.V0f(),i="to",i+="uc",i+="h",i+="end",!t.ChartEngine.ignoreTouch&&(this.swipe.end=!0,t.isSurface||(this.touches=e.touches,this.changedTouches=e.changedTouches),!this.runPrepend(i,arguments))){var y,{touches:v,layout:b}=this,{vectorType:x}=this.currentVectorParameters;if(a=b.crosshair&&""!==x||x,this.cancelLongHold=!0,v.length<=1&&a&&(v.length&&this.twoFingerStart||(this.grabbingScreen=!1)),v.length&&(this.grabStartX=-1,this.grabStartY=-1),r=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),v.length){if(t.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((y=this,m.V0f(),function(){m.V0f(),y.touching=!1}),500),t.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(this.cx,this.cy),this.currentPanel=this.whichPanel(this.cy)),this.grabStartYAxis=null,this.displayDragOK(),this.doDisplayCrosshairs(),this.updateChartAccessories()}m.L4o(101);var S=m.i4o(1,17,10,8);if(n=v.length+S,1===this.changedTouches.length){if(s=Date.now(),o=this.changedTouches[0],l=this.backOutY(o.pageY)+this.crosshairYOffset,h=this.backOutX(o.pageX)+this.crosshairXOffset,u=(c=this.currentPanel)&&c.subholder===e.target,this.repositioningDrawing)return d="v",d+="e",d+="ct",d+="or",this.changeOccurred(d),t.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(a||this.findHighlights(!1,!0));if(this.repositioningBaseline)return this.repositioningBaseline=null,this.controls.baselineHandle.classList.remove("stx-grab"),(p=this.mainSeriesRenderer||{}).params&&p.params.baseline&&p.params.type,void this.draw();if(this.repositioningAnchorSelector)return this.repositioningAnchorSelector.hoverTick||(this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(h-this.crosshairXOffset,this.chart)),t.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,void Object.values(this.controls.anchorHandles).forEach((({handle:e})=>(m.D0f(),e.classList.remove("stx-grab"))));if(""===this.openDialog&&e.changedTouches.length&&(g=e.changedTouches[0],this.registerPointerEvent({x:g.clientX,y:g.clientY,time:s},"up")),-1==this.clicks.s2MS){if(this.clicks.e1MS=s,!(t.Drawing&&x&&t.Drawing[x]&&(new t.Drawing[x]).dragToDraw)){var{up:C,down:D}=this.pointerEvents;f=1200,m.L4o(31);var A=m.i4o(1,5,8);m.L4o(117);var w=m.i4o(14,230,20,18);Math.pow(D[0].x-C[0].x,A)+Math.pow(D[0].y-C[0].y,w)<=f&&this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||a)?setTimeout(this.touchSingleClick(n,this.clicks.x,this.clicks.y),this.doubleClickTime+1):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}if(this.userPointerDown=!1,t.Drawing&&this.activeDrawing&&this.activeDrawing.dragToDraw&&u)return void this.drawingClick(c,h,l);this.isDoubleClick(!0)&&(u||this.overYAxis||this.overXAxis)&&this.touchDoubleClick(n,this.clicks.x,this.clicks.y)}else this.clicks.e2MS=s,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else this.displayCrosshairs&&(-1==this.grabEndPeriodicity||isNaN(this.grabEndPeriodicity)||((t.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),this.grabEndPeriodicity=-1));this.changedTouches.length&&((!a&&!this.currentVectorParameters.vectorType&&1==n||this.twoFingerStart&&!r&&!this.touches.length)&&(this.swipeRelease&&this.swipeRelease(),this.findHighlights(!1,!0)),r&&this.continuousZoom&&(this.continuousZoom.execute(),this.continuousZoom.execute(!0))),v.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}},i=!1,t.ChartEngine.prototype.mousemoveinner=t.ChartEngine.prototype.mousemoveinner||function(e,t){F.D0f(),i||console.error("touch feature requires activating movement feature."),i=!0}},k=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Visualization=t.Visualization||function(e){e?"function"==typeof e.renderFunction?(this.container=null,this.attributes=e,this.data=null,F.V0f(),this.object=null):console.log("CIQ.Visualization() missing renderFunction property in attributes."):console.log("CIQ.Visualization() missing attributes argument.")},t.extend(t.Visualization.prototype,{destroy:function(e){var i;i=this.container,t.resizeObserver(i,null,i.resizeHandle),i.autoGenerated?(i.remove(),delete this.container):i.innerHTML="",e||(this.attributes=null,this.container=null,this.data=null,this.object=null,this.destroy=this.draw=this.setAttributes=function(){},this.updateData=function(){F.V0f()})},draw:function(e){var i,a,r,n,s;if("ob","j","ect",!this.data||"object"!=typeof this.data)return"CIQ.Visuali","zation.draw() miss","ing d","ata.",void console.log("CIQ.Visualization.draw() missing data.");"string"==typeof(a=(i=this.attributes).container||this.container)&&(a=document.querySelector(a)),a||("300","p","x","d","i","v",(a=document.createElement("div")).style.height=a.style.width="300px",document.body.appendChild(a),a.autoGenerated=!0),i.stx&&(r=i.stx.chart.canvasShim,i.useCanvasShim&&r&&r!==a&&r!==a.parentNode&&(a.autoGenerated||((a=a.cloneNode()).id="",a.autoGenerated=!0),r.appendChild(a))),this.container&&this.container!==a&&this.destroy(!0),a.resizeHandle||(n=function(e){return F.V0f(),function(){e.data&&e.container&&document.body.contains(e.container)&&e.draw.call(e,!0)}},a.resizeHandle=t.resizeObserver(a,n(this),null,100)),this.container=a,this.attributes=i,(s=(i=t.ensureDefaults({container:this.container},this.attributes)).renderFunction(Object.values(this.data).sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),i))&&(i.id&&(s.id=i.id),(e||i.forceReplace)&&(this.container.innerHTML="",this.container.appendChild(s))),this.attributes=i,this.object=s},setAttributes:function(e,t){var i,a,r;if(F.D0f(),"obje","ct","forceR","eplace","u","se","CanvasShim","co","n","tai","ner",i=["renderFunction","container","stx","useCanvasShim","id","forceReplace"],a=!1,r=e,"string"==typeof e&&((r={})[e]=t),"object"==typeof r)for(var n in r)this.attributes[n]!==r[n]&&-1!==i.indexOf(n)&&(a=!0),this.attributes[n]=r[n];this.draw(a)},updateData:function(e,i){var a,r,n;for(a in"u","pd","ate","r","eplace",F.V0f(),"repla","ce",n=Array.isArray(e)?e.reduce((function(e,t){return e[t.name]=t,e}),{}):t.shallowClone(e))r=n[a],"[object Object]"!==Object.prototype.toString.call(r)&&(n[a]={value:r}),n[a].name||(n[a].name=a),n[a].value||(n[a].value=0);switch(i||(i="replace"),i.toLowerCase()){case"delete":for(a in n)delete this.data[a];break;case"replace":this.data={};case"update":case"add":for(a in n)for(var s in"[o","bject"," Num","ber]",this.data[a]||(this.data[a]={name:a}),r=n[a].value,"[object Number]"==Object.prototype.toString.call(r)?(this.data[a].value&&"update"!=i||(this.data[a].value=0),this.data[a].value+=r):this.data[a].value=r,n[a])"value"!==s&&(this.data[a][s]=n[a][s]);break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.")}return this.draw(this.attributes.forceReplace),this}}),t.ChartEngine.prototype.embedVisualization=function(e){return e||(e={}),e.stx=this,F.D0f(),e.useCanvasShim=!0,e.translator=function(t){return e.stx.translateIf(t)},new t.Visualization(e)}},T=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateTypicalPrice=function(e,t){var i,a,r,n,s,o,l=F;if("W","eighted ","Clos","e",i=t.chart.scrubbed,a=t.days,i.length<a+1)t.overlay||(t.error=!0);else{-767717966,1634921403,l.A4o(36),r=l.S4o(345092896,"2");for(var h=1;-767717966!==l.j9R(h.toString(),h.toString().length,65523);h++)n=t.name,l.L4o(27),r+=l.S4o("2",2147483647);for(var c in 1634921403!==l.V9R(r.toString(),r.toString().length,94016)&&(n=t.name),t.outputs)l.A4o(28),n=l.S4o(" ",n,c);s="hlc/3","Med Price"==t.type?s="hl/2":"Weighted Close"==t.type&&(s="hlcc/4"),o=0,t.startFrom<=a&&(t.startFrom=0);for(var u=t.startFrom;u<i.length;u++){if(u&&i[u-1][n])l.L4o(138),o=i[u-l.S4o(3,5,3,2,15)][n]*a;o+=i[u][s],u>=a&&(l.A4o(8),o-=i[l.i4o(u,a)][s],l.L4o(9),i[u][n]=l.i4o(a,o))}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}}})):console.error("medianPrice feature requires first activating studies feature.")},M=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,F.V0f(),t.Studies?("fie","ld",t.Studies.calculateRateOfChange=function(e,t){var i,a,r,n,s,o,l,h=F;if("Volum","e",(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{for(var c in(a=t.inputs.Field)&&"field"!=a||(a="Close"),t.parameters.isVolume&&(a="Volume"),r=t.name,t.outputs)h.A4o(28),r=h.i4o(" ",r,c);(n=t.inputs["Center Line"])?(h.L4o(27),n=parseInt(n,h.i4o("10",2147483647))):n=0;for(var u=Math.max(t.startFrom,t.days);u<i.length;u++)"obje","c","t","ob","jec","t",(s=i[u][a])&&"object"==typeof s&&(s=s[t.subField]),(o=i[u-t.days][a])&&"object"==typeof o&&(o=o[t.subField]),"Momentum"==t.type?(h.A4o(29),i[u][r]=h.S4o(s,o,n)):(l=o)&&(h.L4o(139),i[u][r]=h.S4o(l,1,n,s,100))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:t.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:t.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}})):console.error("momentum feature requires first activating studies feature.")},P=e=>{var t;F.V0f(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.initPriceRelative=function(e,i,a,r,n,s){var o,l;return"Co","mp","arison S","ymbol",l=[(o=t.Studies.initializeFN(e,i,a,r,n,s)).inputs["Comparison Symbol"].toUpperCase()],t.Studies.fetchAdditionalInstruments(e,o,l),o},t.Studies.calculatePriceRelative=function(e,i){var a,r,n,s,o,l;if(F.D0f(),a=i.chart.scrubbed,(r=i.inputs["Comparison Symbol"].toUpperCase())||(r=i.study.inputs["Comparison Symbol"]),(n={})[s=(s=e.chart.symbol||"").replace(/[=+\-*\\%]/g,"")]=a.slice(i.startFrom),n[s].length){s!=r&&(n[r]=null),F.L4o(73),o=t.computeEquationChart(F.i4o("]/[","]","[",s,r),n),l=0;for(var h=i.startFrom;h<a.length&&l<o.length;h++){for(;l<o.length&&a[h].DT.getTime()>o[l].DT.getTime();)l++;a[h].DT.getTime()<o[l].DT.getTime()||(a[h]["Result "+i.name]=o[l].Close,l++)}}},t.Studies.displayVsComparisonSymbol=function(e,i,a){var r,n,s,o;if(r=i.inputs["Comparison Symbol"].toUpperCase(),e.getSeries({symbol:r,chart:i.chart}).length){s=(n={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:i.study.centerline,yAxis:i.getYAxis(e),gapDisplayStyle:!0}).yAxis?n.yAxis.flipped:e.panels[i.panel].yAxis.flipped,o=.3,!i.highlight&&e.highlightedDraggable&&(o*=.3);for(var l=a.length-1;l>=0;l--)if(a[l]&&a[l][r])return t.Studies.displaySeriesAsLine(e,i,a),void((i.study.centerline||0===i.study.centerline)&&(i.outputs.Gain&&t.preparePeakValleyFill(e,t.extend(n,{direction:s?-1:1,color:t.Studies.determineColor(i.outputs.Gain),opacity:o})),i.outputs.Loss&&t.preparePeakValleyFill(e,t.extend(n,{direction:s?1:-1,color:t.Studies.determineColor(i.outputs.Loss),opacity:o}))))}else e.displayErrorAsWatermark(i.panel,e.translateIf(i.study.name)+": "+e.translateIf("Not Available"))},t.Studies.fetchAdditionalInstruments=function(e,i,a,r){var n,s,o,l,h,c;if(e.quoteDriver)for(F.V0f(),n=e.panels[i.panel].chart,i.symbols=a,s=0;s<a.length;s++)"s","t","u","dy",o=l=a[s],"object"==typeof l?o=l.symbol:l={symbol:o},h={symbol:o,symbolObject:l,bucket:"study",studyName:i.name,chartName:n.name,action:"add-study"},t.extend(h,r),c=h.loadData,e.currentlyImporting&&(h.loadData=!1),i.series||(i.series={}),i.series[o]=e.addSeries(null,h,u),i.series[o].parameters.loadData=c;else console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");function u(){e.createDataSet(),e.draw()}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0}})):("pri","ceRelative feature requires first activ","ating studies feature.",console.error("priceRelative feature requires first activating studies feature."))},_=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,F.D0f(),t.Studies?("#","FF00","0","0","f","iel","d",t.Studies.calculateVWAP=function(e,a){var r,n,s,o,l,h,c,u,d,p,g,f,m,y,v,b=F;if("A","V","WA","P",!(a.parameters.state||{}).interactiveAdd){var{inputs:x,name:S,chart:C}=a,{market:D}=C;if(r="AVWAP"===a.type,(n=C.scrubbed).length)if(r||!t.ChartEngine.isDailyInterval(e.layout.interval)){if(s="h",s+="lc",s+="/",s+="3",r&&((s=x.Field)&&"field"!=s||("h","lc","/","3",s=x.Field="hlc/3",e.changeOccurred("layout"))),o=null,l=0,h=0,b.A4o(27),c=b.S4o("0",2147483647),u=!1,a.startFrom>1&&("_VxP2"," ",l=n[a.startFrom-1]["_V "+S]||0,h=n[a.startFrom-1]["_VxP "+S]||0,c=n[a.startFrom-1]["_VxP2 "+S]||0),r){"An","c","hor Selecto","r","A","nchor"," Date";var{market_tz:A}=D.market_def||{},[,w,k,T]=(x["Anchor Date"]||"").match(/^(\d{4})-?(\d{2})-?(\d{2})$/)||[],[,M=0,P=0,_=0]=(x["Anchor Time"]||"").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/)||[];if(![w,k,T].every((e=>(b.D0f(),e||0===e))))return void(a.error="Invalid Anchor Date");b.L4o(8),d=new i.Date(w,b.S4o(k,1),T,M,P,_,A||""),!a.startFrom&&d>=n[0].DT&&(a.startFrom=e.tickFromDate(d,e.chart,null,!0)),x["Anchor Selector"]?t.Studies.initAnchorHandle(e,a):t.Studies.removeAnchorHandle(e,a)}for(var L=a.startFrom;L<n.length;L++)if(r||(null===o&&(o=t.Studies.getMarketOffset({stx:e,localQuoteDate:n[L].DT,shiftToDateBoundary:!0})),n[L-1]&&n[L-1].DT&&(p=new Date(new Date(+n[L].DT).setMilliseconds(n[L].DT.getMilliseconds()+o)),new Date(new Date(+n[L-1].DT).setMilliseconds(n[L-1].DT.getMilliseconds()+o)).getDate()!==p.getDate()&&e.chart.market.isMarketDate(p)&&(o=null,l=h=c=0))),g=n[L][s],f=n[L].Volume,r&&!f&&(f=1),l+=f,b.L4o(2),h+=b.i4o(g,f),b.L4o(140),c+=b.i4o(g,f,g),r||l){b.A4o(0),n[L][b.i4o(S,"_V ")]=l,b.A4o(0),n[L][b.i4o(S,"_VxP ")]=h,b.A4o(0),n[L][b.i4o(S,"_VxP2 ")]=c,b.A4o(0),m=n[L][b.i4o(S,"_SDVWAP ")]=Math.sqrt(Math.max(0,c/l-Math.pow(h/l,2))),b.A4o(0),y=n[L][b.S4o(S,"VWAP ")]=b.i4o(l,h,b.L4o(9));for(var E=1;E<=3;E++)b.L4o(49),n[L][b.S4o(E,"SDVWAP","+ ",S)]=b.S4o(m,y,E,b.L4o(40)),b.L4o(49),n[L][b.S4o(E,"SDVWAP","- ",S)]=b.S4o(E,m,y,b.A4o(141));u=!0}for(var H=1;H<=3;H++)x["Display "+H+" Standard Deviation ("+H+")"]&&("-"," ","S","DVWA","P",b.A4o(49),a.outputMap[b.i4o(H,"SDVWAP","+ ",S)]=b.i4o(" Standard Deviation (",H,H,")"),b.L4o(49),a.outputMap[b.S4o(H,"SDVWAP","- ",S)]=b.S4o(" Standard Deviation (",H,H,")"));if(!r&&!u){749242931,2126459577,v=2;for(var O=1;749242931!==b.j9R(O.toString(),O.toString().length,32550);O++)"VWAP Require","s ","V","olume",a.error="VWAP Requires Volume",v+=2;2126459577!==b.j9R(v.toString(),v.toString().length,36299)&&(a.error="")}}else a.error="VWAP is Intraday Only"}},t.Studies.initAnchoredVWAP=function(e,i,a,r,n,s){var o,l,h;n.state||(n.state={});var{interactiveAdd:c,state:u}=n;if(l="Click to selec",l+="t AVWAP anch",l+="or t",l+="ime",(o=!(a["Anchor Date"]||a["Anchor Time"]))&&(u.interactiveAdd||e.repositioningAnchorSelector))return"abort";if(o&&!c)for(var{dataSegment:d}=e.chart,p=0;d&&p<d.length;p++)if(d[p]){var{DT:g}=d[p];a["Anchor Date"]=t.dateToStr(g,"YYYY-MM-dd"),a["Anchor Time"]=t.dateToStr(g,"HH:mm:ss");break}return o&&c?u.interactiveAdd=!0:(delete u.interactiveAdd,delete n.interactiveAdd),h=t.Studies.initializeFN(e,i,a,r,n,s),u.interactiveAdd?(e.repositioningAnchorSelector={sd:h,tapToAdd:!0},e.dispatch("notification",{message:l,type:"info",displayTime:0})):("noti","fica","tion",e.dispatch("notification",{message:l,remove:!0})),h},t.Studies.displayVWAP=function(e,i,a){var r,n,s,o,l,h,c,u;if("Di","splay 2 Standard Deviation (2)",t.Studies.displaySeriesAsLine(e,i,a),r=i.inputs["Display 1 Standard Deviation (1)"],n=i.inputs["Display 2 Standard Deviation (2)"],s=i.inputs["Display 3 Standard Deviation (3)"],(r||n||s)&&i.inputs.Shading){if("VW","AP ",o=e.panels[i.panel],l={opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:o.name!=i.chart.name,yAxis:i.getYAxis(e)},!i.highlight&&e.highlightedDraggable&&(l.opacity*=.3),h="VWAP "+i.name,c="VWAP "+i.name,r&&("SDVWAP","1+ ",t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP1+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP1+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP1- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP1- "+i.name]])},l)),h="SDVWAP1+ "+i.name,c="SDVWAP1- "+i.name),n){"SDV","WA","P2+ ","S","DVWAP2- ",-662099430,1703450537,u=2;for(var d=1;-662099430!==F.j9R(d.toString(),d.toString().length,73257);d++)t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2+ "+i.name]])},l)),u+=2;1703450537!==F.V9R(u.toString(),u.toString().length,94341)&&("SDV","WA","P2+"," ","SDVW","AP2+ ",t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2+ "%i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2+ "/i.name]])},l))),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2- "+i.name]])},l)),h="SDVWAP2+ "+i.name,c="SDVWAP2- "+i.name}s&&("SDVW","AP","3- ",t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP3+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP3+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP3- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP3- "+i.name]])},l)))}(i.anchorHandle||(i.parameters.state||{}).interactiveAdd)&&t.Studies.displayAnchorHandleAndLine(e,i,a)},t.Studies.removeAnchoredVWAP=function(e,i){F.D0f(),e.dispatch("notification",{message:"Click to select AVWAP anchor time",remove:!0}),t.Studies.removeAnchorHandle(e,i)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,initializeFN:t.Studies.initAnchoredVWAP,removeFN:t.Studies.removeAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1,Shading:!1,"Anchor Selector":!0},outputs:{VWAP:"#FF0000","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"},parameters:{init:{opacity:.2,interactiveAdd:!0}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1,Shading:!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"},parameters:{init:{opacity:.2}}}})):console.error("vwap feature requires first activating studies feature.")},L=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,F.D0f(),t.Studies?(t.Studies.calculateZigZag=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,g,f,m,y=F;if("Clos","e","Lo","w",(i=t.chart.scrubbed)&&i.length){a=t.highLowChart,r=null,n=null,s=t.inputs["Distance(%)"],o=0,l=0,h=0,c=null,u=null,y.A4o(1),d=y.i4o(0,"0");for(var v=Math.min(i.length-1,t.startFrom);v>=0;v--)if(d=v,i[v]["_state "+t.name]){"_st","ate ",r=(p=i[v]["_state "+t.name])[0],n=p[1],o=p[2],l=p[3],h=p[4],c=p[5],u=p[6];break}for(var b=d;b<i.length;b++){if("Clo","se","L","o","w","Cl","o","s","e",g=i[b][a?"High":"Close"],f=i[b][a?"Low":"Close"],null===n||n<g)if(n=g,o<0&&(r=f),y.L4o(142),c=y.S4o(100,n,s,1,"1"),o>-1){if(null!==u&&n>u){"C","l","o","se","R","esult ",i[l]["Result "+t.name]=i[l][a?"Low":"Close"],S(h,l),o=-1,r=f,h=l,l=b;continue}}else l=b;if(null===r||r>f)if(r=f,o>0&&(n=g),y.L4o(143),u=y.i4o(s,1,100,r),o<1){if(null!==c&&r<c){"C","lose",i[l]["Result "+t.name]=i[l][a?"High":"Close"],S(h,l),o=1,n=g,h=l,l=b;continue}}else l=b}i[l]["Result "+t.name]=i[l][a?1==o?"Low":"High":"Close"],i[l]["_state "+t.name]=[r,n,o,l,h,c,u],S(h,l),y.A4o(8);var x=y.S4o(7,6);for(m=i.length-x;m>l;){if(i[m].Close||0===i[m].Close){"Cl","o","s","e",i[m]["Result "+t.name]=i[m][a?1==o?"High":"Low":"Close"];break}m--}S(l,m)}function S(e,a){y.D0f();for(var r=e+1;r<a;r++)i[r]["ShadowResult "+t.name]=(i[a]["Result "+t.name]-i[e]["Result "+t.name])*(r-e)/(a-e)+i[e]["Result "+t.name],delete i[r]["Result "+t.name]}},t.Studies.displayZigZag=function(e,i,a){var r,n,s,o,l,h=F;r=e.chart.highLowBars,i.highLowChart!=r&&(i.highLowChart=r,i.startFrom=0,i.study.calculateFN(e,i)),n=e.chart;for(var c=0;c<a.length;c++)(s=a[c])&&("_sha","d","owCo","py ",s["_shadowCopy "+i.name]&&("_shad","owC","opy ",delete s["Result "+i.name],delete s["_shadowCopy "+i.name]),s["Result "+i.name]||s.transform&&delete s.transform["Result "+i.name]);o=a[0],h.L4o(56);var u=h.i4o(277698233,1388491165,1388491163);l=a[a.length-("1"<<u)],o&&o["ShadowResult "+i.name]&&("R","esul","t ",o["Result "+i.name]=o["ShadowResult "+i.name],o.transform&&(o.transform["Result "+i.name]=n.transformFunc(e,n,o["ShadowResult "+i.name])),o["_shadowCopy "+i.name]=1),l&&l["ShadowResult "+i.name]&&("_","shadow","Co","py ","Re","sul","t"," ",l["Result "+i.name]=l["ShadowResult "+i.name],l.transform&&(l.transform["Result "+i.name]=n.transformFunc(e,n,l["ShadowResult "+i.name])),h.L4o(33),l["_shadowCopy "+i.name]=h.S4o(524934720,"1")),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!0,seriesFN:t.Studies.displayZigZag,calculateFN:t.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}}})):console.error("zigzag feature requires first activating studies feature.")},E.Pz,E.rx,E.hM,E.$$,E.$I,F.D0f()},181:(e,t,i)=>{"use strict";i(549);var a=i(73),r=i(266),n=i(807),s=i(824);a.Pz.activateImports(r.r,r.rt,r.VO,r.i3,r.H,r.ag,r.Tl,r.PP,r.mD,r.tb,r.hA,r.Kn,r.ac,r.BN,r.yP,r.tO,r.$L,r.l0,r.rS,r.Dg,r.Fq,r.aN,r.e4,r.yN,r.qe,r.KY,r.TO,n.xA,n.Xc,n.dK,n.yR,n.bZ,n.BG,n._s,n.Md,s.mu,s.g,s.hf,s.tT,s.bK,s.T5,s.Jv,s.Zk,s.xv,s.lc,s.vI,s.oK,s.wd,s.WZ,s.pN,s.ZC,s.gc,s.l3,s.xD,s.nP,s.cu,s.j1,s.R_,s.JA,s.yn,s.Pb,s.W7,s._m,s.P5,s.GI,s.ec,s.cH,s.DG,s.Gv,s.KX,s.AR,s.Iv,s.M7,s.bR,s.HX,s.sN,s.$L,s.Kk,s.n$,s.kg,s.It,s.q2,s.Xf,s.Vm,s.rd,s.B7,s.np,s.OQ,s.ZN,s.Sj,s.Yw,s.uI,s.tk,s.Bt,s.HN,s.LN,s.hZ,s.VG,null);const o=function(e={}){let t={initialSymbol:{symbol:"AAPL",name:"Apple Inc",exchDisp:"NASDAQ"},root:document,initialData:void 0,enabledAddOns:{dataLoader:!0,extendedHours:!0,fullScreen:!0,inactivityTimer:!0,rangeSlider:!0,shortcuts:!0,tableView:!0,tooltip:!0},onNewSymbolLoad:{removeSeries:e=>"study"!==e.parameters.bucket,loadError(e,t){}},restore:!0,lookupDriver:a.Pz.ChartEngine.Driver.Lookup.ChartIQ,hotkeyConfig:{hotkeys:[{label:"Pan chart up",action:"up",options:{percent:.02},commands:["ArrowUp","Up"]},{label:"Pan chart down",action:"down",options:{percent:.02},commands:["ArrowDown","Down"]},{label:"Pan chart right",action:"right",options:{bars:1},commands:["ArrowRight","Right"]},{label:"Pan chart left",action:"left",options:{bars:1},commands:["ArrowLeft","Left"]},{label:"Pan chart up fast",action:"up",options:{percent:.2},commands:["Shift+ArrowUp","Shift+Up"]},{label:"Pan chart down fast",action:"down",options:{percent:.2},commands:["Shift+ArrowDown","Shift+Down"]},{label:"Pan chart right fast",action:"right",options:{bars:10},commands:["Shift+ArrowRight","Shift+Right"]},{label:"Pan chart left fast",action:"left",options:{bars:10},commands:["Shift+ArrowLeft","Shift+Left"]},{label:"Page chart right",action:"pageRight",commands:["Alt+ArrowRight","Alt+Right","PageUp"]},{label:"Page chart left",action:"pageLeft",commands:["Alt+ArrowLeft","Alt+Left","PageDown"]},{label:"Zoom in x-axis",action:"zoomInXAxis",commands:["NumpadAdd","="]},{label:"Zoom out x-axis",action:"zoomOutXAxis",commands:["NumpadSubtract","-"]},{label:"Zoom in y-axis",action:"zoomInYAxis",commands:["+"]},{label:"Zoom out y-axis",action:"zoomOutYAxis",commands:["_"]},{label:"Toggle crosshair",action:"toggleCrosshairs",commands:["Alt+Backslash","Alt+\\","Alt+"]},{label:"Tab to next",action:"keyboardNavigateNext",commands:["Tab"]},{label:"Tab to previous",action:"keyboardNavigatePrevious",commands:["Shift+Tab"]},{label:"Select at tab",action:"keyboardNavigateClick",commands:["Enter"]},{label:"Pan to home",action:"home",commands:["Home"]},{label:"Pan to start of loaded data",action:"end",commands:["End"]},{label:"Delete a highlighted item or the active drawing",action:"delete",commands:["Backspace","Delete","Del"]},{label:"Close an open menu / dialog box or undo the active drawing",action:"escape",commands:["Escape","Esc"]},{label:"Symbol Lookup",action:"symbolLookup",commands:["Shift+Alt+KeyL"]},{label:"Open table view",action:"tableView",commands:["Alt+KeyK"],extension:"tableView"},{label:"Range Slider",action:"rangeSlider",commands:["Shift+Alt+KeyR"],extension:"rangeSlider"},{label:"Extended Hours",action:"extendedHours",commands:["Shift+Alt+KeyX"],extension:"extendedHours"},{label:"Keyboard Shortcuts",action:"shortcuts",commands:["Shift+Alt+Slash","Shift+Alt+?"],extension:"shortcuts"},{label:"Market Depth",action:"marketDepth",commands:["Shift+Alt+KeyD"],extension:"marketDepth"},{label:"L2 Heat Map",action:"l2HeatMap",commands:["Shift+Alt+KeyM"],extension:"marketDepth"},{label:"Import Data",action:"dataLoader",commands:["Alt+KeyI"],extension:"dataLoader"},{label:"Trade From Chart",action:"tfc",commands:["Shift+Alt+KeyP"],extension:"tfc"}],keysToRepeat:["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","-","_","=","+"]},systemMessages:{copytoclipboard:{message:"Copied to clipboard.",type:"info",displayTime:5},logdeactivated:{message:"Log scale has been deactivated due to a zero or negative value in your visible dataset.",type:"warning"}},marketFactory:a.Pz.Market.Symbology.factory,chartEngineParams:{preferences:{labels:!1,currentPriceLine:!0,whitespace:0}},quoteFeeds:[{quoteFeed:e.quoteFeed,behavior:{refreshInterval:1,bufferSize:200}}],selector:{sideNav:".ciq-sidenav",sidePanel:"cq-side-panel",lookupComponent:".ciq-search cq-lookup",studyLegend:"cq-study-legend",timeSpanEvent:".stx-markers cq-item.span-event",markersMenuItem:".stx-markers cq-item",themesMenuItem:"cq-themes",tfcTradePanel:".stx-trade-panel",tfcToggle:".stx-trade"},themes:{builtInThemes:{"ciq-day":"Day","ciq-night":"Night"},defaultTheme:"ciq-night",nameValueStore:e.nameValueStore},menuPeriodicity:[{type:"item",label:"1 D",cmd:"Layout.setPeriodicity(1,1,'day')",value:{period:1,interval:1,timeUnit:"day"}},{type:"item",label:"1 W",cmd:"Layout.setPeriodicity(1,1,'week')",value:{period:1,interval:1,timeUnit:"week"}},{type:"item",label:"1 Mo",cmd:"Layout.setPeriodicity(1,1,'month')",value:{period:1,interval:1,timeUnit:"month"}},{type:"separator"},{type:"item",label:"1 Min",cmd:"Layout.setPeriodicity(1,1,'minute')",value:{period:1,interval:1,timeUnit:"minute"}},{type:"item",label:"5 Min",cmd:"Layout.setPeriodicity(1,5,'minute')",value:{period:1,interval:5,timeUnit:"minute"}},{type:"item",label:"10 Min",cmd:"Layout.setPeriodicity(1,10,'minute')",value:{period:1,interval:10,timeUnit:"minute"}},{type:"item",label:"15 Min",cmd:"Layout.setPeriodicity(3,5,'minute')",value:{period:1,interval:1,timeUnit:"minute"}},{type:"item",label:"30 Min",cmd:"Layout.setPeriodicity(1,30,'minute')",value:{period:1,interval:30,timeUnit:"minute"}},{type:"item",label:"1 Hour",cmd:"Layout.setPeriodicity(2,30,'minute')",value:{period:2,interval:30,timeUnit:"minute"}},{type:"item",label:"4 Hour",cmd:"Layout.setPeriodicity(8,30,'minute')",value:{period:8,interval:30,timeUnit:"minute"}},{type:"separator"},{type:"item",label:"1 Sec",cmd:"Layout.setPeriodicity(1,1,'second')",value:{period:1,interval:1,timeUnit:"second"}},{type:"item",label:"10 Sec",cmd:"Layout.setPeriodicity(1,10,'second')",value:{period:1,interval:10,timeUnit:"second"}},{type:"item",label:"30 Sec",cmd:"Layout.setPeriodicity(1,30,'second')",value:{period:1,interval:30,timeUnit:"second"}},{type:"separator"},{type:"item",label:"250 MSec",cmd:"Layout.setPeriodicity(1,250,'millisecond')",value:{period:1,interval:250,timeUnit:"millisecond"}}],menuChartStyle:[{type:"radio",label:"Candle",cmd:"Layout.ChartType('candle')"},{type:"radio",label:"Line",cmd:"Layout.ChartType('line')"},{type:"radio",label:"Vertex Line",cmd:"Layout.ChartType('vertex_line')"},{type:"radio",label:"Step",cmd:"Layout.ChartType('step')"},{type:"radio",label:"Mountain",cmd:"Layout.ChartType('mountain')"},{type:"radio",label:"Histogram",cmd:"Layout.ChartType('histogram')"}],menuChartPreferences:[{type:"checkbox",label:"Range Selector",cmd:"Layout.RangeSlider()",cls:"rangeslider-ui"},{type:"checkbox",label:"Extended Hours",cmd:"Layout.ExtendedHours()",cls:"extendedhours-ui"},{type:"checkbox",label:"Market Depth",cmd:"Layout.MarketDepth()",cls:"marketdepth-ui"},{type:"checkbox",label:"L2 Heat Map",cmd:"Layout.L2Heatmap()",cls:"marketdepth-ui"}],menuYAxisPreferences:[{type:"checkbox",label:"Log Scale",cmd:"Layout.ChartScale('log')"},{type:"checkbox",label:"Invert",cmd:"Layout.FlippedChart()"}],menuViewConfig:{},menuStudiesConfig:{excludedStudies:{stochastics:!0},alwaysDisplayDialog:{ma:!0}},menuAddOns:[{type:"item",label:"Shortcuts / Hotkeys",cmd:"Layout.showShortcuts(true)",cls:"shortcuts-ui"},{type:"item",label:"Import Data",cmd:"Channel.write('dataLoader', true)",cls:"dataLoader-ui"}],rangeMenu:[{type:"range",label:"1D",cmd:"set(1,'today')"},{type:"range",label:"5D",cmd:"set(5,'day',30,2,'minute')"},{type:"range",label:"1M",cmd:"set(1,'month',30,8,'minute')"},{type:"range",label:"3M",cmd:"set(3,'month')",cls:"hide-sm"},{type:"range",label:"6M",cmd:"set(6,'month')",cls:"hide-sm"},{type:"range",label:"YTD",cmd:"set(1,'YTD')",cls:"hide-sm"},{type:"range",label:"1Y",cmd:"set(1,'year')"},{type:"range",label:"5Y",cmd:"set(5,'year',1,1,'week')",cls:"hide-sm"},{type:"range",label:"All",cmd:"set(1,'all')",cls:"hide-sm"}],drawingTools:[{type:"dt",tool:"annotation",group:"text",label:"Annotation",shortcut:"w"},{type:"dt",tool:"arrow",group:"markings",label:"Arrow",shortcut:"a"},{type:"dt",tool:"line",group:"lines",label:"Line",shortcut:"l"},{type:"dt",tool:"horizontal",group:"lines",label:"Horizontal",shortcut:"o"},{type:"dt",tool:"vertical",group:"lines",label:"Vertical",shortcut:"p"},{type:"dt",tool:"rectangle",group:"markings",label:"Rectangle",shortcut:"r"},{type:"dt",tool:"segment",group:"lines",label:"Segment"}],drawingToolGrouping:["All","Favorites","Text","Markings","Lines"],menuRendering:{separator:()=>"\n\t\t\t\t\t<cq-separator></cq-separator>",item:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<cq-item ${i?`class="${i}"`:""} stxtap="${t}">${e}</cq-item>`,radio:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<cq-item\n\t\t\t\t\t\t${i?`class="${i}"`:""}\n\t\t\t\t\t\tstxsetget="${t}">${e}<span class="ciq-radio"><span></span></span>\n\t\t\t\t\t</cq-item>`,checkbox:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<cq-item\n\t\t\t\t\t\t${i?`class="${i}"`:""}\n\t\t\t\t\t\tstxsetget="${t}">${e}<span class="ciq-checkbox ciq-active"><span></span></span>\n\t\t\t\t\t</cq-item>`,radioOptions:({label:e,cmd:t,options:i,cls:a})=>`\n\t\t\t\t\t<cq-item ${a?`class="${a}"`:""} stxsetget="${t}">\n\t\t\t\t\t\t<span class="ciq-edit" stxtap="${i}" keyboard-selectable-child="true"></span>\n\t\t\t\t\t\t<div>${e}<span class="ciq-radio"><span></span></span></div>\n\t\t\t\t\t</cq-item>`,checkboxOptions:({label:e,cmd:t,options:i,cls:a})=>`\n\t\t\t\t\t<cq-item ${a?`class="${a}"`:""}>\n\t\t\t\t\t\t<span class="ciq-edit" stxtap="${i}"></span>\n\t\t\t\t\t\t<div stxsetget="${t}">${e}<span class="ciq-checkbox ciq-active"><span></span></span></div>\n\t\t\t\t\t</cq-item>`,doubleslider:({label:e,cmd:t,attrs:i,cls:a})=>`\n\t\t\t\t\t<cq-item\n\t\t\t\t\t\t${a?`class="${a}"`:""}\n\t\t\t\t\t\t>${e}<span><cq-double-slider ${i}></cq-double-slider><span></span></span>\n\t\t\t\t\t</cq-item>`,range:({label:e,cmd:t,cls:i})=>`\n\t\t\t\t\t<div ${i?`class="${i}"`:""} stxtap="${t}">${e}</div>\n\t\t\t\t`,dt:({tool:e,group:t,label:i,shortcut:a})=>`<cq-item\n\t\t\t\t\t\tclass="ciq-tool"\n\t\t\t\t\t\tcq-tool="${e}"\n\t\t\t\t\t\t${a?`cq-tool-shortcut="${a}"`:""}\n\t\t\t\t\t\tcq-tool-group="${t}"\n\t\t\t\t\t\tstxtap="tool('${e}')"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class="icon ${e}"></span>\n\t\t\t\t\t\t<label>${i}</label>\n\t\t\t\t\t\t<cq-help help-id="drawing_palette_${e}"></cq-help>\n\t\t\t\t\t</cq-item>\n\t\t\t\t`},getMenu(e,t){let i=this[e];if(i)return!0===t&&(t=(e,t)=>e.label>t.label?1:-1),"function"==typeof t&&(i=i.sort(t)),this[e].map((e=>this.menuRendering[e.type](e)))},addOns:{tooltip:{ohl:!0,volume:!0,series:!0,studies:!0},inactivityTimer:{minutes:30},animation:{animationParameters:{tension:.3}},rangeSlider:{},fullScreen:{},extendedHours:{filter:!0},continuousZoom:{periodicities:[{period:1,interval:"month"},{period:1,interval:"week"},{period:1,interval:"day"},{period:8,interval:30},{period:1,interval:30},{period:5,interval:1},{period:1,interval:1},{period:10,interval:1,timeUnit:"second"},{period:1,interval:1,timeUnit:"second"}],boundaries:{maxCandleWidth:15,minCandleWidth:3}},forecasting:{moduleName:"PlotComplementer",id:"forecast",decorator:{symbol:"_fcst",display:" Forecast"},renderingParameters:{chartType:"channel",opacity:.5,pattern:"dotted"},quoteFeed:e.forecastQuoteFeed,behavior:{refreshInterval:60}},outliers:{},tableView:{},dataLoader:{},shortcuts:{}},plugins:{timeSpanEventPanel:{menuItemSelector:".stx-markers cq-item.span-event",loadSample:!0,showTooltip:!0,infoPanel:{durationEvent:"main",spanEvent:"main",singleEvent:"main"}},marketDepth:{volume:!0,mountain:!0,step:!0,record:!0,height:"50%",orderbook:!0,interaction:!0},tfc:{moduleName:"TFC",loadSample:!0},crossSection:{pointFreshnessTimeout:1,enableTimeSeries:!0,timelineDateSelector:{height:95,useNotifications:!0},postInstall({uiContext:e,extension:t}){const{stx:{crossSection:i}}=e;new(a.Pz.getFn("UI.CurveEdit"))(null,e,this),new(a.Pz.getFn("CrossSection.HUD"))(null,e),this.timelineDateSelector&&new(a.Pz.getFn("CrossSection.TimelineDateSelector"))(Object.assign({crossSection:i},this.timelineDateSelector));const r=e.topNode.querySelector("cq-datepicker");r&&r.registerCallback((e=>t.setCurveDate(e)))}},visualEarnings:{menuContainer:".ciq-dropdowns"}},channels:{crosshair:"layout.crosshair",headsUp:"layout.headsUp",sidenav:"layout.sidenav",tableView:"channel.tableView",drawing:"channel.drawing",drawingPalettes:"channel.drawingPalettes",breakpoint:"channel.breakpoint",containerSize:"channel.containerSize",sidenavSize:"channel.sidenavSize",sidepanelSize:"channel.sidepanelSize",pluginPanelHeight:"channel.pluginPanelHeight",tfc:"channel.tfc",tc:"channel.tc",analystviews:"channel.analystviews",technicalinsights:"channel.technicalinsights",dataLoader:"channel.dataLoader",dialog:"channel.dialog",keyboardNavigation:"channel.keyboardNavigation"},dialogs:{dataLoader:{tag:"cq-data-dialog"},view:{tag:"cq-view-dialog"},aggregation:{tag:"cq-aggregation-dialog"},timezone:{tag:"cq-timezone-dialog"},language:{tag:"cq-language-dialog"},theme:{tag:"cq-theme-dialog"},study:{tag:"cq-study-dialog",attributes:{"cq-study-axis":!0,"cq-study-panel":"alias"}},fibSettings:{tag:"cq-fib-settings-dialog"},volumeprofileSettings:{tag:"cq-volumeprofile-settings-dialog"},share:{tag:"cq-share-dialog"}},eventMarkersImplementation:e.markerSample,scrollbarStyling:{refresh(t,i={suppressScrollX:!0}){"function"==typeof e.scrollStyle&&(t.__ps||(t.__ps=new e.scrollStyle(t,i)),t.__ps.update(t))}},nameValueStore:e.nameValueStore,onWebComponentsReady:()=>{},onChartReady:e=>{},createChart:function(e){return a.Pz.UI?(new a.Pz.UI.Chart).createChartAndUI({container:e,config:this}).stx:a.Pz.ChartEngine.create({container:e,config:this})},createCharts:function({container:e,charts:t}){e||(e=document.querySelector("cq-context"));const i=Array.from(e.querySelectorAll("cq-context-wrapper"));if(!i.length)throw"cq-context-wrapper element is required for multichart template setup";const r=i[0].outerHTML;t.slice(0,t.length-i.length).forEach((()=>{i[0].parentElement.insertAdjacentHTML("beforeend",r)}));const n=e.querySelectorAll("cq-context");this.root=null;const s=t.map((({symbol:e,chartId:t},i)=>{const r=a.Pz.clone(this);r.initialSymbol=void 0!==typeof e?e:r.initialSymbol,r.chartId=t||(this.chartId||"")+"_c"+i,r.root=n[i];return r.createChart(n[i])}));return this.createChart(e),s}};return e.quoteFeed||(t.quoteFeeds.length=0),t};var l=i(580),h=i(660),c=(i(305),i(802),i(963),i(70));i(336),i(907);o({markerSample:c.Z.MarkersSample,scrollStyle:l.Z,quoteFeed:h.Z}).createChart()}},i={};function a(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,i,r,n)=>{if(!i){var s=1/0;for(c=0;c<e.length;c++){for(var[i,r,n]=e[c],o=!0,l=0;l<i.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((e=>a.O[e](i[l])))?i.splice(l--,1):(o=!1,n<s&&(s=n));if(o){e.splice(c--,1);var h=r();void 0!==h&&(t=h)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,r,n]},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{a.b=document.baseURI||self.location.href;var e={321:0,532:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var r,n,[s,o,l]=i,h=0;if(s.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var c=l(a)}for(t&&t(i);h<s.length;h++)n=s[h],a.o(e,n)&&e[n]&&e[n][0](),e[s[h]]=0;return a.O(c)},i=self.webpackChunksample_template_webpack=self.webpackChunksample_template_webpack||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=a.O(void 0,[532,23,407,910,160],(()=>a(181)));r=a.O(r)})();